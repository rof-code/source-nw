{"remainingRequest":"C:\\Users\\rjj20\\Desktop\\renovabe\\renovabe-vue\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\rjj20\\Desktop\\renovabe\\renovabe-vue\\node_modules\\eslint-loader\\index.js??ref--13-0!C:\\Users\\rjj20\\Desktop\\renovabe\\renovabe-vue\\src\\assets\\js\\flickity.js","dependencies":[{"path":"C:\\Users\\rjj20\\Desktop\\renovabe\\renovabe-vue\\src\\assets\\js\\flickity.js","mtime":1626197128799},{"path":"C:\\Users\\rjj20\\Desktop\\renovabe\\renovabe-vue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1625689018811},{"path":"C:\\Users\\rjj20\\Desktop\\renovabe\\renovabe-vue\\node_modules\\babel-loader\\lib\\index.js","mtime":1625689018297},{"path":"C:\\Users\\rjj20\\Desktop\\renovabe\\renovabe-vue\\node_modules\\eslint-loader\\index.js","mtime":1625689023953}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:dmFyIF90eXBlb2YgPSByZXF1aXJlKCJDOi9Vc2Vycy9yamoyMC9EZXNrdG9wL3Jlbm92YWJlL3Jlbm92YWJlLXZ1ZS9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy90eXBlb2YiKS5kZWZhdWx0OwoKcmVxdWlyZSgiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LnNsaWNlLmpzIik7CgpyZXF1aXJlKCJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuc3BsaWNlLmpzIik7CgpyZXF1aXJlKCJjb3JlLWpzL21vZHVsZXMvd2ViLmRvbS1jb2xsZWN0aW9ucy5mb3ItZWFjaC5qcyIpOwoKcmVxdWlyZSgiY29yZS1qcy9tb2R1bGVzL2VzLnJlZ2V4cC5leGVjLmpzIik7CgpyZXF1aXJlKCJjb3JlLWpzL21vZHVsZXMvZXMuc3RyaW5nLnJlcGxhY2UuanMiKTsKCnJlcXVpcmUoImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5jb25jYXQuanMiKTsKCnJlcXVpcmUoImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5tYXAuanMiKTsKCnJlcXVpcmUoImNvcmUtanMvbW9kdWxlcy9lcy5zdHJpbmcubWF0Y2guanMiKTsKCi8qIQ0KICogRmxpY2tpdHkgUEFDS0FHRUQgdjIuMi4yDQogKiBUb3VjaCwgcmVzcG9uc2l2ZSwgZmxpY2thYmxlIGNhcm91c2Vscw0KICoNCiAqIExpY2Vuc2VkIEdQTHYzIGZvciBvcGVuIHNvdXJjZSB1c2UNCiAqIG9yIEZsaWNraXR5IENvbW1lcmNpYWwgTGljZW5zZSBmb3IgY29tbWVyY2lhbCB1c2UNCiAqDQogKiBodHRwczovL2ZsaWNraXR5Lm1ldGFmaXp6eS5jbw0KICogQ29weXJpZ2h0IDIwMTUtMjAyMSBNZXRhZml6enkNCiAqLwooZnVuY3Rpb24gKGUsIGkpIHsKICBpZiAodHlwZW9mIGRlZmluZSA9PSAiZnVuY3Rpb24iICYmIGRlZmluZS5hbWQpIHsKICAgIGRlZmluZSgianF1ZXJ5LWJyaWRnZXQvanF1ZXJ5LWJyaWRnZXQiLCBbImpxdWVyeSJdLCBmdW5jdGlvbiAodCkgewogICAgICByZXR1cm4gaShlLCB0KTsKICAgIH0pOwogIH0gZWxzZSBpZiAoKHR5cGVvZiBtb2R1bGUgPT09ICJ1bmRlZmluZWQiID8gInVuZGVmaW5lZCIgOiBfdHlwZW9mKG1vZHVsZSkpID09ICJvYmplY3QiICYmIG1vZHVsZS5leHBvcnRzKSB7CiAgICBtb2R1bGUuZXhwb3J0cyA9IGkoZSwgcmVxdWlyZSgianF1ZXJ5IikpOwogIH0gZWxzZSB7CiAgICBlLmpRdWVyeUJyaWRnZXQgPSBpKGUsIGUualF1ZXJ5KTsKICB9Cn0pKHdpbmRvdywgZnVuY3Rpb24gdChlLCByKSB7CiAgInVzZSBzdHJpY3QiOwoKICB2YXIgbyA9IEFycmF5LnByb3RvdHlwZS5zbGljZTsKICB2YXIgaSA9IGUuY29uc29sZTsKICB2YXIgdSA9IHR5cGVvZiBpID09ICJ1bmRlZmluZWQiID8gZnVuY3Rpb24gKCkge30gOiBmdW5jdGlvbiAodCkgewogICAgaS5lcnJvcih0KTsKICB9OwoKICBmdW5jdGlvbiBuKGgsIHMsIGMpIHsKICAgIGMgPSBjIHx8IHIgfHwgZS5qUXVlcnk7CgogICAgaWYgKCFjKSB7CiAgICAgIHJldHVybjsKICAgIH0KCiAgICBpZiAoIXMucHJvdG90eXBlLm9wdGlvbikgewogICAgICBzLnByb3RvdHlwZS5vcHRpb24gPSBmdW5jdGlvbiAodCkgewogICAgICAgIGlmICghYy5pc1BsYWluT2JqZWN0KHQpKSB7CiAgICAgICAgICByZXR1cm47CiAgICAgICAgfQoKICAgICAgICB0aGlzLm9wdGlvbnMgPSBjLmV4dGVuZCh0cnVlLCB0aGlzLm9wdGlvbnMsIHQpOwogICAgICB9OwogICAgfQoKICAgIGMuZm5baF0gPSBmdW5jdGlvbiAodCkgewogICAgICBpZiAodHlwZW9mIHQgPT0gInN0cmluZyIpIHsKICAgICAgICB2YXIgZSA9IG8uY2FsbChhcmd1bWVudHMsIDEpOwogICAgICAgIHJldHVybiBpKHRoaXMsIHQsIGUpOwogICAgICB9CgogICAgICBuKHRoaXMsIHQpOwogICAgICByZXR1cm4gdGhpczsKICAgIH07CgogICAgZnVuY3Rpb24gaSh0LCByLCBvKSB7CiAgICAgIHZhciBhOwogICAgICB2YXIgbCA9ICIkKCkuIiArIGggKyAnKCInICsgciArICciKSc7CiAgICAgIHQuZWFjaChmdW5jdGlvbiAodCwgZSkgewogICAgICAgIHZhciBpID0gYy5kYXRhKGUsIGgpOwoKICAgICAgICBpZiAoIWkpIHsKICAgICAgICAgIHUoaCArICIgbm90IGluaXRpYWxpemVkLiBDYW5ub3QgY2FsbCBtZXRob2RzLCBpLmUuICIgKyBsKTsKICAgICAgICAgIHJldHVybjsKICAgICAgICB9CgogICAgICAgIHZhciBuID0gaVtyXTsKCiAgICAgICAgaWYgKCFuIHx8IHIuY2hhckF0KDApID09ICJfIikgewogICAgICAgICAgdShsICsgIiBpcyBub3QgYSB2YWxpZCBtZXRob2QiKTsKICAgICAgICAgIHJldHVybjsKICAgICAgICB9CgogICAgICAgIHZhciBzID0gbi5hcHBseShpLCBvKTsKICAgICAgICBhID0gYSA9PT0gdW5kZWZpbmVkID8gcyA6IGE7CiAgICAgIH0pOwogICAgICByZXR1cm4gYSAhPT0gdW5kZWZpbmVkID8gYSA6IHQ7CiAgICB9CgogICAgZnVuY3Rpb24gbih0LCBuKSB7CiAgICAgIHQuZWFjaChmdW5jdGlvbiAodCwgZSkgewogICAgICAgIHZhciBpID0gYy5kYXRhKGUsIGgpOwoKICAgICAgICBpZiAoaSkgewogICAgICAgICAgaS5vcHRpb24obik7CgogICAgICAgICAgaS5faW5pdCgpOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICBpID0gbmV3IHMoZSwgbik7CiAgICAgICAgICBjLmRhdGEoZSwgaCwgaSk7CiAgICAgICAgfQogICAgICB9KTsKICAgIH0KCiAgICBhKGMpOwogIH0KCiAgZnVuY3Rpb24gYSh0KSB7CiAgICBpZiAoIXQgfHwgdCAmJiB0LmJyaWRnZXQpIHsKICAgICAgcmV0dXJuOwogICAgfQoKICAgIHQuYnJpZGdldCA9IG47CiAgfQoKICBhKHIgfHwgZS5qUXVlcnkpOwogIHJldHVybiBuOwp9KTsKCihmdW5jdGlvbiAodCwgZSkgewogIGlmICh0eXBlb2YgZGVmaW5lID09ICJmdW5jdGlvbiIgJiYgZGVmaW5lLmFtZCkgewogICAgZGVmaW5lKCJldi1lbWl0dGVyL2V2LWVtaXR0ZXIiLCBlKTsKICB9IGVsc2UgaWYgKCh0eXBlb2YgbW9kdWxlID09PSAidW5kZWZpbmVkIiA/ICJ1bmRlZmluZWQiIDogX3R5cGVvZihtb2R1bGUpKSA9PSAib2JqZWN0IiAmJiBtb2R1bGUuZXhwb3J0cykgewogICAgbW9kdWxlLmV4cG9ydHMgPSBlKCk7CiAgfSBlbHNlIHsKICAgIHQuRXZFbWl0dGVyID0gZSgpOwogIH0KfSkodHlwZW9mIHdpbmRvdyAhPSAidW5kZWZpbmVkIiA/IHdpbmRvdyA6IHRoaXMsIGZ1bmN0aW9uICgpIHsKICBmdW5jdGlvbiB0KCkge30KCiAgdmFyIGUgPSB0LnByb3RvdHlwZTsKCiAgZS5vbiA9IGZ1bmN0aW9uICh0LCBlKSB7CiAgICBpZiAoIXQgfHwgIWUpIHsKICAgICAgcmV0dXJuOwogICAgfQoKICAgIHZhciBpID0gdGhpcy5fZXZlbnRzID0gdGhpcy5fZXZlbnRzIHx8IHt9OwogICAgdmFyIG4gPSBpW3RdID0gaVt0XSB8fCBbXTsKCiAgICBpZiAobi5pbmRleE9mKGUpID09IC0xKSB7CiAgICAgIG4ucHVzaChlKTsKICAgIH0KCiAgICByZXR1cm4gdGhpczsKICB9OwoKICBlLm9uY2UgPSBmdW5jdGlvbiAodCwgZSkgewogICAgaWYgKCF0IHx8ICFlKSB7CiAgICAgIHJldHVybjsKICAgIH0KCiAgICB0aGlzLm9uKHQsIGUpOwogICAgdmFyIGkgPSB0aGlzLl9vbmNlRXZlbnRzID0gdGhpcy5fb25jZUV2ZW50cyB8fCB7fTsKICAgIHZhciBuID0gaVt0XSA9IGlbdF0gfHwge307CiAgICBuW2VdID0gdHJ1ZTsKICAgIHJldHVybiB0aGlzOwogIH07CgogIGUub2ZmID0gZnVuY3Rpb24gKHQsIGUpIHsKICAgIHZhciBpID0gdGhpcy5fZXZlbnRzICYmIHRoaXMuX2V2ZW50c1t0XTsKCiAgICBpZiAoIWkgfHwgIWkubGVuZ3RoKSB7CiAgICAgIHJldHVybjsKICAgIH0KCiAgICB2YXIgbiA9IGkuaW5kZXhPZihlKTsKCiAgICBpZiAobiAhPSAtMSkgewogICAgICBpLnNwbGljZShuLCAxKTsKICAgIH0KCiAgICByZXR1cm4gdGhpczsKICB9OwoKICBlLmVtaXRFdmVudCA9IGZ1bmN0aW9uICh0LCBlKSB7CiAgICB2YXIgaSA9IHRoaXMuX2V2ZW50cyAmJiB0aGlzLl9ldmVudHNbdF07CgogICAgaWYgKCFpIHx8ICFpLmxlbmd0aCkgewogICAgICByZXR1cm47CiAgICB9CgogICAgaSA9IGkuc2xpY2UoMCk7CiAgICBlID0gZSB8fCBbXTsKICAgIHZhciBuID0gdGhpcy5fb25jZUV2ZW50cyAmJiB0aGlzLl9vbmNlRXZlbnRzW3RdOwoKICAgIGZvciAodmFyIHMgPSAwOyBzIDwgaS5sZW5ndGg7IHMrKykgewogICAgICB2YXIgciA9IGlbc107CiAgICAgIHZhciBvID0gbiAmJiBuW3JdOwoKICAgICAgaWYgKG8pIHsKICAgICAgICB0aGlzLm9mZih0LCByKTsKICAgICAgICBkZWxldGUgbltyXTsKICAgICAgfQoKICAgICAgci5hcHBseSh0aGlzLCBlKTsKICAgIH0KCiAgICByZXR1cm4gdGhpczsKICB9OwoKICBlLmFsbE9mZiA9IGZ1bmN0aW9uICgpIHsKICAgIGRlbGV0ZSB0aGlzLl9ldmVudHM7CiAgICBkZWxldGUgdGhpcy5fb25jZUV2ZW50czsKICB9OwoKICByZXR1cm4gdDsKfSk7Ci8qIQ0KICogZ2V0U2l6ZSB2Mi4wLjMNCiAqIG1lYXN1cmUgc2l6ZSBvZiBlbGVtZW50cw0KICogTUlUIGxpY2Vuc2UNCiAqLwoKCihmdW5jdGlvbiAodCwgZSkgewogIGlmICh0eXBlb2YgZGVmaW5lID09ICJmdW5jdGlvbiIgJiYgZGVmaW5lLmFtZCkgewogICAgZGVmaW5lKCJnZXQtc2l6ZS9nZXQtc2l6ZSIsIGUpOwogIH0gZWxzZSBpZiAoKHR5cGVvZiBtb2R1bGUgPT09ICJ1bmRlZmluZWQiID8gInVuZGVmaW5lZCIgOiBfdHlwZW9mKG1vZHVsZSkpID09ICJvYmplY3QiICYmIG1vZHVsZS5leHBvcnRzKSB7CiAgICBtb2R1bGUuZXhwb3J0cyA9IGUoKTsKICB9IGVsc2UgewogICAgdC5nZXRTaXplID0gZSgpOwogIH0KfSkod2luZG93LCBmdW5jdGlvbiB0KCkgewogICJ1c2Ugc3RyaWN0IjsKCiAgZnVuY3Rpb24gbSh0KSB7CiAgICB2YXIgZSA9IHBhcnNlRmxvYXQodCk7CiAgICB2YXIgaSA9IHQuaW5kZXhPZigiJSIpID09IC0xICYmICFpc05hTihlKTsKICAgIHJldHVybiBpICYmIGU7CiAgfQoKICBmdW5jdGlvbiBlKCkge30KCiAgdmFyIGkgPSB0eXBlb2YgY29uc29sZSA9PSAidW5kZWZpbmVkIiA/IGUgOiBmdW5jdGlvbiAodCkgewogICAgY29uc29sZS5lcnJvcih0KTsKICB9OwogIHZhciB5ID0gWyJwYWRkaW5nTGVmdCIsICJwYWRkaW5nUmlnaHQiLCAicGFkZGluZ1RvcCIsICJwYWRkaW5nQm90dG9tIiwgIm1hcmdpbkxlZnQiLCAibWFyZ2luUmlnaHQiLCAibWFyZ2luVG9wIiwgIm1hcmdpbkJvdHRvbSIsICJib3JkZXJMZWZ0V2lkdGgiLCAiYm9yZGVyUmlnaHRXaWR0aCIsICJib3JkZXJUb3BXaWR0aCIsICJib3JkZXJCb3R0b21XaWR0aCJdOwogIHZhciBiID0geS5sZW5ndGg7CgogIGZ1bmN0aW9uIEUoKSB7CiAgICB2YXIgdCA9IHsKICAgICAgd2lkdGg6IDAsCiAgICAgIGhlaWdodDogMCwKICAgICAgaW5uZXJXaWR0aDogMCwKICAgICAgaW5uZXJIZWlnaHQ6IDAsCiAgICAgIG91dGVyV2lkdGg6IDAsCiAgICAgIG91dGVySGVpZ2h0OiAwCiAgICB9OwoKICAgIGZvciAodmFyIGUgPSAwOyBlIDwgYjsgZSsrKSB7CiAgICAgIHZhciBpID0geVtlXTsKICAgICAgdFtpXSA9IDA7CiAgICB9CgogICAgcmV0dXJuIHQ7CiAgfQoKICBmdW5jdGlvbiBTKHQpIHsKICAgIHZhciBlID0gZ2V0Q29tcHV0ZWRTdHlsZSh0KTsKCiAgICBpZiAoIWUpIHsKICAgICAgaSgiU3R5bGUgcmV0dXJuZWQgIiArIGUgKyAiLiBBcmUgeW91IHJ1bm5pbmcgdGhpcyBjb2RlIGluIGEgaGlkZGVuIGlmcmFtZSBvbiBGaXJlZm94PyAiICsgIlNlZSBodHRwczovL2JpdC5seS9nZXRzaXplYnVnMSIpOwogICAgfQoKICAgIHJldHVybiBlOwogIH0KCiAgdmFyIG4gPSBmYWxzZTsKICB2YXIgQzsKCiAgZnVuY3Rpb24geCgpIHsKICAgIGlmIChuKSB7CiAgICAgIHJldHVybjsKICAgIH0KCiAgICBuID0gdHJ1ZTsKICAgIHZhciB0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiZGl2Iik7CiAgICB0LnN0eWxlLndpZHRoID0gIjIwMHB4IjsKICAgIHQuc3R5bGUucGFkZGluZyA9ICIxcHggMnB4IDNweCA0cHgiOwogICAgdC5zdHlsZS5ib3JkZXJTdHlsZSA9ICJzb2xpZCI7CiAgICB0LnN0eWxlLmJvcmRlcldpZHRoID0gIjFweCAycHggM3B4IDRweCI7CiAgICB0LnN0eWxlLmJveFNpemluZyA9ICJib3JkZXItYm94IjsKICAgIHZhciBlID0gZG9jdW1lbnQuYm9keSB8fCBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQ7CiAgICBlLmFwcGVuZENoaWxkKHQpOwogICAgdmFyIGkgPSBTKHQpOwogICAgQyA9IE1hdGgucm91bmQobShpLndpZHRoKSkgPT0gMjAwOwogICAgcy5pc0JveFNpemVPdXRlciA9IEM7CiAgICBlLnJlbW92ZUNoaWxkKHQpOwogIH0KCiAgZnVuY3Rpb24gcyh0KSB7CiAgICB4KCk7CgogICAgaWYgKHR5cGVvZiB0ID09ICJzdHJpbmciKSB7CiAgICAgIHQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKHQpOwogICAgfQoKICAgIGlmICghdCB8fCBfdHlwZW9mKHQpICE9ICJvYmplY3QiIHx8ICF0Lm5vZGVUeXBlKSB7CiAgICAgIHJldHVybjsKICAgIH0KCiAgICB2YXIgZSA9IFModCk7CgogICAgaWYgKGUuZGlzcGxheSA9PSAibm9uZSIpIHsKICAgICAgcmV0dXJuIEUoKTsKICAgIH0KCiAgICB2YXIgaSA9IHt9OwogICAgaS53aWR0aCA9IHQub2Zmc2V0V2lkdGg7CiAgICBpLmhlaWdodCA9IHQub2Zmc2V0SGVpZ2h0OwogICAgdmFyIG4gPSBpLmlzQm9yZGVyQm94ID0gZS5ib3hTaXppbmcgPT0gImJvcmRlci1ib3giOwoKICAgIGZvciAodmFyIHMgPSAwOyBzIDwgYjsgcysrKSB7CiAgICAgIHZhciByID0geVtzXTsKICAgICAgdmFyIG8gPSBlW3JdOwogICAgICB2YXIgYSA9IHBhcnNlRmxvYXQobyk7CiAgICAgIGlbcl0gPSAhaXNOYU4oYSkgPyBhIDogMDsKICAgIH0KCiAgICB2YXIgbCA9IGkucGFkZGluZ0xlZnQgKyBpLnBhZGRpbmdSaWdodDsKICAgIHZhciBoID0gaS5wYWRkaW5nVG9wICsgaS5wYWRkaW5nQm90dG9tOwogICAgdmFyIGMgPSBpLm1hcmdpbkxlZnQgKyBpLm1hcmdpblJpZ2h0OwogICAgdmFyIHUgPSBpLm1hcmdpblRvcCArIGkubWFyZ2luQm90dG9tOwogICAgdmFyIGQgPSBpLmJvcmRlckxlZnRXaWR0aCArIGkuYm9yZGVyUmlnaHRXaWR0aDsKICAgIHZhciBmID0gaS5ib3JkZXJUb3BXaWR0aCArIGkuYm9yZGVyQm90dG9tV2lkdGg7CiAgICB2YXIgcCA9IG4gJiYgQzsKICAgIHZhciB2ID0gbShlLndpZHRoKTsKCiAgICBpZiAodiAhPT0gZmFsc2UpIHsKICAgICAgaS53aWR0aCA9IHYgKyAocCA/IDAgOiBsICsgZCk7CiAgICB9CgogICAgdmFyIGcgPSBtKGUuaGVpZ2h0KTsKCiAgICBpZiAoZyAhPT0gZmFsc2UpIHsKICAgICAgaS5oZWlnaHQgPSBnICsgKHAgPyAwIDogaCArIGYpOwogICAgfQoKICAgIGkuaW5uZXJXaWR0aCA9IGkud2lkdGggLSAobCArIGQpOwogICAgaS5pbm5lckhlaWdodCA9IGkuaGVpZ2h0IC0gKGggKyBmKTsKICAgIGkub3V0ZXJXaWR0aCA9IGkud2lkdGggKyBjOwogICAgaS5vdXRlckhlaWdodCA9IGkuaGVpZ2h0ICsgdTsKICAgIHJldHVybiBpOwogIH0KCiAgcmV0dXJuIHM7Cn0pOwoKKGZ1bmN0aW9uICh0LCBlKSB7CiAgInVzZSBzdHJpY3QiOwoKICBpZiAodHlwZW9mIGRlZmluZSA9PSAiZnVuY3Rpb24iICYmIGRlZmluZS5hbWQpIHsKICAgIGRlZmluZSgiZGVzYW5kcm8tbWF0Y2hlcy1zZWxlY3Rvci9tYXRjaGVzLXNlbGVjdG9yIiwgZSk7CiAgfSBlbHNlIGlmICgodHlwZW9mIG1vZHVsZSA9PT0gInVuZGVmaW5lZCIgPyAidW5kZWZpbmVkIiA6IF90eXBlb2YobW9kdWxlKSkgPT0gIm9iamVjdCIgJiYgbW9kdWxlLmV4cG9ydHMpIHsKICAgIG1vZHVsZS5leHBvcnRzID0gZSgpOwogIH0gZWxzZSB7CiAgICB0Lm1hdGNoZXNTZWxlY3RvciA9IGUoKTsKICB9Cn0pKHdpbmRvdywgZnVuY3Rpb24gdCgpIHsKICAidXNlIHN0cmljdCI7CgogIHZhciBuID0gZnVuY3Rpb24gKCkgewogICAgdmFyIHQgPSB3aW5kb3cuRWxlbWVudC5wcm90b3R5cGU7CgogICAgaWYgKHQubWF0Y2hlcykgewogICAgICByZXR1cm4gIm1hdGNoZXMiOwogICAgfQoKICAgIGlmICh0Lm1hdGNoZXNTZWxlY3RvcikgewogICAgICByZXR1cm4gIm1hdGNoZXNTZWxlY3RvciI7CiAgICB9CgogICAgdmFyIGUgPSBbIndlYmtpdCIsICJtb3oiLCAibXMiLCAibyJdOwoKICAgIGZvciAodmFyIGkgPSAwOyBpIDwgZS5sZW5ndGg7IGkrKykgewogICAgICB2YXIgbiA9IGVbaV07CiAgICAgIHZhciBzID0gbiArICJNYXRjaGVzU2VsZWN0b3IiOwoKICAgICAgaWYgKHRbc10pIHsKICAgICAgICByZXR1cm4gczsKICAgICAgfQogICAgfQogIH0oKTsKCiAgcmV0dXJuIGZ1bmN0aW9uIHQoZSwgaSkgewogICAgcmV0dXJuIGVbbl0oaSk7CiAgfTsKfSk7CgooZnVuY3Rpb24gKGUsIGkpIHsKICBpZiAodHlwZW9mIGRlZmluZSA9PSAiZnVuY3Rpb24iICYmIGRlZmluZS5hbWQpIHsKICAgIGRlZmluZSgiZml6enktdWktdXRpbHMvdXRpbHMiLCBbImRlc2FuZHJvLW1hdGNoZXMtc2VsZWN0b3IvbWF0Y2hlcy1zZWxlY3RvciJdLCBmdW5jdGlvbiAodCkgewogICAgICByZXR1cm4gaShlLCB0KTsKICAgIH0pOwogIH0gZWxzZSBpZiAoKHR5cGVvZiBtb2R1bGUgPT09ICJ1bmRlZmluZWQiID8gInVuZGVmaW5lZCIgOiBfdHlwZW9mKG1vZHVsZSkpID09ICJvYmplY3QiICYmIG1vZHVsZS5leHBvcnRzKSB7CiAgICBtb2R1bGUuZXhwb3J0cyA9IGkoZSwgcmVxdWlyZSgiZGVzYW5kcm8tbWF0Y2hlcy1zZWxlY3RvciIpKTsKICB9IGVsc2UgewogICAgZS5maXp6eVVJVXRpbHMgPSBpKGUsIGUubWF0Y2hlc1NlbGVjdG9yKTsKICB9Cn0pKHdpbmRvdywgZnVuY3Rpb24gdChoLCByKSB7CiAgdmFyIGMgPSB7fTsKCiAgYy5leHRlbmQgPSBmdW5jdGlvbiAodCwgZSkgewogICAgZm9yICh2YXIgaSBpbiBlKSB7CiAgICAgIHRbaV0gPSBlW2ldOwogICAgfQoKICAgIHJldHVybiB0OwogIH07CgogIGMubW9kdWxvID0gZnVuY3Rpb24gKHQsIGUpIHsKICAgIHJldHVybiAodCAlIGUgKyBlKSAlIGU7CiAgfTsKCiAgdmFyIGkgPSBBcnJheS5wcm90b3R5cGUuc2xpY2U7CgogIGMubWFrZUFycmF5ID0gZnVuY3Rpb24gKHQpIHsKICAgIGlmIChBcnJheS5pc0FycmF5KHQpKSB7CiAgICAgIHJldHVybiB0OwogICAgfQoKICAgIGlmICh0ID09PSBudWxsIHx8IHQgPT09IHVuZGVmaW5lZCkgewogICAgICByZXR1cm4gW107CiAgICB9CgogICAgdmFyIGUgPSBfdHlwZW9mKHQpID09ICJvYmplY3QiICYmIHR5cGVvZiB0Lmxlbmd0aCA9PSAibnVtYmVyIjsKCiAgICBpZiAoZSkgewogICAgICByZXR1cm4gaS5jYWxsKHQpOwogICAgfQoKICAgIHJldHVybiBbdF07CiAgfTsKCiAgYy5yZW1vdmVGcm9tID0gZnVuY3Rpb24gKHQsIGUpIHsKICAgIHZhciBpID0gdC5pbmRleE9mKGUpOwoKICAgIGlmIChpICE9IC0xKSB7CiAgICAgIHQuc3BsaWNlKGksIDEpOwogICAgfQogIH07CgogIGMuZ2V0UGFyZW50ID0gZnVuY3Rpb24gKHQsIGUpIHsKICAgIHdoaWxlICh0LnBhcmVudE5vZGUgJiYgdCAhPSBkb2N1bWVudC5ib2R5KSB7CiAgICAgIHQgPSB0LnBhcmVudE5vZGU7CgogICAgICBpZiAocih0LCBlKSkgewogICAgICAgIHJldHVybiB0OwogICAgICB9CiAgICB9CiAgfTsKCiAgYy5nZXRRdWVyeUVsZW1lbnQgPSBmdW5jdGlvbiAodCkgewogICAgaWYgKHR5cGVvZiB0ID09ICJzdHJpbmciKSB7CiAgICAgIHJldHVybiBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKHQpOwogICAgfQoKICAgIHJldHVybiB0OwogIH07CgogIGMuaGFuZGxlRXZlbnQgPSBmdW5jdGlvbiAodCkgewogICAgdmFyIGUgPSAib24iICsgdC50eXBlOwoKICAgIGlmICh0aGlzW2VdKSB7CiAgICAgIHRoaXNbZV0odCk7CiAgICB9CiAgfTsKCiAgYy5maWx0ZXJGaW5kRWxlbWVudHMgPSBmdW5jdGlvbiAodCwgbikgewogICAgdCA9IGMubWFrZUFycmF5KHQpOwogICAgdmFyIHMgPSBbXTsKICAgIHQuZm9yRWFjaChmdW5jdGlvbiAodCkgewogICAgICBpZiAoISh0IGluc3RhbmNlb2YgSFRNTEVsZW1lbnQpKSB7CiAgICAgICAgcmV0dXJuOwogICAgICB9CgogICAgICBpZiAoIW4pIHsKICAgICAgICBzLnB1c2godCk7CiAgICAgICAgcmV0dXJuOwogICAgICB9CgogICAgICBpZiAocih0LCBuKSkgewogICAgICAgIHMucHVzaCh0KTsKICAgICAgfQoKICAgICAgdmFyIGUgPSB0LnF1ZXJ5U2VsZWN0b3JBbGwobik7CgogICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGUubGVuZ3RoOyBpKyspIHsKICAgICAgICBzLnB1c2goZVtpXSk7CiAgICAgIH0KICAgIH0pOwogICAgcmV0dXJuIHM7CiAgfTsKCiAgYy5kZWJvdW5jZU1ldGhvZCA9IGZ1bmN0aW9uICh0LCBlLCBuKSB7CiAgICBuID0gbiB8fCAxMDA7CiAgICB2YXIgcyA9IHQucHJvdG90eXBlW2VdOwogICAgdmFyIHIgPSBlICsgIlRpbWVvdXQiOwoKICAgIHQucHJvdG90eXBlW2VdID0gZnVuY3Rpb24gKCkgewogICAgICB2YXIgdCA9IHRoaXNbcl07CiAgICAgIGNsZWFyVGltZW91dCh0KTsKICAgICAgdmFyIGUgPSBhcmd1bWVudHM7CiAgICAgIHZhciBpID0gdGhpczsKICAgICAgdGhpc1tyXSA9IHNldFRpbWVvdXQoZnVuY3Rpb24gKCkgewogICAgICAgIHMuYXBwbHkoaSwgZSk7CiAgICAgICAgZGVsZXRlIGlbcl07CiAgICAgIH0sIG4pOwogICAgfTsKICB9OwoKICBjLmRvY1JlYWR5ID0gZnVuY3Rpb24gKHQpIHsKICAgIHZhciBlID0gZG9jdW1lbnQucmVhZHlTdGF0ZTsKCiAgICBpZiAoZSA9PSAiY29tcGxldGUiIHx8IGUgPT0gImludGVyYWN0aXZlIikgewogICAgICBzZXRUaW1lb3V0KHQpOwogICAgfSBlbHNlIHsKICAgICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcigiRE9NQ29udGVudExvYWRlZCIsIHQpOwogICAgfQogIH07CgogIGMudG9EYXNoZWQgPSBmdW5jdGlvbiAodCkgewogICAgcmV0dXJuIHQucmVwbGFjZSgvKC4pKFtBLVpdKS9nLCBmdW5jdGlvbiAodCwgZSwgaSkgewogICAgICByZXR1cm4gZSArICItIiArIGk7CiAgICB9KS50b0xvd2VyQ2FzZSgpOwogIH07CgogIHZhciB1ID0gaC5jb25zb2xlOwoKICBjLmh0bWxJbml0ID0gZnVuY3Rpb24gKGEsIGwpIHsKICAgIGMuZG9jUmVhZHkoZnVuY3Rpb24gKCkgewogICAgICB2YXIgdCA9IGMudG9EYXNoZWQobCk7CiAgICAgIHZhciBzID0gImRhdGEtIiArIHQ7CiAgICAgIHZhciBlID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgiWyIgKyBzICsgIl0iKTsKICAgICAgdmFyIGkgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCIuanMtIiArIHQpOwogICAgICB2YXIgbiA9IGMubWFrZUFycmF5KGUpLmNvbmNhdChjLm1ha2VBcnJheShpKSk7CiAgICAgIHZhciByID0gcyArICItb3B0aW9ucyI7CiAgICAgIHZhciBvID0gaC5qUXVlcnk7CiAgICAgIG4uZm9yRWFjaChmdW5jdGlvbiAoZSkgewogICAgICAgIHZhciB0ID0gZS5nZXRBdHRyaWJ1dGUocykgfHwgZS5nZXRBdHRyaWJ1dGUocik7CiAgICAgICAgdmFyIGk7CgogICAgICAgIHRyeSB7CiAgICAgICAgICBpID0gdCAmJiBKU09OLnBhcnNlKHQpOwogICAgICAgIH0gY2F0Y2ggKHQpIHsKICAgICAgICAgIGlmICh1KSB7CiAgICAgICAgICAgIHUuZXJyb3IoIkVycm9yIHBhcnNpbmcgIiArIHMgKyAiIG9uICIgKyBlLmNsYXNzTmFtZSArICI6ICIgKyB0KTsKICAgICAgICAgIH0KCiAgICAgICAgICByZXR1cm47CiAgICAgICAgfQoKICAgICAgICB2YXIgbiA9IG5ldyBhKGUsIGkpOwoKICAgICAgICBpZiAobykgewogICAgICAgICAgby5kYXRhKGUsIGwsIG4pOwogICAgICAgIH0KICAgICAgfSk7CiAgICB9KTsKICB9OwoKICByZXR1cm4gYzsKfSk7CgooZnVuY3Rpb24gKGUsIGkpIHsKICBpZiAodHlwZW9mIGRlZmluZSA9PSAiZnVuY3Rpb24iICYmIGRlZmluZS5hbWQpIHsKICAgIGRlZmluZSgiZmxpY2tpdHkvanMvY2VsbCIsIFsiZ2V0LXNpemUvZ2V0LXNpemUiXSwgZnVuY3Rpb24gKHQpIHsKICAgICAgcmV0dXJuIGkoZSwgdCk7CiAgICB9KTsKICB9IGVsc2UgaWYgKCh0eXBlb2YgbW9kdWxlID09PSAidW5kZWZpbmVkIiA/ICJ1bmRlZmluZWQiIDogX3R5cGVvZihtb2R1bGUpKSA9PSAib2JqZWN0IiAmJiBtb2R1bGUuZXhwb3J0cykgewogICAgbW9kdWxlLmV4cG9ydHMgPSBpKGUsIHJlcXVpcmUoImdldC1zaXplIikpOwogIH0gZWxzZSB7CiAgICBlLkZsaWNraXR5ID0gZS5GbGlja2l0eSB8fCB7fTsKICAgIGUuRmxpY2tpdHkuQ2VsbCA9IGkoZSwgZS5nZXRTaXplKTsKICB9Cn0pKHdpbmRvdywgZnVuY3Rpb24gdChlLCBpKSB7CiAgZnVuY3Rpb24gbih0LCBlKSB7CiAgICB0aGlzLmVsZW1lbnQgPSB0OwogICAgdGhpcy5wYXJlbnQgPSBlOwogICAgdGhpcy5jcmVhdGUoKTsKICB9CgogIHZhciBzID0gbi5wcm90b3R5cGU7CgogIHMuY3JlYXRlID0gZnVuY3Rpb24gKCkgewogICAgdGhpcy5lbGVtZW50LnN0eWxlLnBvc2l0aW9uID0gImFic29sdXRlIjsKICAgIHRoaXMuZWxlbWVudC5zZXRBdHRyaWJ1dGUoImFyaWEtaGlkZGVuIiwgInRydWUiKTsKICAgIHRoaXMueCA9IDA7CiAgICB0aGlzLnNoaWZ0ID0gMDsKICB9OwoKICBzLmRlc3Ryb3kgPSBmdW5jdGlvbiAoKSB7CiAgICB0aGlzLnVuc2VsZWN0KCk7CiAgICB0aGlzLmVsZW1lbnQuc3R5bGUucG9zaXRpb24gPSAiIjsKICAgIHZhciB0ID0gdGhpcy5wYXJlbnQub3JpZ2luU2lkZTsKICAgIHRoaXMuZWxlbWVudC5zdHlsZVt0XSA9ICIiOwogICAgdGhpcy5lbGVtZW50LnJlbW92ZUF0dHJpYnV0ZSgiYXJpYS1oaWRkZW4iKTsKICB9OwoKICBzLmdldFNpemUgPSBmdW5jdGlvbiAoKSB7CiAgICB0aGlzLnNpemUgPSBpKHRoaXMuZWxlbWVudCk7CiAgfTsKCiAgcy5zZXRQb3NpdGlvbiA9IGZ1bmN0aW9uICh0KSB7CiAgICB0aGlzLnggPSB0OwogICAgdGhpcy51cGRhdGVUYXJnZXQoKTsKICAgIHRoaXMucmVuZGVyUG9zaXRpb24odCk7CiAgfTsKCiAgcy51cGRhdGVUYXJnZXQgPSBzLnNldERlZmF1bHRUYXJnZXQgPSBmdW5jdGlvbiAoKSB7CiAgICB2YXIgdCA9IHRoaXMucGFyZW50Lm9yaWdpblNpZGUgPT0gImxlZnQiID8gIm1hcmdpbkxlZnQiIDogIm1hcmdpblJpZ2h0IjsKICAgIHRoaXMudGFyZ2V0ID0gdGhpcy54ICsgdGhpcy5zaXplW3RdICsgdGhpcy5zaXplLndpZHRoICogdGhpcy5wYXJlbnQuY2VsbEFsaWduOwogIH07CgogIHMucmVuZGVyUG9zaXRpb24gPSBmdW5jdGlvbiAodCkgewogICAgdmFyIGUgPSB0aGlzLnBhcmVudC5vcmlnaW5TaWRlOwogICAgdGhpcy5lbGVtZW50LnN0eWxlW2VdID0gdGhpcy5wYXJlbnQuZ2V0UG9zaXRpb25WYWx1ZSh0KTsKICB9OwoKICBzLnNlbGVjdCA9IGZ1bmN0aW9uICgpIHsKICAgIHRoaXMuZWxlbWVudC5jbGFzc0xpc3QuYWRkKCJpcy1zZWxlY3RlZCIpOwogICAgdGhpcy5lbGVtZW50LnJlbW92ZUF0dHJpYnV0ZSgiYXJpYS1oaWRkZW4iKTsKICB9OwoKICBzLnVuc2VsZWN0ID0gZnVuY3Rpb24gKCkgewogICAgdGhpcy5lbGVtZW50LmNsYXNzTGlzdC5yZW1vdmUoImlzLXNlbGVjdGVkIik7CiAgICB0aGlzLmVsZW1lbnQuc2V0QXR0cmlidXRlKCJhcmlhLWhpZGRlbiIsICJ0cnVlIik7CiAgfTsKCiAgcy53cmFwU2hpZnQgPSBmdW5jdGlvbiAodCkgewogICAgdGhpcy5zaGlmdCA9IHQ7CiAgICB0aGlzLnJlbmRlclBvc2l0aW9uKHRoaXMueCArIHRoaXMucGFyZW50LnNsaWRlYWJsZVdpZHRoICogdCk7CiAgfTsKCiAgcy5yZW1vdmUgPSBmdW5jdGlvbiAoKSB7CiAgICB0aGlzLmVsZW1lbnQucGFyZW50Tm9kZS5yZW1vdmVDaGlsZCh0aGlzLmVsZW1lbnQpOwogIH07CgogIHJldHVybiBuOwp9KTsKCihmdW5jdGlvbiAodCwgZSkgewogIGlmICh0eXBlb2YgZGVmaW5lID09ICJmdW5jdGlvbiIgJiYgZGVmaW5lLmFtZCkgewogICAgZGVmaW5lKCJmbGlja2l0eS9qcy9zbGlkZSIsIGUpOwogIH0gZWxzZSBpZiAoKHR5cGVvZiBtb2R1bGUgPT09ICJ1bmRlZmluZWQiID8gInVuZGVmaW5lZCIgOiBfdHlwZW9mKG1vZHVsZSkpID09ICJvYmplY3QiICYmIG1vZHVsZS5leHBvcnRzKSB7CiAgICBtb2R1bGUuZXhwb3J0cyA9IGUoKTsKICB9IGVsc2UgewogICAgdC5GbGlja2l0eSA9IHQuRmxpY2tpdHkgfHwge307CiAgICB0LkZsaWNraXR5LlNsaWRlID0gZSgpOwogIH0KfSkod2luZG93LCBmdW5jdGlvbiB0KCkgewogICJ1c2Ugc3RyaWN0IjsKCiAgZnVuY3Rpb24gZSh0KSB7CiAgICB0aGlzLnBhcmVudCA9IHQ7CiAgICB0aGlzLmlzT3JpZ2luTGVmdCA9IHQub3JpZ2luU2lkZSA9PSAibGVmdCI7CiAgICB0aGlzLmNlbGxzID0gW107CiAgICB0aGlzLm91dGVyV2lkdGggPSAwOwogICAgdGhpcy5oZWlnaHQgPSAwOwogIH0KCiAgdmFyIGkgPSBlLnByb3RvdHlwZTsKCiAgaS5hZGRDZWxsID0gZnVuY3Rpb24gKHQpIHsKICAgIHRoaXMuY2VsbHMucHVzaCh0KTsKICAgIHRoaXMub3V0ZXJXaWR0aCArPSB0LnNpemUub3V0ZXJXaWR0aDsKICAgIHRoaXMuaGVpZ2h0ID0gTWF0aC5tYXgodC5zaXplLm91dGVySGVpZ2h0LCB0aGlzLmhlaWdodCk7CgogICAgaWYgKHRoaXMuY2VsbHMubGVuZ3RoID09IDEpIHsKICAgICAgdGhpcy54ID0gdC54OwogICAgICB2YXIgZSA9IHRoaXMuaXNPcmlnaW5MZWZ0ID8gIm1hcmdpbkxlZnQiIDogIm1hcmdpblJpZ2h0IjsKICAgICAgdGhpcy5maXJzdE1hcmdpbiA9IHQuc2l6ZVtlXTsKICAgIH0KICB9OwoKICBpLnVwZGF0ZVRhcmdldCA9IGZ1bmN0aW9uICgpIHsKICAgIHZhciB0ID0gdGhpcy5pc09yaWdpbkxlZnQgPyAibWFyZ2luUmlnaHQiIDogIm1hcmdpbkxlZnQiOwogICAgdmFyIGUgPSB0aGlzLmdldExhc3RDZWxsKCk7CiAgICB2YXIgaSA9IGUgPyBlLnNpemVbdF0gOiAwOwogICAgdmFyIG4gPSB0aGlzLm91dGVyV2lkdGggLSAodGhpcy5maXJzdE1hcmdpbiArIGkpOwogICAgdGhpcy50YXJnZXQgPSB0aGlzLnggKyB0aGlzLmZpcnN0TWFyZ2luICsgbiAqIHRoaXMucGFyZW50LmNlbGxBbGlnbjsKICB9OwoKICBpLmdldExhc3RDZWxsID0gZnVuY3Rpb24gKCkgewogICAgcmV0dXJuIHRoaXMuY2VsbHNbdGhpcy5jZWxscy5sZW5ndGggLSAxXTsKICB9OwoKICBpLnNlbGVjdCA9IGZ1bmN0aW9uICgpIHsKICAgIHRoaXMuY2VsbHMuZm9yRWFjaChmdW5jdGlvbiAodCkgewogICAgICB0LnNlbGVjdCgpOwogICAgfSk7CiAgfTsKCiAgaS51bnNlbGVjdCA9IGZ1bmN0aW9uICgpIHsKICAgIHRoaXMuY2VsbHMuZm9yRWFjaChmdW5jdGlvbiAodCkgewogICAgICB0LnVuc2VsZWN0KCk7CiAgICB9KTsKICB9OwoKICBpLmdldENlbGxFbGVtZW50cyA9IGZ1bmN0aW9uICgpIHsKICAgIHJldHVybiB0aGlzLmNlbGxzLm1hcChmdW5jdGlvbiAodCkgewogICAgICByZXR1cm4gdC5lbGVtZW50OwogICAgfSk7CiAgfTsKCiAgcmV0dXJuIGU7Cn0pOwoKKGZ1bmN0aW9uIChlLCBpKSB7CiAgaWYgKHR5cGVvZiBkZWZpbmUgPT0gImZ1bmN0aW9uIiAmJiBkZWZpbmUuYW1kKSB7CiAgICBkZWZpbmUoImZsaWNraXR5L2pzL2FuaW1hdGUiLCBbImZpenp5LXVpLXV0aWxzL3V0aWxzIl0sIGZ1bmN0aW9uICh0KSB7CiAgICAgIHJldHVybiBpKGUsIHQpOwogICAgfSk7CiAgfSBlbHNlIGlmICgodHlwZW9mIG1vZHVsZSA9PT0gInVuZGVmaW5lZCIgPyAidW5kZWZpbmVkIiA6IF90eXBlb2YobW9kdWxlKSkgPT0gIm9iamVjdCIgJiYgbW9kdWxlLmV4cG9ydHMpIHsKICAgIG1vZHVsZS5leHBvcnRzID0gaShlLCByZXF1aXJlKCJmaXp6eS11aS11dGlscyIpKTsKICB9IGVsc2UgewogICAgZS5GbGlja2l0eSA9IGUuRmxpY2tpdHkgfHwge307CiAgICBlLkZsaWNraXR5LmFuaW1hdGVQcm90b3R5cGUgPSBpKGUsIGUuZml6enlVSVV0aWxzKTsKICB9Cn0pKHdpbmRvdywgZnVuY3Rpb24gdChlLCBpKSB7CiAgdmFyIG4gPSB7fTsKCiAgbi5zdGFydEFuaW1hdGlvbiA9IGZ1bmN0aW9uICgpIHsKICAgIGlmICh0aGlzLmlzQW5pbWF0aW5nKSB7CiAgICAgIHJldHVybjsKICAgIH0KCiAgICB0aGlzLmlzQW5pbWF0aW5nID0gdHJ1ZTsKICAgIHRoaXMucmVzdGluZ0ZyYW1lcyA9IDA7CiAgICB0aGlzLmFuaW1hdGUoKTsKICB9OwoKICBuLmFuaW1hdGUgPSBmdW5jdGlvbiAoKSB7CiAgICB0aGlzLmFwcGx5RHJhZ0ZvcmNlKCk7CiAgICB0aGlzLmFwcGx5U2VsZWN0ZWRBdHRyYWN0aW9uKCk7CiAgICB2YXIgdCA9IHRoaXMueDsKICAgIHRoaXMuaW50ZWdyYXRlUGh5c2ljcygpOwogICAgdGhpcy5wb3NpdGlvblNsaWRlcigpOwogICAgdGhpcy5zZXR0bGUodCk7CgogICAgaWYgKHRoaXMuaXNBbmltYXRpbmcpIHsKICAgICAgdmFyIGUgPSB0aGlzOwogICAgICByZXF1ZXN0QW5pbWF0aW9uRnJhbWUoZnVuY3Rpb24gdCgpIHsKICAgICAgICBlLmFuaW1hdGUoKTsKICAgICAgfSk7CiAgICB9CiAgfTsKCiAgbi5wb3NpdGlvblNsaWRlciA9IGZ1bmN0aW9uICgpIHsKICAgIHZhciB0ID0gdGhpcy54OwoKICAgIGlmICh0aGlzLm9wdGlvbnMud3JhcEFyb3VuZCAmJiB0aGlzLmNlbGxzLmxlbmd0aCA+IDEpIHsKICAgICAgdCA9IGkubW9kdWxvKHQsIHRoaXMuc2xpZGVhYmxlV2lkdGgpOwogICAgICB0IC09IHRoaXMuc2xpZGVhYmxlV2lkdGg7CiAgICAgIHRoaXMuc2hpZnRXcmFwQ2VsbHModCk7CiAgICB9CgogICAgdGhpcy5zZXRUcmFuc2xhdGVYKHQsIHRoaXMuaXNBbmltYXRpbmcpOwogICAgdGhpcy5kaXNwYXRjaFNjcm9sbEV2ZW50KCk7CiAgfTsKCiAgbi5zZXRUcmFuc2xhdGVYID0gZnVuY3Rpb24gKHQsIGUpIHsKICAgIHQgKz0gdGhpcy5jdXJzb3JQb3NpdGlvbjsKICAgIHQgPSB0aGlzLm9wdGlvbnMucmlnaHRUb0xlZnQgPyAtdCA6IHQ7CiAgICB2YXIgaSA9IHRoaXMuZ2V0UG9zaXRpb25WYWx1ZSh0KTsKICAgIHRoaXMuc2xpZGVyLnN0eWxlLnRyYW5zZm9ybSA9IGUgPyAidHJhbnNsYXRlM2QoIiArIGkgKyAiLDAsMCkiIDogInRyYW5zbGF0ZVgoIiArIGkgKyAiKSI7CiAgfTsKCiAgbi5kaXNwYXRjaFNjcm9sbEV2ZW50ID0gZnVuY3Rpb24gKCkgewogICAgdmFyIHQgPSB0aGlzLnNsaWRlc1swXTsKCiAgICBpZiAoIXQpIHsKICAgICAgcmV0dXJuOwogICAgfQoKICAgIHZhciBlID0gLXRoaXMueCAtIHQudGFyZ2V0OwogICAgdmFyIGkgPSBlIC8gdGhpcy5zbGlkZXNXaWR0aDsKICAgIHRoaXMuZGlzcGF0Y2hFdmVudCgic2Nyb2xsIiwgbnVsbCwgW2ksIGVdKTsKICB9OwoKICBuLnBvc2l0aW9uU2xpZGVyQXRTZWxlY3RlZCA9IGZ1bmN0aW9uICgpIHsKICAgIGlmICghdGhpcy5jZWxscy5sZW5ndGgpIHsKICAgICAgcmV0dXJuOwogICAgfQoKICAgIHRoaXMueCA9IC10aGlzLnNlbGVjdGVkU2xpZGUudGFyZ2V0OwogICAgdGhpcy52ZWxvY2l0eSA9IDA7CiAgICB0aGlzLnBvc2l0aW9uU2xpZGVyKCk7CiAgfTsKCiAgbi5nZXRQb3NpdGlvblZhbHVlID0gZnVuY3Rpb24gKHQpIHsKICAgIGlmICh0aGlzLm9wdGlvbnMucGVyY2VudFBvc2l0aW9uKSB7CiAgICAgIHJldHVybiBNYXRoLnJvdW5kKHQgLyB0aGlzLnNpemUuaW5uZXJXaWR0aCAqIDFlNCkgKiAuMDEgKyAiJSI7CiAgICB9IGVsc2UgewogICAgICByZXR1cm4gTWF0aC5yb3VuZCh0KSArICJweCI7CiAgICB9CiAgfTsKCiAgbi5zZXR0bGUgPSBmdW5jdGlvbiAodCkgewogICAgdmFyIGUgPSAhdGhpcy5pc1BvaW50ZXJEb3duICYmIE1hdGgucm91bmQodGhpcy54ICogMTAwKSA9PSBNYXRoLnJvdW5kKHQgKiAxMDApOwoKICAgIGlmIChlKSB7CiAgICAgIHRoaXMucmVzdGluZ0ZyYW1lcysrOwogICAgfQoKICAgIGlmICh0aGlzLnJlc3RpbmdGcmFtZXMgPiAyKSB7CiAgICAgIHRoaXMuaXNBbmltYXRpbmcgPSBmYWxzZTsKICAgICAgZGVsZXRlIHRoaXMuaXNGcmVlU2Nyb2xsaW5nOwogICAgICB0aGlzLnBvc2l0aW9uU2xpZGVyKCk7CiAgICAgIHRoaXMuZGlzcGF0Y2hFdmVudCgic2V0dGxlIiwgbnVsbCwgW3RoaXMuc2VsZWN0ZWRJbmRleF0pOwogICAgfQogIH07CgogIG4uc2hpZnRXcmFwQ2VsbHMgPSBmdW5jdGlvbiAodCkgewogICAgdmFyIGUgPSB0aGlzLmN1cnNvclBvc2l0aW9uICsgdDsKCiAgICB0aGlzLl9zaGlmdENlbGxzKHRoaXMuYmVmb3JlU2hpZnRDZWxscywgZSwgLTEpOwoKICAgIHZhciBpID0gdGhpcy5zaXplLmlubmVyV2lkdGggLSAodCArIHRoaXMuc2xpZGVhYmxlV2lkdGggKyB0aGlzLmN1cnNvclBvc2l0aW9uKTsKCiAgICB0aGlzLl9zaGlmdENlbGxzKHRoaXMuYWZ0ZXJTaGlmdENlbGxzLCBpLCAxKTsKICB9OwoKICBuLl9zaGlmdENlbGxzID0gZnVuY3Rpb24gKHQsIGUsIGkpIHsKICAgIGZvciAodmFyIG4gPSAwOyBuIDwgdC5sZW5ndGg7IG4rKykgewogICAgICB2YXIgcyA9IHRbbl07CiAgICAgIHZhciByID0gZSA+IDAgPyBpIDogMDsKICAgICAgcy53cmFwU2hpZnQocik7CiAgICAgIGUgLT0gcy5zaXplLm91dGVyV2lkdGg7CiAgICB9CiAgfTsKCiAgbi5fdW5zaGlmdENlbGxzID0gZnVuY3Rpb24gKHQpIHsKICAgIGlmICghdCB8fCAhdC5sZW5ndGgpIHsKICAgICAgcmV0dXJuOwogICAgfQoKICAgIGZvciAodmFyIGUgPSAwOyBlIDwgdC5sZW5ndGg7IGUrKykgewogICAgICB0W2VdLndyYXBTaGlmdCgwKTsKICAgIH0KICB9OwoKICBuLmludGVncmF0ZVBoeXNpY3MgPSBmdW5jdGlvbiAoKSB7CiAgICB0aGlzLnggKz0gdGhpcy52ZWxvY2l0eTsKICAgIHRoaXMudmVsb2NpdHkgKj0gdGhpcy5nZXRGcmljdGlvbkZhY3RvcigpOwogIH07CgogIG4uYXBwbHlGb3JjZSA9IGZ1bmN0aW9uICh0KSB7CiAgICB0aGlzLnZlbG9jaXR5ICs9IHQ7CiAgfTsKCiAgbi5nZXRGcmljdGlvbkZhY3RvciA9IGZ1bmN0aW9uICgpIHsKICAgIHJldHVybiAxIC0gdGhpcy5vcHRpb25zW3RoaXMuaXNGcmVlU2Nyb2xsaW5nID8gImZyZWVTY3JvbGxGcmljdGlvbiIgOiAiZnJpY3Rpb24iXTsKICB9OwoKICBuLmdldFJlc3RpbmdQb3NpdGlvbiA9IGZ1bmN0aW9uICgpIHsKICAgIHJldHVybiB0aGlzLnggKyB0aGlzLnZlbG9jaXR5IC8gKDEgLSB0aGlzLmdldEZyaWN0aW9uRmFjdG9yKCkpOwogIH07CgogIG4uYXBwbHlEcmFnRm9yY2UgPSBmdW5jdGlvbiAoKSB7CiAgICBpZiAoIXRoaXMuaXNEcmFnZ2FibGUgfHwgIXRoaXMuaXNQb2ludGVyRG93bikgewogICAgICByZXR1cm47CiAgICB9CgogICAgdmFyIHQgPSB0aGlzLmRyYWdYIC0gdGhpcy54OwogICAgdmFyIGUgPSB0IC0gdGhpcy52ZWxvY2l0eTsKICAgIHRoaXMuYXBwbHlGb3JjZShlKTsKICB9OwoKICBuLmFwcGx5U2VsZWN0ZWRBdHRyYWN0aW9uID0gZnVuY3Rpb24gKCkgewogICAgdmFyIHQgPSB0aGlzLmlzRHJhZ2dhYmxlICYmIHRoaXMuaXNQb2ludGVyRG93bjsKCiAgICBpZiAodCB8fCB0aGlzLmlzRnJlZVNjcm9sbGluZyB8fCAhdGhpcy5zbGlkZXMubGVuZ3RoKSB7CiAgICAgIHJldHVybjsKICAgIH0KCiAgICB2YXIgZSA9IHRoaXMuc2VsZWN0ZWRTbGlkZS50YXJnZXQgKiAtMSAtIHRoaXMueDsKICAgIHZhciBpID0gZSAqIHRoaXMub3B0aW9ucy5zZWxlY3RlZEF0dHJhY3Rpb247CiAgICB0aGlzLmFwcGx5Rm9yY2UoaSk7CiAgfTsKCiAgcmV0dXJuIG47Cn0pOwoKKGZ1bmN0aW9uIChvLCBhKSB7CiAgaWYgKHR5cGVvZiBkZWZpbmUgPT0gImZ1bmN0aW9uIiAmJiBkZWZpbmUuYW1kKSB7CiAgICBkZWZpbmUoImZsaWNraXR5L2pzL2ZsaWNraXR5IiwgWyJldi1lbWl0dGVyL2V2LWVtaXR0ZXIiLCAiZ2V0LXNpemUvZ2V0LXNpemUiLCAiZml6enktdWktdXRpbHMvdXRpbHMiLCAiLi9jZWxsIiwgIi4vc2xpZGUiLCAiLi9hbmltYXRlIl0sIGZ1bmN0aW9uICh0LCBlLCBpLCBuLCBzLCByKSB7CiAgICAgIHJldHVybiBhKG8sIHQsIGUsIGksIG4sIHMsIHIpOwogICAgfSk7CiAgfSBlbHNlIGlmICgodHlwZW9mIG1vZHVsZSA9PT0gInVuZGVmaW5lZCIgPyAidW5kZWZpbmVkIiA6IF90eXBlb2YobW9kdWxlKSkgPT0gIm9iamVjdCIgJiYgbW9kdWxlLmV4cG9ydHMpIHsKICAgIG1vZHVsZS5leHBvcnRzID0gYShvLCByZXF1aXJlKCJldi1lbWl0dGVyIiksIHJlcXVpcmUoImdldC1zaXplIiksIHJlcXVpcmUoImZpenp5LXVpLXV0aWxzIiksIHJlcXVpcmUoIi4vY2VsbCIpLCByZXF1aXJlKCIuL3NsaWRlIiksIHJlcXVpcmUoIi4vYW5pbWF0ZSIpKTsKICB9IGVsc2UgewogICAgdmFyIHQgPSBvLkZsaWNraXR5OwogICAgby5GbGlja2l0eSA9IGEobywgby5FdkVtaXR0ZXIsIG8uZ2V0U2l6ZSwgby5maXp6eVVJVXRpbHMsIHQuQ2VsbCwgdC5TbGlkZSwgdC5hbmltYXRlUHJvdG90eXBlKTsKICB9Cn0pKHdpbmRvdywgZnVuY3Rpb24gdChuLCBlLCBpLCBhLCBzLCBvLCByKSB7CiAgdmFyIGwgPSBuLmpRdWVyeTsKICB2YXIgaCA9IG4uZ2V0Q29tcHV0ZWRTdHlsZTsKICB2YXIgYyA9IG4uY29uc29sZTsKCiAgZnVuY3Rpb24gdSh0LCBlKSB7CiAgICB0ID0gYS5tYWtlQXJyYXkodCk7CgogICAgd2hpbGUgKHQubGVuZ3RoKSB7CiAgICAgIGUuYXBwZW5kQ2hpbGQodC5zaGlmdCgpKTsKICAgIH0KICB9CgogIHZhciBkID0gMDsKICB2YXIgZiA9IHt9OwoKICBmdW5jdGlvbiBwKHQsIGUpIHsKICAgIHZhciBpID0gYS5nZXRRdWVyeUVsZW1lbnQodCk7CgogICAgaWYgKCFpKSB7CiAgICAgIGlmIChjKSB7CiAgICAgICAgYy5lcnJvcigiQmFkIGVsZW1lbnQgZm9yIEZsaWNraXR5OiAiICsgKGkgfHwgdCkpOwogICAgICB9CgogICAgICByZXR1cm47CiAgICB9CgogICAgdGhpcy5lbGVtZW50ID0gaTsKCiAgICBpZiAodGhpcy5lbGVtZW50LmZsaWNraXR5R1VJRCkgewogICAgICB2YXIgbiA9IGZbdGhpcy5lbGVtZW50LmZsaWNraXR5R1VJRF07CiAgICAgIGlmIChuKSBuLm9wdGlvbihlKTsKICAgICAgcmV0dXJuIG47CiAgICB9CgogICAgaWYgKGwpIHsKICAgICAgdGhpcy4kZWxlbWVudCA9IGwodGhpcy5lbGVtZW50KTsKICAgIH0KCiAgICB0aGlzLm9wdGlvbnMgPSBhLmV4dGVuZCh7fSwgdGhpcy5jb25zdHJ1Y3Rvci5kZWZhdWx0cyk7CiAgICB0aGlzLm9wdGlvbihlKTsKCiAgICB0aGlzLl9jcmVhdGUoKTsKICB9CgogIHAuZGVmYXVsdHMgPSB7CiAgICBhY2Nlc3NpYmlsaXR5OiB0cnVlLAogICAgY2VsbEFsaWduOiAiY2VudGVyIiwKICAgIGZyZWVTY3JvbGxGcmljdGlvbjogLjA3NSwKICAgIGZyaWN0aW9uOiAuMjgsCiAgICBuYW1lc3BhY2VKUXVlcnlFdmVudHM6IHRydWUsCiAgICBwZXJjZW50UG9zaXRpb246IHRydWUsCiAgICByZXNpemU6IHRydWUsCiAgICBzZWxlY3RlZEF0dHJhY3Rpb246IC4wMjUsCiAgICBzZXRHYWxsZXJ5U2l6ZTogdHJ1ZQogIH07CiAgcC5jcmVhdGVNZXRob2RzID0gW107CiAgdmFyIHYgPSBwLnByb3RvdHlwZTsKICBhLmV4dGVuZCh2LCBlLnByb3RvdHlwZSk7CgogIHYuX2NyZWF0ZSA9IGZ1bmN0aW9uICgpIHsKICAgIHZhciB0ID0gdGhpcy5ndWlkID0gKytkOwogICAgdGhpcy5lbGVtZW50LmZsaWNraXR5R1VJRCA9IHQ7CiAgICBmW3RdID0gdGhpczsKICAgIHRoaXMuc2VsZWN0ZWRJbmRleCA9IDA7CiAgICB0aGlzLnJlc3RpbmdGcmFtZXMgPSAwOwogICAgdGhpcy54ID0gMDsKICAgIHRoaXMudmVsb2NpdHkgPSAwOwogICAgdGhpcy5vcmlnaW5TaWRlID0gdGhpcy5vcHRpb25zLnJpZ2h0VG9MZWZ0ID8gInJpZ2h0IiA6ICJsZWZ0IjsKICAgIHRoaXMudmlld3BvcnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCJkaXYiKTsKICAgIHRoaXMudmlld3BvcnQuY2xhc3NOYW1lID0gImZsaWNraXR5LXZpZXdwb3J0IjsKCiAgICB0aGlzLl9jcmVhdGVTbGlkZXIoKTsKCiAgICBpZiAodGhpcy5vcHRpb25zLnJlc2l6ZSB8fCB0aGlzLm9wdGlvbnMud2F0Y2hDU1MpIHsKICAgICAgbi5hZGRFdmVudExpc3RlbmVyKCJyZXNpemUiLCB0aGlzKTsKICAgIH0KCiAgICBmb3IgKHZhciBlIGluIHRoaXMub3B0aW9ucy5vbikgewogICAgICB2YXIgaSA9IHRoaXMub3B0aW9ucy5vbltlXTsKICAgICAgdGhpcy5vbihlLCBpKTsKICAgIH0KCiAgICBwLmNyZWF0ZU1ldGhvZHMuZm9yRWFjaChmdW5jdGlvbiAodCkgewogICAgICB0aGlzW3RdKCk7CiAgICB9LCB0aGlzKTsKCiAgICBpZiAodGhpcy5vcHRpb25zLndhdGNoQ1NTKSB7CiAgICAgIHRoaXMud2F0Y2hDU1MoKTsKICAgIH0gZWxzZSB7CiAgICAgIHRoaXMuYWN0aXZhdGUoKTsKICAgIH0KICB9OwoKICB2Lm9wdGlvbiA9IGZ1bmN0aW9uICh0KSB7CiAgICBhLmV4dGVuZCh0aGlzLm9wdGlvbnMsIHQpOwogIH07CgogIHYuYWN0aXZhdGUgPSBmdW5jdGlvbiAoKSB7CiAgICBpZiAodGhpcy5pc0FjdGl2ZSkgewogICAgICByZXR1cm47CiAgICB9CgogICAgdGhpcy5pc0FjdGl2ZSA9IHRydWU7CiAgICB0aGlzLmVsZW1lbnQuY2xhc3NMaXN0LmFkZCgiZmxpY2tpdHktZW5hYmxlZCIpOwoKICAgIGlmICh0aGlzLm9wdGlvbnMucmlnaHRUb0xlZnQpIHsKICAgICAgdGhpcy5lbGVtZW50LmNsYXNzTGlzdC5hZGQoImZsaWNraXR5LXJ0bCIpOwogICAgfQoKICAgIHRoaXMuZ2V0U2l6ZSgpOwoKICAgIHZhciB0ID0gdGhpcy5fZmlsdGVyRmluZENlbGxFbGVtZW50cyh0aGlzLmVsZW1lbnQuY2hpbGRyZW4pOwoKICAgIHUodCwgdGhpcy5zbGlkZXIpOwogICAgdGhpcy52aWV3cG9ydC5hcHBlbmRDaGlsZCh0aGlzLnNsaWRlcik7CiAgICB0aGlzLmVsZW1lbnQuYXBwZW5kQ2hpbGQodGhpcy52aWV3cG9ydCk7CiAgICB0aGlzLnJlbG9hZENlbGxzKCk7CgogICAgaWYgKHRoaXMub3B0aW9ucy5hY2Nlc3NpYmlsaXR5KSB7CiAgICAgIHRoaXMuZWxlbWVudC50YWJJbmRleCA9IDA7CiAgICAgIHRoaXMuZWxlbWVudC5hZGRFdmVudExpc3RlbmVyKCJrZXlkb3duIiwgdGhpcyk7CiAgICB9CgogICAgdGhpcy5lbWl0RXZlbnQoImFjdGl2YXRlIik7CiAgICB0aGlzLnNlbGVjdEluaXRpYWxJbmRleCgpOwogICAgdGhpcy5pc0luaXRBY3RpdmF0ZWQgPSB0cnVlOwogICAgdGhpcy5kaXNwYXRjaEV2ZW50KCJyZWFkeSIpOwogIH07CgogIHYuX2NyZWF0ZVNsaWRlciA9IGZ1bmN0aW9uICgpIHsKICAgIHZhciB0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiZGl2Iik7CiAgICB0LmNsYXNzTmFtZSA9ICJmbGlja2l0eS1zbGlkZXIiOwogICAgdC5zdHlsZVt0aGlzLm9yaWdpblNpZGVdID0gMDsKICAgIHRoaXMuc2xpZGVyID0gdDsKICB9OwoKICB2Ll9maWx0ZXJGaW5kQ2VsbEVsZW1lbnRzID0gZnVuY3Rpb24gKHQpIHsKICAgIHJldHVybiBhLmZpbHRlckZpbmRFbGVtZW50cyh0LCB0aGlzLm9wdGlvbnMuY2VsbFNlbGVjdG9yKTsKICB9OwoKICB2LnJlbG9hZENlbGxzID0gZnVuY3Rpb24gKCkgewogICAgdGhpcy5jZWxscyA9IHRoaXMuX21ha2VDZWxscyh0aGlzLnNsaWRlci5jaGlsZHJlbik7CiAgICB0aGlzLnBvc2l0aW9uQ2VsbHMoKTsKCiAgICB0aGlzLl9nZXRXcmFwU2hpZnRDZWxscygpOwoKICAgIHRoaXMuc2V0R2FsbGVyeVNpemUoKTsKICB9OwoKICB2Ll9tYWtlQ2VsbHMgPSBmdW5jdGlvbiAodCkgewogICAgdmFyIGUgPSB0aGlzLl9maWx0ZXJGaW5kQ2VsbEVsZW1lbnRzKHQpOwoKICAgIHZhciBpID0gZS5tYXAoZnVuY3Rpb24gKHQpIHsKICAgICAgcmV0dXJuIG5ldyBzKHQsIHRoaXMpOwogICAgfSwgdGhpcyk7CiAgICByZXR1cm4gaTsKICB9OwoKICB2LmdldExhc3RDZWxsID0gZnVuY3Rpb24gKCkgewogICAgcmV0dXJuIHRoaXMuY2VsbHNbdGhpcy5jZWxscy5sZW5ndGggLSAxXTsKICB9OwoKICB2LmdldExhc3RTbGlkZSA9IGZ1bmN0aW9uICgpIHsKICAgIHJldHVybiB0aGlzLnNsaWRlc1t0aGlzLnNsaWRlcy5sZW5ndGggLSAxXTsKICB9OwoKICB2LnBvc2l0aW9uQ2VsbHMgPSBmdW5jdGlvbiAoKSB7CiAgICB0aGlzLl9zaXplQ2VsbHModGhpcy5jZWxscyk7CgogICAgdGhpcy5fcG9zaXRpb25DZWxscygwKTsKICB9OwoKICB2Ll9wb3NpdGlvbkNlbGxzID0gZnVuY3Rpb24gKHQpIHsKICAgIHQgPSB0IHx8IDA7CiAgICB0aGlzLm1heENlbGxIZWlnaHQgPSB0ID8gdGhpcy5tYXhDZWxsSGVpZ2h0IHx8IDAgOiAwOwogICAgdmFyIGUgPSAwOwoKICAgIGlmICh0ID4gMCkgewogICAgICB2YXIgaSA9IHRoaXMuY2VsbHNbdCAtIDFdOwogICAgICBlID0gaS54ICsgaS5zaXplLm91dGVyV2lkdGg7CiAgICB9CgogICAgdmFyIG4gPSB0aGlzLmNlbGxzLmxlbmd0aDsKCiAgICBmb3IgKHZhciBzID0gdDsgcyA8IG47IHMrKykgewogICAgICB2YXIgciA9IHRoaXMuY2VsbHNbc107CiAgICAgIHIuc2V0UG9zaXRpb24oZSk7CiAgICAgIGUgKz0gci5zaXplLm91dGVyV2lkdGg7CiAgICAgIHRoaXMubWF4Q2VsbEhlaWdodCA9IE1hdGgubWF4KHIuc2l6ZS5vdXRlckhlaWdodCwgdGhpcy5tYXhDZWxsSGVpZ2h0KTsKICAgIH0KCiAgICB0aGlzLnNsaWRlYWJsZVdpZHRoID0gZTsKICAgIHRoaXMudXBkYXRlU2xpZGVzKCk7CgogICAgdGhpcy5fY29udGFpblNsaWRlcygpOwoKICAgIHRoaXMuc2xpZGVzV2lkdGggPSBuID8gdGhpcy5nZXRMYXN0U2xpZGUoKS50YXJnZXQgLSB0aGlzLnNsaWRlc1swXS50YXJnZXQgOiAwOwogIH07CgogIHYuX3NpemVDZWxscyA9IGZ1bmN0aW9uICh0KSB7CiAgICB0LmZvckVhY2goZnVuY3Rpb24gKHQpIHsKICAgICAgdC5nZXRTaXplKCk7CiAgICB9KTsKICB9OwoKICB2LnVwZGF0ZVNsaWRlcyA9IGZ1bmN0aW9uICgpIHsKICAgIHRoaXMuc2xpZGVzID0gW107CgogICAgaWYgKCF0aGlzLmNlbGxzLmxlbmd0aCkgewogICAgICByZXR1cm47CiAgICB9CgogICAgdmFyIG4gPSBuZXcgbyh0aGlzKTsKICAgIHRoaXMuc2xpZGVzLnB1c2gobik7CiAgICB2YXIgdCA9IHRoaXMub3JpZ2luU2lkZSA9PSAibGVmdCI7CiAgICB2YXIgcyA9IHQgPyAibWFyZ2luUmlnaHQiIDogIm1hcmdpbkxlZnQiOwoKICAgIHZhciByID0gdGhpcy5fZ2V0Q2FuQ2VsbEZpdCgpOwoKICAgIHRoaXMuY2VsbHMuZm9yRWFjaChmdW5jdGlvbiAodCwgZSkgewogICAgICBpZiAoIW4uY2VsbHMubGVuZ3RoKSB7CiAgICAgICAgbi5hZGRDZWxsKHQpOwogICAgICAgIHJldHVybjsKICAgICAgfQoKICAgICAgdmFyIGkgPSBuLm91dGVyV2lkdGggLSBuLmZpcnN0TWFyZ2luICsgKHQuc2l6ZS5vdXRlcldpZHRoIC0gdC5zaXplW3NdKTsKCiAgICAgIGlmIChyLmNhbGwodGhpcywgZSwgaSkpIHsKICAgICAgICBuLmFkZENlbGwodCk7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgbi51cGRhdGVUYXJnZXQoKTsKICAgICAgICBuID0gbmV3IG8odGhpcyk7CiAgICAgICAgdGhpcy5zbGlkZXMucHVzaChuKTsKICAgICAgICBuLmFkZENlbGwodCk7CiAgICAgIH0KICAgIH0sIHRoaXMpOwogICAgbi51cGRhdGVUYXJnZXQoKTsKICAgIHRoaXMudXBkYXRlU2VsZWN0ZWRTbGlkZSgpOwogIH07CgogIHYuX2dldENhbkNlbGxGaXQgPSBmdW5jdGlvbiAoKSB7CiAgICB2YXIgdCA9IHRoaXMub3B0aW9ucy5ncm91cENlbGxzOwoKICAgIGlmICghdCkgewogICAgICByZXR1cm4gZnVuY3Rpb24gKCkgewogICAgICAgIHJldHVybiBmYWxzZTsKICAgICAgfTsKICAgIH0gZWxzZSBpZiAodHlwZW9mIHQgPT0gIm51bWJlciIpIHsKICAgICAgdmFyIGUgPSBwYXJzZUludCh0LCAxMCk7CiAgICAgIHJldHVybiBmdW5jdGlvbiAodCkgewogICAgICAgIHJldHVybiB0ICUgZSAhPT0gMDsKICAgICAgfTsKICAgIH0KCiAgICB2YXIgaSA9IHR5cGVvZiB0ID09ICJzdHJpbmciICYmIHQubWF0Y2goL14oXGQrKSUkLyk7CiAgICB2YXIgbiA9IGkgPyBwYXJzZUludChpWzFdLCAxMCkgLyAxMDAgOiAxOwogICAgcmV0dXJuIGZ1bmN0aW9uICh0LCBlKSB7CiAgICAgIHJldHVybiBlIDw9ICh0aGlzLnNpemUuaW5uZXJXaWR0aCArIDEpICogbjsKICAgIH07CiAgfTsKCiAgdi5faW5pdCA9IHYucmVwb3NpdGlvbiA9IGZ1bmN0aW9uICgpIHsKICAgIHRoaXMucG9zaXRpb25DZWxscygpOwogICAgdGhpcy5wb3NpdGlvblNsaWRlckF0U2VsZWN0ZWQoKTsKICB9OwoKICB2LmdldFNpemUgPSBmdW5jdGlvbiAoKSB7CiAgICB0aGlzLnNpemUgPSBpKHRoaXMuZWxlbWVudCk7CiAgICB0aGlzLnNldENlbGxBbGlnbigpOwogICAgdGhpcy5jdXJzb3JQb3NpdGlvbiA9IHRoaXMuc2l6ZS5pbm5lcldpZHRoICogdGhpcy5jZWxsQWxpZ247CiAgfTsKCiAgdmFyIGcgPSB7CiAgICBjZW50ZXI6IHsKICAgICAgbGVmdDogLjUsCiAgICAgIHJpZ2h0OiAuNQogICAgfSwKICAgIGxlZnQ6IHsKICAgICAgbGVmdDogMCwKICAgICAgcmlnaHQ6IDEKICAgIH0sCiAgICByaWdodDogewogICAgICByaWdodDogMCwKICAgICAgbGVmdDogMQogICAgfQogIH07CgogIHYuc2V0Q2VsbEFsaWduID0gZnVuY3Rpb24gKCkgewogICAgdmFyIHQgPSBnW3RoaXMub3B0aW9ucy5jZWxsQWxpZ25dOwogICAgdGhpcy5jZWxsQWxpZ24gPSB0ID8gdFt0aGlzLm9yaWdpblNpZGVdIDogdGhpcy5vcHRpb25zLmNlbGxBbGlnbjsKICB9OwoKICB2LnNldEdhbGxlcnlTaXplID0gZnVuY3Rpb24gKCkgewogICAgaWYgKHRoaXMub3B0aW9ucy5zZXRHYWxsZXJ5U2l6ZSkgewogICAgICB2YXIgdCA9IHRoaXMub3B0aW9ucy5hZGFwdGl2ZUhlaWdodCAmJiB0aGlzLnNlbGVjdGVkU2xpZGUgPyB0aGlzLnNlbGVjdGVkU2xpZGUuaGVpZ2h0IDogdGhpcy5tYXhDZWxsSGVpZ2h0OwogICAgICB0aGlzLnZpZXdwb3J0LnN0eWxlLmhlaWdodCA9IHQgKyAicHgiOwogICAgfQogIH07CgogIHYuX2dldFdyYXBTaGlmdENlbGxzID0gZnVuY3Rpb24gKCkgewogICAgaWYgKCF0aGlzLm9wdGlvbnMud3JhcEFyb3VuZCkgewogICAgICByZXR1cm47CiAgICB9CgogICAgdGhpcy5fdW5zaGlmdENlbGxzKHRoaXMuYmVmb3JlU2hpZnRDZWxscyk7CgogICAgdGhpcy5fdW5zaGlmdENlbGxzKHRoaXMuYWZ0ZXJTaGlmdENlbGxzKTsKCiAgICB2YXIgdCA9IHRoaXMuY3Vyc29yUG9zaXRpb247CiAgICB2YXIgZSA9IHRoaXMuY2VsbHMubGVuZ3RoIC0gMTsKICAgIHRoaXMuYmVmb3JlU2hpZnRDZWxscyA9IHRoaXMuX2dldEdhcENlbGxzKHQsIGUsIC0xKTsKICAgIHQgPSB0aGlzLnNpemUuaW5uZXJXaWR0aCAtIHRoaXMuY3Vyc29yUG9zaXRpb247CiAgICB0aGlzLmFmdGVyU2hpZnRDZWxscyA9IHRoaXMuX2dldEdhcENlbGxzKHQsIDAsIDEpOwogIH07CgogIHYuX2dldEdhcENlbGxzID0gZnVuY3Rpb24gKHQsIGUsIGkpIHsKICAgIHZhciBuID0gW107CgogICAgd2hpbGUgKHQgPiAwKSB7CiAgICAgIHZhciBzID0gdGhpcy5jZWxsc1tlXTsKCiAgICAgIGlmICghcykgewogICAgICAgIGJyZWFrOwogICAgICB9CgogICAgICBuLnB1c2gocyk7CiAgICAgIGUgKz0gaTsKICAgICAgdCAtPSBzLnNpemUub3V0ZXJXaWR0aDsKICAgIH0KCiAgICByZXR1cm4gbjsKICB9OwoKICB2Ll9jb250YWluU2xpZGVzID0gZnVuY3Rpb24gKCkgewogICAgaWYgKCF0aGlzLm9wdGlvbnMuY29udGFpbiB8fCB0aGlzLm9wdGlvbnMud3JhcEFyb3VuZCB8fCAhdGhpcy5jZWxscy5sZW5ndGgpIHsKICAgICAgcmV0dXJuOwogICAgfQoKICAgIHZhciB0ID0gdGhpcy5vcHRpb25zLnJpZ2h0VG9MZWZ0OwogICAgdmFyIGUgPSB0ID8gIm1hcmdpblJpZ2h0IiA6ICJtYXJnaW5MZWZ0IjsKICAgIHZhciBpID0gdCA/ICJtYXJnaW5MZWZ0IiA6ICJtYXJnaW5SaWdodCI7CiAgICB2YXIgbiA9IHRoaXMuc2xpZGVhYmxlV2lkdGggLSB0aGlzLmdldExhc3RDZWxsKCkuc2l6ZVtpXTsKICAgIHZhciBzID0gbiA8IHRoaXMuc2l6ZS5pbm5lcldpZHRoOwogICAgdmFyIHIgPSB0aGlzLmN1cnNvclBvc2l0aW9uICsgdGhpcy5jZWxsc1swXS5zaXplW2VdOwogICAgdmFyIG8gPSBuIC0gdGhpcy5zaXplLmlubmVyV2lkdGggKiAoMSAtIHRoaXMuY2VsbEFsaWduKTsKICAgIHRoaXMuc2xpZGVzLmZvckVhY2goZnVuY3Rpb24gKHQpIHsKICAgICAgaWYgKHMpIHsKICAgICAgICB0LnRhcmdldCA9IG4gKiB0aGlzLmNlbGxBbGlnbjsKICAgICAgfSBlbHNlIHsKICAgICAgICB0LnRhcmdldCA9IE1hdGgubWF4KHQudGFyZ2V0LCByKTsKICAgICAgICB0LnRhcmdldCA9IE1hdGgubWluKHQudGFyZ2V0LCBvKTsKICAgICAgfQogICAgfSwgdGhpcyk7CiAgfTsKCiAgdi5kaXNwYXRjaEV2ZW50ID0gZnVuY3Rpb24gKHQsIGUsIGkpIHsKICAgIHZhciBuID0gZSA/IFtlXS5jb25jYXQoaSkgOiBpOwogICAgdGhpcy5lbWl0RXZlbnQodCwgbik7CgogICAgaWYgKGwgJiYgdGhpcy4kZWxlbWVudCkgewogICAgICB0ICs9IHRoaXMub3B0aW9ucy5uYW1lc3BhY2VKUXVlcnlFdmVudHMgPyAiLmZsaWNraXR5IiA6ICIiOwogICAgICB2YXIgcyA9IHQ7CgogICAgICBpZiAoZSkgewogICAgICAgIHZhciByID0gbmV3IGwuRXZlbnQoZSk7CiAgICAgICAgci50eXBlID0gdDsKICAgICAgICBzID0gcjsKICAgICAgfQoKICAgICAgdGhpcy4kZWxlbWVudC50cmlnZ2VyKHMsIGkpOwogICAgfQogIH07CgogIHYuc2VsZWN0ID0gZnVuY3Rpb24gKHQsIGUsIGkpIHsKICAgIGlmICghdGhpcy5pc0FjdGl2ZSkgewogICAgICByZXR1cm47CiAgICB9CgogICAgdCA9IHBhcnNlSW50KHQsIDEwKTsKCiAgICB0aGlzLl93cmFwU2VsZWN0KHQpOwoKICAgIGlmICh0aGlzLm9wdGlvbnMud3JhcEFyb3VuZCB8fCBlKSB7CiAgICAgIHQgPSBhLm1vZHVsbyh0LCB0aGlzLnNsaWRlcy5sZW5ndGgpOwogICAgfQoKICAgIGlmICghdGhpcy5zbGlkZXNbdF0pIHsKICAgICAgcmV0dXJuOwogICAgfQoKICAgIHZhciBuID0gdGhpcy5zZWxlY3RlZEluZGV4OwogICAgdGhpcy5zZWxlY3RlZEluZGV4ID0gdDsKICAgIHRoaXMudXBkYXRlU2VsZWN0ZWRTbGlkZSgpOwoKICAgIGlmIChpKSB7CiAgICAgIHRoaXMucG9zaXRpb25TbGlkZXJBdFNlbGVjdGVkKCk7CiAgICB9IGVsc2UgewogICAgICB0aGlzLnN0YXJ0QW5pbWF0aW9uKCk7CiAgICB9CgogICAgaWYgKHRoaXMub3B0aW9ucy5hZGFwdGl2ZUhlaWdodCkgewogICAgICB0aGlzLnNldEdhbGxlcnlTaXplKCk7CiAgICB9CgogICAgdGhpcy5kaXNwYXRjaEV2ZW50KCJzZWxlY3QiLCBudWxsLCBbdF0pOwoKICAgIGlmICh0ICE9IG4pIHsKICAgICAgdGhpcy5kaXNwYXRjaEV2ZW50KCJjaGFuZ2UiLCBudWxsLCBbdF0pOwogICAgfQoKICAgIHRoaXMuZGlzcGF0Y2hFdmVudCgiY2VsbFNlbGVjdCIpOwogIH07CgogIHYuX3dyYXBTZWxlY3QgPSBmdW5jdGlvbiAodCkgewogICAgdmFyIGUgPSB0aGlzLnNsaWRlcy5sZW5ndGg7CiAgICB2YXIgaSA9IHRoaXMub3B0aW9ucy53cmFwQXJvdW5kICYmIGUgPiAxOwoKICAgIGlmICghaSkgewogICAgICByZXR1cm4gdDsKICAgIH0KCiAgICB2YXIgbiA9IGEubW9kdWxvKHQsIGUpOwogICAgdmFyIHMgPSBNYXRoLmFicyhuIC0gdGhpcy5zZWxlY3RlZEluZGV4KTsKICAgIHZhciByID0gTWF0aC5hYnMobiArIGUgLSB0aGlzLnNlbGVjdGVkSW5kZXgpOwogICAgdmFyIG8gPSBNYXRoLmFicyhuIC0gZSAtIHRoaXMuc2VsZWN0ZWRJbmRleCk7CgogICAgaWYgKCF0aGlzLmlzRHJhZ1NlbGVjdCAmJiByIDwgcykgewogICAgICB0ICs9IGU7CiAgICB9IGVsc2UgaWYgKCF0aGlzLmlzRHJhZ1NlbGVjdCAmJiBvIDwgcykgewogICAgICB0IC09IGU7CiAgICB9CgogICAgaWYgKHQgPCAwKSB7CiAgICAgIHRoaXMueCAtPSB0aGlzLnNsaWRlYWJsZVdpZHRoOwogICAgfSBlbHNlIGlmICh0ID49IGUpIHsKICAgICAgdGhpcy54ICs9IHRoaXMuc2xpZGVhYmxlV2lkdGg7CiAgICB9CiAgfTsKCiAgdi5wcmV2aW91cyA9IGZ1bmN0aW9uICh0LCBlKSB7CiAgICB0aGlzLnNlbGVjdCh0aGlzLnNlbGVjdGVkSW5kZXggLSAxLCB0LCBlKTsKICB9OwoKICB2Lm5leHQgPSBmdW5jdGlvbiAodCwgZSkgewogICAgdGhpcy5zZWxlY3QodGhpcy5zZWxlY3RlZEluZGV4ICsgMSwgdCwgZSk7CiAgfTsKCiAgdi51cGRhdGVTZWxlY3RlZFNsaWRlID0gZnVuY3Rpb24gKCkgewogICAgdmFyIHQgPSB0aGlzLnNsaWRlc1t0aGlzLnNlbGVjdGVkSW5kZXhdOwoKICAgIGlmICghdCkgewogICAgICByZXR1cm47CiAgICB9CgogICAgdGhpcy51bnNlbGVjdFNlbGVjdGVkU2xpZGUoKTsKICAgIHRoaXMuc2VsZWN0ZWRTbGlkZSA9IHQ7CiAgICB0LnNlbGVjdCgpOwogICAgdGhpcy5zZWxlY3RlZENlbGxzID0gdC5jZWxsczsKICAgIHRoaXMuc2VsZWN0ZWRFbGVtZW50cyA9IHQuZ2V0Q2VsbEVsZW1lbnRzKCk7CiAgICB0aGlzLnNlbGVjdGVkQ2VsbCA9IHQuY2VsbHNbMF07CiAgICB0aGlzLnNlbGVjdGVkRWxlbWVudCA9IHRoaXMuc2VsZWN0ZWRFbGVtZW50c1swXTsKICB9OwoKICB2LnVuc2VsZWN0U2VsZWN0ZWRTbGlkZSA9IGZ1bmN0aW9uICgpIHsKICAgIGlmICh0aGlzLnNlbGVjdGVkU2xpZGUpIHsKICAgICAgdGhpcy5zZWxlY3RlZFNsaWRlLnVuc2VsZWN0KCk7CiAgICB9CiAgfTsKCiAgdi5zZWxlY3RJbml0aWFsSW5kZXggPSBmdW5jdGlvbiAoKSB7CiAgICB2YXIgdCA9IHRoaXMub3B0aW9ucy5pbml0aWFsSW5kZXg7CgogICAgaWYgKHRoaXMuaXNJbml0QWN0aXZhdGVkKSB7CiAgICAgIHRoaXMuc2VsZWN0KHRoaXMuc2VsZWN0ZWRJbmRleCwgZmFsc2UsIHRydWUpOwogICAgICByZXR1cm47CiAgICB9CgogICAgaWYgKHQgJiYgdHlwZW9mIHQgPT0gInN0cmluZyIpIHsKICAgICAgdmFyIGUgPSB0aGlzLnF1ZXJ5Q2VsbCh0KTsKCiAgICAgIGlmIChlKSB7CiAgICAgICAgdGhpcy5zZWxlY3RDZWxsKHQsIGZhbHNlLCB0cnVlKTsKICAgICAgICByZXR1cm47CiAgICAgIH0KICAgIH0KCiAgICB2YXIgaSA9IDA7CgogICAgaWYgKHQgJiYgdGhpcy5zbGlkZXNbdF0pIHsKICAgICAgaSA9IHQ7CiAgICB9CgogICAgdGhpcy5zZWxlY3QoaSwgZmFsc2UsIHRydWUpOwogIH07CgogIHYuc2VsZWN0Q2VsbCA9IGZ1bmN0aW9uICh0LCBlLCBpKSB7CiAgICB2YXIgbiA9IHRoaXMucXVlcnlDZWxsKHQpOwoKICAgIGlmICghbikgewogICAgICByZXR1cm47CiAgICB9CgogICAgdmFyIHMgPSB0aGlzLmdldENlbGxTbGlkZUluZGV4KG4pOwogICAgdGhpcy5zZWxlY3QocywgZSwgaSk7CiAgfTsKCiAgdi5nZXRDZWxsU2xpZGVJbmRleCA9IGZ1bmN0aW9uICh0KSB7CiAgICBmb3IgKHZhciBlID0gMDsgZSA8IHRoaXMuc2xpZGVzLmxlbmd0aDsgZSsrKSB7CiAgICAgIHZhciBpID0gdGhpcy5zbGlkZXNbZV07CiAgICAgIHZhciBuID0gaS5jZWxscy5pbmRleE9mKHQpOwoKICAgICAgaWYgKG4gIT0gLTEpIHsKICAgICAgICByZXR1cm4gZTsKICAgICAgfQogICAgfQogIH07CgogIHYuZ2V0Q2VsbCA9IGZ1bmN0aW9uICh0KSB7CiAgICBmb3IgKHZhciBlID0gMDsgZSA8IHRoaXMuY2VsbHMubGVuZ3RoOyBlKyspIHsKICAgICAgdmFyIGkgPSB0aGlzLmNlbGxzW2VdOwoKICAgICAgaWYgKGkuZWxlbWVudCA9PSB0KSB7CiAgICAgICAgcmV0dXJuIGk7CiAgICAgIH0KICAgIH0KICB9OwoKICB2LmdldENlbGxzID0gZnVuY3Rpb24gKHQpIHsKICAgIHQgPSBhLm1ha2VBcnJheSh0KTsKICAgIHZhciBpID0gW107CiAgICB0LmZvckVhY2goZnVuY3Rpb24gKHQpIHsKICAgICAgdmFyIGUgPSB0aGlzLmdldENlbGwodCk7CgogICAgICBpZiAoZSkgewogICAgICAgIGkucHVzaChlKTsKICAgICAgfQogICAgfSwgdGhpcyk7CiAgICByZXR1cm4gaTsKICB9OwoKICB2LmdldENlbGxFbGVtZW50cyA9IGZ1bmN0aW9uICgpIHsKICAgIHJldHVybiB0aGlzLmNlbGxzLm1hcChmdW5jdGlvbiAodCkgewogICAgICByZXR1cm4gdC5lbGVtZW50OwogICAgfSk7CiAgfTsKCiAgdi5nZXRQYXJlbnRDZWxsID0gZnVuY3Rpb24gKHQpIHsKICAgIHZhciBlID0gdGhpcy5nZXRDZWxsKHQpOwoKICAgIGlmIChlKSB7CiAgICAgIHJldHVybiBlOwogICAgfQoKICAgIHQgPSBhLmdldFBhcmVudCh0LCAiLmZsaWNraXR5LXNsaWRlciA+ICoiKTsKICAgIHJldHVybiB0aGlzLmdldENlbGwodCk7CiAgfTsKCiAgdi5nZXRBZGphY2VudENlbGxFbGVtZW50cyA9IGZ1bmN0aW9uICh0LCBlKSB7CiAgICBpZiAoIXQpIHsKICAgICAgcmV0dXJuIHRoaXMuc2VsZWN0ZWRTbGlkZS5nZXRDZWxsRWxlbWVudHMoKTsKICAgIH0KCiAgICBlID0gZSA9PT0gdW5kZWZpbmVkID8gdGhpcy5zZWxlY3RlZEluZGV4IDogZTsKICAgIHZhciBpID0gdGhpcy5zbGlkZXMubGVuZ3RoOwoKICAgIGlmICgxICsgdCAqIDIgPj0gaSkgewogICAgICByZXR1cm4gdGhpcy5nZXRDZWxsRWxlbWVudHMoKTsKICAgIH0KCiAgICB2YXIgbiA9IFtdOwoKICAgIGZvciAodmFyIHMgPSBlIC0gdDsgcyA8PSBlICsgdDsgcysrKSB7CiAgICAgIHZhciByID0gdGhpcy5vcHRpb25zLndyYXBBcm91bmQgPyBhLm1vZHVsbyhzLCBpKSA6IHM7CiAgICAgIHZhciBvID0gdGhpcy5zbGlkZXNbcl07CgogICAgICBpZiAobykgewogICAgICAgIG4gPSBuLmNvbmNhdChvLmdldENlbGxFbGVtZW50cygpKTsKICAgICAgfQogICAgfQoKICAgIHJldHVybiBuOwogIH07CgogIHYucXVlcnlDZWxsID0gZnVuY3Rpb24gKHQpIHsKICAgIGlmICh0eXBlb2YgdCA9PSAibnVtYmVyIikgewogICAgICByZXR1cm4gdGhpcy5jZWxsc1t0XTsKICAgIH0KCiAgICBpZiAodHlwZW9mIHQgPT0gInN0cmluZyIpIHsKICAgICAgaWYgKHQubWF0Y2goL15bIy5dP1tcZC9dLykpIHsKICAgICAgICByZXR1cm47CiAgICAgIH0KCiAgICAgIHQgPSB0aGlzLmVsZW1lbnQucXVlcnlTZWxlY3Rvcih0KTsKICAgIH0KCiAgICByZXR1cm4gdGhpcy5nZXRDZWxsKHQpOwogIH07CgogIHYudWlDaGFuZ2UgPSBmdW5jdGlvbiAoKSB7CiAgICB0aGlzLmVtaXRFdmVudCgidWlDaGFuZ2UiKTsKICB9OwoKICB2LmNoaWxkVUlQb2ludGVyRG93biA9IGZ1bmN0aW9uICh0KSB7CiAgICBpZiAodC50eXBlICE9ICJ0b3VjaHN0YXJ0IikgewogICAgICB0LnByZXZlbnREZWZhdWx0KCk7CiAgICB9CgogICAgdGhpcy5mb2N1cygpOwogIH07CgogIHYub25yZXNpemUgPSBmdW5jdGlvbiAoKSB7CiAgICB0aGlzLndhdGNoQ1NTKCk7CiAgICB0aGlzLnJlc2l6ZSgpOwogIH07CgogIGEuZGVib3VuY2VNZXRob2QocCwgIm9ucmVzaXplIiwgMTUwKTsKCiAgdi5yZXNpemUgPSBmdW5jdGlvbiAoKSB7CiAgICBpZiAoIXRoaXMuaXNBY3RpdmUpIHsKICAgICAgcmV0dXJuOwogICAgfQoKICAgIHRoaXMuZ2V0U2l6ZSgpOwoKICAgIGlmICh0aGlzLm9wdGlvbnMud3JhcEFyb3VuZCkgewogICAgICB0aGlzLnggPSBhLm1vZHVsbyh0aGlzLngsIHRoaXMuc2xpZGVhYmxlV2lkdGgpOwogICAgfQoKICAgIHRoaXMucG9zaXRpb25DZWxscygpOwoKICAgIHRoaXMuX2dldFdyYXBTaGlmdENlbGxzKCk7CgogICAgdGhpcy5zZXRHYWxsZXJ5U2l6ZSgpOwogICAgdGhpcy5lbWl0RXZlbnQoInJlc2l6ZSIpOwogICAgdmFyIHQgPSB0aGlzLnNlbGVjdGVkRWxlbWVudHMgJiYgdGhpcy5zZWxlY3RlZEVsZW1lbnRzWzBdOwogICAgdGhpcy5zZWxlY3RDZWxsKHQsIGZhbHNlLCB0cnVlKTsKICB9OwoKICB2LndhdGNoQ1NTID0gZnVuY3Rpb24gKCkgewogICAgdmFyIHQgPSB0aGlzLm9wdGlvbnMud2F0Y2hDU1M7CgogICAgaWYgKCF0KSB7CiAgICAgIHJldHVybjsKICAgIH0KCiAgICB2YXIgZSA9IGgodGhpcy5lbGVtZW50LCAiOmFmdGVyIikuY29udGVudDsKCiAgICBpZiAoZS5pbmRleE9mKCJmbGlja2l0eSIpICE9IC0xKSB7CiAgICAgIHRoaXMuYWN0aXZhdGUoKTsKICAgIH0gZWxzZSB7CiAgICAgIHRoaXMuZGVhY3RpdmF0ZSgpOwogICAgfQogIH07CgogIHYub25rZXlkb3duID0gZnVuY3Rpb24gKHQpIHsKICAgIHZhciBlID0gZG9jdW1lbnQuYWN0aXZlRWxlbWVudCAmJiBkb2N1bWVudC5hY3RpdmVFbGVtZW50ICE9IHRoaXMuZWxlbWVudDsKCiAgICBpZiAoIXRoaXMub3B0aW9ucy5hY2Nlc3NpYmlsaXR5IHx8IGUpIHsKICAgICAgcmV0dXJuOwogICAgfQoKICAgIHZhciBpID0gcC5rZXlib2FyZEhhbmRsZXJzW3Qua2V5Q29kZV07CgogICAgaWYgKGkpIHsKICAgICAgaS5jYWxsKHRoaXMpOwogICAgfQogIH07CgogIHAua2V5Ym9hcmRIYW5kbGVycyA9IHsKICAgIDM3OiBmdW5jdGlvbiBfKCkgewogICAgICB2YXIgdCA9IHRoaXMub3B0aW9ucy5yaWdodFRvTGVmdCA/ICJuZXh0IiA6ICJwcmV2aW91cyI7CiAgICAgIHRoaXMudWlDaGFuZ2UoKTsKICAgICAgdGhpc1t0XSgpOwogICAgfSwKICAgIDM5OiBmdW5jdGlvbiBfKCkgewogICAgICB2YXIgdCA9IHRoaXMub3B0aW9ucy5yaWdodFRvTGVmdCA/ICJwcmV2aW91cyIgOiAibmV4dCI7CiAgICAgIHRoaXMudWlDaGFuZ2UoKTsKICAgICAgdGhpc1t0XSgpOwogICAgfQogIH07CgogIHYuZm9jdXMgPSBmdW5jdGlvbiAoKSB7CiAgICB2YXIgdCA9IG4ucGFnZVlPZmZzZXQ7CiAgICB0aGlzLmVsZW1lbnQuZm9jdXMoewogICAgICBwcmV2ZW50U2Nyb2xsOiB0cnVlCiAgICB9KTsKCiAgICBpZiAobi5wYWdlWU9mZnNldCAhPSB0KSB7CiAgICAgIG4uc2Nyb2xsVG8obi5wYWdlWE9mZnNldCwgdCk7CiAgICB9CiAgfTsKCiAgdi5kZWFjdGl2YXRlID0gZnVuY3Rpb24gKCkgewogICAgaWYgKCF0aGlzLmlzQWN0aXZlKSB7CiAgICAgIHJldHVybjsKICAgIH0KCiAgICB0aGlzLmVsZW1lbnQuY2xhc3NMaXN0LnJlbW92ZSgiZmxpY2tpdHktZW5hYmxlZCIpOwogICAgdGhpcy5lbGVtZW50LmNsYXNzTGlzdC5yZW1vdmUoImZsaWNraXR5LXJ0bCIpOwogICAgdGhpcy51bnNlbGVjdFNlbGVjdGVkU2xpZGUoKTsKICAgIHRoaXMuY2VsbHMuZm9yRWFjaChmdW5jdGlvbiAodCkgewogICAgICB0LmRlc3Ryb3koKTsKICAgIH0pOwogICAgdGhpcy5lbGVtZW50LnJlbW92ZUNoaWxkKHRoaXMudmlld3BvcnQpOwogICAgdSh0aGlzLnNsaWRlci5jaGlsZHJlbiwgdGhpcy5lbGVtZW50KTsKCiAgICBpZiAodGhpcy5vcHRpb25zLmFjY2Vzc2liaWxpdHkpIHsKICAgICAgdGhpcy5lbGVtZW50LnJlbW92ZUF0dHJpYnV0ZSgidGFiSW5kZXgiKTsKICAgICAgdGhpcy5lbGVtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoImtleWRvd24iLCB0aGlzKTsKICAgIH0KCiAgICB0aGlzLmlzQWN0aXZlID0gZmFsc2U7CiAgICB0aGlzLmVtaXRFdmVudCgiZGVhY3RpdmF0ZSIpOwogIH07CgogIHYuZGVzdHJveSA9IGZ1bmN0aW9uICgpIHsKICAgIHRoaXMuZGVhY3RpdmF0ZSgpOwogICAgbi5yZW1vdmVFdmVudExpc3RlbmVyKCJyZXNpemUiLCB0aGlzKTsKICAgIHRoaXMuYWxsT2ZmKCk7CiAgICB0aGlzLmVtaXRFdmVudCgiZGVzdHJveSIpOwoKICAgIGlmIChsICYmIHRoaXMuJGVsZW1lbnQpIHsKICAgICAgbC5yZW1vdmVEYXRhKHRoaXMuZWxlbWVudCwgImZsaWNraXR5Iik7CiAgICB9CgogICAgZGVsZXRlIHRoaXMuZWxlbWVudC5mbGlja2l0eUdVSUQ7CiAgICBkZWxldGUgZlt0aGlzLmd1aWRdOwogIH07CgogIGEuZXh0ZW5kKHYsIHIpOwoKICBwLmRhdGEgPSBmdW5jdGlvbiAodCkgewogICAgdCA9IGEuZ2V0UXVlcnlFbGVtZW50KHQpOwogICAgdmFyIGUgPSB0ICYmIHQuZmxpY2tpdHlHVUlEOwogICAgcmV0dXJuIGUgJiYgZltlXTsKICB9OwoKICBhLmh0bWxJbml0KHAsICJmbGlja2l0eSIpOwoKICBpZiAobCAmJiBsLmJyaWRnZXQpIHsKICAgIGwuYnJpZGdldCgiZmxpY2tpdHkiLCBwKTsKICB9CgogIHAuc2V0SlF1ZXJ5ID0gZnVuY3Rpb24gKHQpIHsKICAgIGwgPSB0OwogIH07CgogIHAuQ2VsbCA9IHM7CiAgcC5TbGlkZSA9IG87CiAgcmV0dXJuIHA7Cn0pOwovKiENCiAqIFVuaXBvaW50ZXIgdjIuMy4wDQogKiBiYXNlIGNsYXNzIGZvciBkb2luZyBvbmUgdGhpbmcgd2l0aCBwb2ludGVyIGV2ZW50DQogKiBNSVQgbGljZW5zZQ0KICovCgoKKGZ1bmN0aW9uIChlLCBpKSB7CiAgaWYgKHR5cGVvZiBkZWZpbmUgPT0gImZ1bmN0aW9uIiAmJiBkZWZpbmUuYW1kKSB7CiAgICBkZWZpbmUoInVuaXBvaW50ZXIvdW5pcG9pbnRlciIsIFsiZXYtZW1pdHRlci9ldi1lbWl0dGVyIl0sIGZ1bmN0aW9uICh0KSB7CiAgICAgIHJldHVybiBpKGUsIHQpOwogICAgfSk7CiAgfSBlbHNlIGlmICgodHlwZW9mIG1vZHVsZSA9PT0gInVuZGVmaW5lZCIgPyAidW5kZWZpbmVkIiA6IF90eXBlb2YobW9kdWxlKSkgPT0gIm9iamVjdCIgJiYgbW9kdWxlLmV4cG9ydHMpIHsKICAgIG1vZHVsZS5leHBvcnRzID0gaShlLCByZXF1aXJlKCJldi1lbWl0dGVyIikpOwogIH0gZWxzZSB7CiAgICBlLlVuaXBvaW50ZXIgPSBpKGUsIGUuRXZFbWl0dGVyKTsKICB9Cn0pKHdpbmRvdywgZnVuY3Rpb24gdChzLCBlKSB7CiAgZnVuY3Rpb24gaSgpIHt9CgogIGZ1bmN0aW9uIG4oKSB7fQoKICB2YXIgciA9IG4ucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShlLnByb3RvdHlwZSk7CgogIHIuYmluZFN0YXJ0RXZlbnQgPSBmdW5jdGlvbiAodCkgewogICAgdGhpcy5fYmluZFN0YXJ0RXZlbnQodCwgdHJ1ZSk7CiAgfTsKCiAgci51bmJpbmRTdGFydEV2ZW50ID0gZnVuY3Rpb24gKHQpIHsKICAgIHRoaXMuX2JpbmRTdGFydEV2ZW50KHQsIGZhbHNlKTsKICB9OwoKICByLl9iaW5kU3RhcnRFdmVudCA9IGZ1bmN0aW9uICh0LCBlKSB7CiAgICBlID0gZSA9PT0gdW5kZWZpbmVkID8gdHJ1ZSA6IGU7CiAgICB2YXIgaSA9IGUgPyAiYWRkRXZlbnRMaXN0ZW5lciIgOiAicmVtb3ZlRXZlbnRMaXN0ZW5lciI7CiAgICB2YXIgbiA9ICJtb3VzZWRvd24iOwoKICAgIGlmIChzLlBvaW50ZXJFdmVudCkgewogICAgICBuID0gInBvaW50ZXJkb3duIjsKICAgIH0gZWxzZSBpZiAoIm9udG91Y2hzdGFydCIgaW4gcykgewogICAgICBuID0gInRvdWNoc3RhcnQiOwogICAgfQoKICAgIHRbaV0obiwgdGhpcyk7CiAgfTsKCiAgci5oYW5kbGVFdmVudCA9IGZ1bmN0aW9uICh0KSB7CiAgICB2YXIgZSA9ICJvbiIgKyB0LnR5cGU7CgogICAgaWYgKHRoaXNbZV0pIHsKICAgICAgdGhpc1tlXSh0KTsKICAgIH0KICB9OwoKICByLmdldFRvdWNoID0gZnVuY3Rpb24gKHQpIHsKICAgIGZvciAodmFyIGUgPSAwOyBlIDwgdC5sZW5ndGg7IGUrKykgewogICAgICB2YXIgaSA9IHRbZV07CgogICAgICBpZiAoaS5pZGVudGlmaWVyID09IHRoaXMucG9pbnRlcklkZW50aWZpZXIpIHsKICAgICAgICByZXR1cm4gaTsKICAgICAgfQogICAgfQogIH07CgogIHIub25tb3VzZWRvd24gPSBmdW5jdGlvbiAodCkgewogICAgdmFyIGUgPSB0LmJ1dHRvbjsKCiAgICBpZiAoZSAmJiBlICE9PSAwICYmIGUgIT09IDEpIHsKICAgICAgcmV0dXJuOwogICAgfQoKICAgIHRoaXMuX3BvaW50ZXJEb3duKHQsIHQpOwogIH07CgogIHIub250b3VjaHN0YXJ0ID0gZnVuY3Rpb24gKHQpIHsKICAgIHRoaXMuX3BvaW50ZXJEb3duKHQsIHQuY2hhbmdlZFRvdWNoZXNbMF0pOwogIH07CgogIHIub25wb2ludGVyZG93biA9IGZ1bmN0aW9uICh0KSB7CiAgICB0aGlzLl9wb2ludGVyRG93bih0LCB0KTsKICB9OwoKICByLl9wb2ludGVyRG93biA9IGZ1bmN0aW9uICh0LCBlKSB7CiAgICBpZiAodC5idXR0b24gfHwgdGhpcy5pc1BvaW50ZXJEb3duKSB7CiAgICAgIHJldHVybjsKICAgIH0KCiAgICB0aGlzLmlzUG9pbnRlckRvd24gPSB0cnVlOwogICAgdGhpcy5wb2ludGVySWRlbnRpZmllciA9IGUucG9pbnRlcklkICE9PSB1bmRlZmluZWQgPyBlLnBvaW50ZXJJZCA6IGUuaWRlbnRpZmllcjsKICAgIHRoaXMucG9pbnRlckRvd24odCwgZSk7CiAgfTsKCiAgci5wb2ludGVyRG93biA9IGZ1bmN0aW9uICh0LCBlKSB7CiAgICB0aGlzLl9iaW5kUG9zdFN0YXJ0RXZlbnRzKHQpOwoKICAgIHRoaXMuZW1pdEV2ZW50KCJwb2ludGVyRG93biIsIFt0LCBlXSk7CiAgfTsKCiAgdmFyIG8gPSB7CiAgICBtb3VzZWRvd246IFsibW91c2Vtb3ZlIiwgIm1vdXNldXAiXSwKICAgIHRvdWNoc3RhcnQ6IFsidG91Y2htb3ZlIiwgInRvdWNoZW5kIiwgInRvdWNoY2FuY2VsIl0sCiAgICBwb2ludGVyZG93bjogWyJwb2ludGVybW92ZSIsICJwb2ludGVydXAiLCAicG9pbnRlcmNhbmNlbCJdCiAgfTsKCiAgci5fYmluZFBvc3RTdGFydEV2ZW50cyA9IGZ1bmN0aW9uICh0KSB7CiAgICBpZiAoIXQpIHsKICAgICAgcmV0dXJuOwogICAgfQoKICAgIHZhciBlID0gb1t0LnR5cGVdOwogICAgZS5mb3JFYWNoKGZ1bmN0aW9uICh0KSB7CiAgICAgIHMuYWRkRXZlbnRMaXN0ZW5lcih0LCB0aGlzKTsKICAgIH0sIHRoaXMpOwogICAgdGhpcy5fYm91bmRQb2ludGVyRXZlbnRzID0gZTsKICB9OwoKICByLl91bmJpbmRQb3N0U3RhcnRFdmVudHMgPSBmdW5jdGlvbiAoKSB7CiAgICBpZiAoIXRoaXMuX2JvdW5kUG9pbnRlckV2ZW50cykgewogICAgICByZXR1cm47CiAgICB9CgogICAgdGhpcy5fYm91bmRQb2ludGVyRXZlbnRzLmZvckVhY2goZnVuY3Rpb24gKHQpIHsKICAgICAgcy5yZW1vdmVFdmVudExpc3RlbmVyKHQsIHRoaXMpOwogICAgfSwgdGhpcyk7CgogICAgZGVsZXRlIHRoaXMuX2JvdW5kUG9pbnRlckV2ZW50czsKICB9OwoKICByLm9ubW91c2Vtb3ZlID0gZnVuY3Rpb24gKHQpIHsKICAgIHRoaXMuX3BvaW50ZXJNb3ZlKHQsIHQpOwogIH07CgogIHIub25wb2ludGVybW92ZSA9IGZ1bmN0aW9uICh0KSB7CiAgICBpZiAodC5wb2ludGVySWQgPT0gdGhpcy5wb2ludGVySWRlbnRpZmllcikgewogICAgICB0aGlzLl9wb2ludGVyTW92ZSh0LCB0KTsKICAgIH0KICB9OwoKICByLm9udG91Y2htb3ZlID0gZnVuY3Rpb24gKHQpIHsKICAgIHZhciBlID0gdGhpcy5nZXRUb3VjaCh0LmNoYW5nZWRUb3VjaGVzKTsKCiAgICBpZiAoZSkgewogICAgICB0aGlzLl9wb2ludGVyTW92ZSh0LCBlKTsKICAgIH0KICB9OwoKICByLl9wb2ludGVyTW92ZSA9IGZ1bmN0aW9uICh0LCBlKSB7CiAgICB0aGlzLnBvaW50ZXJNb3ZlKHQsIGUpOwogIH07CgogIHIucG9pbnRlck1vdmUgPSBmdW5jdGlvbiAodCwgZSkgewogICAgdGhpcy5lbWl0RXZlbnQoInBvaW50ZXJNb3ZlIiwgW3QsIGVdKTsKICB9OwoKICByLm9ubW91c2V1cCA9IGZ1bmN0aW9uICh0KSB7CiAgICB0aGlzLl9wb2ludGVyVXAodCwgdCk7CiAgfTsKCiAgci5vbnBvaW50ZXJ1cCA9IGZ1bmN0aW9uICh0KSB7CiAgICBpZiAodC5wb2ludGVySWQgPT0gdGhpcy5wb2ludGVySWRlbnRpZmllcikgewogICAgICB0aGlzLl9wb2ludGVyVXAodCwgdCk7CiAgICB9CiAgfTsKCiAgci5vbnRvdWNoZW5kID0gZnVuY3Rpb24gKHQpIHsKICAgIHZhciBlID0gdGhpcy5nZXRUb3VjaCh0LmNoYW5nZWRUb3VjaGVzKTsKCiAgICBpZiAoZSkgewogICAgICB0aGlzLl9wb2ludGVyVXAodCwgZSk7CiAgICB9CiAgfTsKCiAgci5fcG9pbnRlclVwID0gZnVuY3Rpb24gKHQsIGUpIHsKICAgIHRoaXMuX3BvaW50ZXJEb25lKCk7CgogICAgdGhpcy5wb2ludGVyVXAodCwgZSk7CiAgfTsKCiAgci5wb2ludGVyVXAgPSBmdW5jdGlvbiAodCwgZSkgewogICAgdGhpcy5lbWl0RXZlbnQoInBvaW50ZXJVcCIsIFt0LCBlXSk7CiAgfTsKCiAgci5fcG9pbnRlckRvbmUgPSBmdW5jdGlvbiAoKSB7CiAgICB0aGlzLl9wb2ludGVyUmVzZXQoKTsKCiAgICB0aGlzLl91bmJpbmRQb3N0U3RhcnRFdmVudHMoKTsKCiAgICB0aGlzLnBvaW50ZXJEb25lKCk7CiAgfTsKCiAgci5fcG9pbnRlclJlc2V0ID0gZnVuY3Rpb24gKCkgewogICAgdGhpcy5pc1BvaW50ZXJEb3duID0gZmFsc2U7CiAgICBkZWxldGUgdGhpcy5wb2ludGVySWRlbnRpZmllcjsKICB9OwoKICByLnBvaW50ZXJEb25lID0gaTsKCiAgci5vbnBvaW50ZXJjYW5jZWwgPSBmdW5jdGlvbiAodCkgewogICAgaWYgKHQucG9pbnRlcklkID09IHRoaXMucG9pbnRlcklkZW50aWZpZXIpIHsKICAgICAgdGhpcy5fcG9pbnRlckNhbmNlbCh0LCB0KTsKICAgIH0KICB9OwoKICByLm9udG91Y2hjYW5jZWwgPSBmdW5jdGlvbiAodCkgewogICAgdmFyIGUgPSB0aGlzLmdldFRvdWNoKHQuY2hhbmdlZFRvdWNoZXMpOwoKICAgIGlmIChlKSB7CiAgICAgIHRoaXMuX3BvaW50ZXJDYW5jZWwodCwgZSk7CiAgICB9CiAgfTsKCiAgci5fcG9pbnRlckNhbmNlbCA9IGZ1bmN0aW9uICh0LCBlKSB7CiAgICB0aGlzLl9wb2ludGVyRG9uZSgpOwoKICAgIHRoaXMucG9pbnRlckNhbmNlbCh0LCBlKTsKICB9OwoKICByLnBvaW50ZXJDYW5jZWwgPSBmdW5jdGlvbiAodCwgZSkgewogICAgdGhpcy5lbWl0RXZlbnQoInBvaW50ZXJDYW5jZWwiLCBbdCwgZV0pOwogIH07CgogIG4uZ2V0UG9pbnRlclBvaW50ID0gZnVuY3Rpb24gKHQpIHsKICAgIHJldHVybiB7CiAgICAgIHg6IHQucGFnZVgsCiAgICAgIHk6IHQucGFnZVkKICAgIH07CiAgfTsKCiAgcmV0dXJuIG47Cn0pOwovKiENCiAqIFVuaWRyYWdnZXIgdjIuMy4xDQogKiBEcmFnZ2FibGUgYmFzZSBjbGFzcw0KICogTUlUIGxpY2Vuc2UNCiAqLwoKCihmdW5jdGlvbiAoZSwgaSkgewogIGlmICh0eXBlb2YgZGVmaW5lID09ICJmdW5jdGlvbiIgJiYgZGVmaW5lLmFtZCkgewogICAgZGVmaW5lKCJ1bmlkcmFnZ2VyL3VuaWRyYWdnZXIiLCBbInVuaXBvaW50ZXIvdW5pcG9pbnRlciJdLCBmdW5jdGlvbiAodCkgewogICAgICByZXR1cm4gaShlLCB0KTsKICAgIH0pOwogIH0gZWxzZSBpZiAoKHR5cGVvZiBtb2R1bGUgPT09ICJ1bmRlZmluZWQiID8gInVuZGVmaW5lZCIgOiBfdHlwZW9mKG1vZHVsZSkpID09ICJvYmplY3QiICYmIG1vZHVsZS5leHBvcnRzKSB7CiAgICBtb2R1bGUuZXhwb3J0cyA9IGkoZSwgcmVxdWlyZSgidW5pcG9pbnRlciIpKTsKICB9IGVsc2UgewogICAgZS5VbmlkcmFnZ2VyID0gaShlLCBlLlVuaXBvaW50ZXIpOwogIH0KfSkod2luZG93LCBmdW5jdGlvbiB0KHIsIGUpIHsKICBmdW5jdGlvbiBpKCkge30KCiAgdmFyIG4gPSBpLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoZS5wcm90b3R5cGUpOwoKICBuLmJpbmRIYW5kbGVzID0gZnVuY3Rpb24gKCkgewogICAgdGhpcy5fYmluZEhhbmRsZXModHJ1ZSk7CiAgfTsKCiAgbi51bmJpbmRIYW5kbGVzID0gZnVuY3Rpb24gKCkgewogICAgdGhpcy5fYmluZEhhbmRsZXMoZmFsc2UpOwogIH07CgogIG4uX2JpbmRIYW5kbGVzID0gZnVuY3Rpb24gKHQpIHsKICAgIHQgPSB0ID09PSB1bmRlZmluZWQgPyB0cnVlIDogdDsKICAgIHZhciBlID0gdCA/ICJhZGRFdmVudExpc3RlbmVyIiA6ICJyZW1vdmVFdmVudExpc3RlbmVyIjsKICAgIHZhciBpID0gdCA/IHRoaXMuX3RvdWNoQWN0aW9uVmFsdWUgOiAiIjsKCiAgICBmb3IgKHZhciBuID0gMDsgbiA8IHRoaXMuaGFuZGxlcy5sZW5ndGg7IG4rKykgewogICAgICB2YXIgcyA9IHRoaXMuaGFuZGxlc1tuXTsKCiAgICAgIHRoaXMuX2JpbmRTdGFydEV2ZW50KHMsIHQpOwoKICAgICAgc1tlXSgiY2xpY2siLCB0aGlzKTsKCiAgICAgIGlmIChyLlBvaW50ZXJFdmVudCkgewogICAgICAgIHMuc3R5bGUudG91Y2hBY3Rpb24gPSBpOwogICAgICB9CiAgICB9CiAgfTsKCiAgbi5fdG91Y2hBY3Rpb25WYWx1ZSA9ICJub25lIjsKCiAgbi5wb2ludGVyRG93biA9IGZ1bmN0aW9uICh0LCBlKSB7CiAgICB2YXIgaSA9IHRoaXMub2theVBvaW50ZXJEb3duKHQpOwoKICAgIGlmICghaSkgewogICAgICByZXR1cm47CiAgICB9CgogICAgdGhpcy5wb2ludGVyRG93blBvaW50ZXIgPSB7CiAgICAgIHBhZ2VYOiBlLnBhZ2VYLAogICAgICBwYWdlWTogZS5wYWdlWQogICAgfTsKICAgIHQucHJldmVudERlZmF1bHQoKTsKICAgIHRoaXMucG9pbnRlckRvd25CbHVyKCk7CgogICAgdGhpcy5fYmluZFBvc3RTdGFydEV2ZW50cyh0KTsKCiAgICB0aGlzLmVtaXRFdmVudCgicG9pbnRlckRvd24iLCBbdCwgZV0pOwogIH07CgogIHZhciBzID0gewogICAgVEVYVEFSRUE6IHRydWUsCiAgICBJTlBVVDogdHJ1ZSwKICAgIFNFTEVDVDogdHJ1ZSwKICAgIE9QVElPTjogdHJ1ZQogIH07CiAgdmFyIG8gPSB7CiAgICByYWRpbzogdHJ1ZSwKICAgIGNoZWNrYm94OiB0cnVlLAogICAgYnV0dG9uOiB0cnVlLAogICAgc3VibWl0OiB0cnVlLAogICAgaW1hZ2U6IHRydWUsCiAgICBmaWxlOiB0cnVlCiAgfTsKCiAgbi5va2F5UG9pbnRlckRvd24gPSBmdW5jdGlvbiAodCkgewogICAgdmFyIGUgPSBzW3QudGFyZ2V0Lm5vZGVOYW1lXTsKICAgIHZhciBpID0gb1t0LnRhcmdldC50eXBlXTsKICAgIHZhciBuID0gIWUgfHwgaTsKCiAgICBpZiAoIW4pIHsKICAgICAgdGhpcy5fcG9pbnRlclJlc2V0KCk7CiAgICB9CgogICAgcmV0dXJuIG47CiAgfTsKCiAgbi5wb2ludGVyRG93bkJsdXIgPSBmdW5jdGlvbiAoKSB7CiAgICB2YXIgdCA9IGRvY3VtZW50LmFjdGl2ZUVsZW1lbnQ7CiAgICB2YXIgZSA9IHQgJiYgdC5ibHVyICYmIHQgIT0gZG9jdW1lbnQuYm9keTsKCiAgICBpZiAoZSkgewogICAgICB0LmJsdXIoKTsKICAgIH0KICB9OwoKICBuLnBvaW50ZXJNb3ZlID0gZnVuY3Rpb24gKHQsIGUpIHsKICAgIHZhciBpID0gdGhpcy5fZHJhZ1BvaW50ZXJNb3ZlKHQsIGUpOwoKICAgIHRoaXMuZW1pdEV2ZW50KCJwb2ludGVyTW92ZSIsIFt0LCBlLCBpXSk7CgogICAgdGhpcy5fZHJhZ01vdmUodCwgZSwgaSk7CiAgfTsKCiAgbi5fZHJhZ1BvaW50ZXJNb3ZlID0gZnVuY3Rpb24gKHQsIGUpIHsKICAgIHZhciBpID0gewogICAgICB4OiBlLnBhZ2VYIC0gdGhpcy5wb2ludGVyRG93blBvaW50ZXIucGFnZVgsCiAgICAgIHk6IGUucGFnZVkgLSB0aGlzLnBvaW50ZXJEb3duUG9pbnRlci5wYWdlWQogICAgfTsKCiAgICBpZiAoIXRoaXMuaXNEcmFnZ2luZyAmJiB0aGlzLmhhc0RyYWdTdGFydGVkKGkpKSB7CiAgICAgIHRoaXMuX2RyYWdTdGFydCh0LCBlKTsKICAgIH0KCiAgICByZXR1cm4gaTsKICB9OwoKICBuLmhhc0RyYWdTdGFydGVkID0gZnVuY3Rpb24gKHQpIHsKICAgIHJldHVybiBNYXRoLmFicyh0LngpID4gMyB8fCBNYXRoLmFicyh0LnkpID4gMzsKICB9OwoKICBuLnBvaW50ZXJVcCA9IGZ1bmN0aW9uICh0LCBlKSB7CiAgICB0aGlzLmVtaXRFdmVudCgicG9pbnRlclVwIiwgW3QsIGVdKTsKCiAgICB0aGlzLl9kcmFnUG9pbnRlclVwKHQsIGUpOwogIH07CgogIG4uX2RyYWdQb2ludGVyVXAgPSBmdW5jdGlvbiAodCwgZSkgewogICAgaWYgKHRoaXMuaXNEcmFnZ2luZykgewogICAgICB0aGlzLl9kcmFnRW5kKHQsIGUpOwogICAgfSBlbHNlIHsKICAgICAgdGhpcy5fc3RhdGljQ2xpY2sodCwgZSk7CiAgICB9CiAgfTsKCiAgbi5fZHJhZ1N0YXJ0ID0gZnVuY3Rpb24gKHQsIGUpIHsKICAgIHRoaXMuaXNEcmFnZ2luZyA9IHRydWU7CiAgICB0aGlzLmlzUHJldmVudGluZ0NsaWNrcyA9IHRydWU7CiAgICB0aGlzLmRyYWdTdGFydCh0LCBlKTsKICB9OwoKICBuLmRyYWdTdGFydCA9IGZ1bmN0aW9uICh0LCBlKSB7CiAgICB0aGlzLmVtaXRFdmVudCgiZHJhZ1N0YXJ0IiwgW3QsIGVdKTsKICB9OwoKICBuLl9kcmFnTW92ZSA9IGZ1bmN0aW9uICh0LCBlLCBpKSB7CiAgICBpZiAoIXRoaXMuaXNEcmFnZ2luZykgewogICAgICByZXR1cm47CiAgICB9CgogICAgdGhpcy5kcmFnTW92ZSh0LCBlLCBpKTsKICB9OwoKICBuLmRyYWdNb3ZlID0gZnVuY3Rpb24gKHQsIGUsIGkpIHsKICAgIHQucHJldmVudERlZmF1bHQoKTsKICAgIHRoaXMuZW1pdEV2ZW50KCJkcmFnTW92ZSIsIFt0LCBlLCBpXSk7CiAgfTsKCiAgbi5fZHJhZ0VuZCA9IGZ1bmN0aW9uICh0LCBlKSB7CiAgICB0aGlzLmlzRHJhZ2dpbmcgPSBmYWxzZTsKICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkgewogICAgICBkZWxldGUgdGhpcy5pc1ByZXZlbnRpbmdDbGlja3M7CiAgICB9LmJpbmQodGhpcykpOwogICAgdGhpcy5kcmFnRW5kKHQsIGUpOwogIH07CgogIG4uZHJhZ0VuZCA9IGZ1bmN0aW9uICh0LCBlKSB7CiAgICB0aGlzLmVtaXRFdmVudCgiZHJhZ0VuZCIsIFt0LCBlXSk7CiAgfTsKCiAgbi5vbmNsaWNrID0gZnVuY3Rpb24gKHQpIHsKICAgIGlmICh0aGlzLmlzUHJldmVudGluZ0NsaWNrcykgewogICAgICB0LnByZXZlbnREZWZhdWx0KCk7CiAgICB9CiAgfTsKCiAgbi5fc3RhdGljQ2xpY2sgPSBmdW5jdGlvbiAodCwgZSkgewogICAgaWYgKHRoaXMuaXNJZ25vcmluZ01vdXNlVXAgJiYgdC50eXBlID09ICJtb3VzZXVwIikgewogICAgICByZXR1cm47CiAgICB9CgogICAgdGhpcy5zdGF0aWNDbGljayh0LCBlKTsKCiAgICBpZiAodC50eXBlICE9ICJtb3VzZXVwIikgewogICAgICB0aGlzLmlzSWdub3JpbmdNb3VzZVVwID0gdHJ1ZTsKICAgICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7CiAgICAgICAgZGVsZXRlIHRoaXMuaXNJZ25vcmluZ01vdXNlVXA7CiAgICAgIH0uYmluZCh0aGlzKSwgNDAwKTsKICAgIH0KICB9OwoKICBuLnN0YXRpY0NsaWNrID0gZnVuY3Rpb24gKHQsIGUpIHsKICAgIHRoaXMuZW1pdEV2ZW50KCJzdGF0aWNDbGljayIsIFt0LCBlXSk7CiAgfTsKCiAgaS5nZXRQb2ludGVyUG9pbnQgPSBlLmdldFBvaW50ZXJQb2ludDsKICByZXR1cm4gaTsKfSk7CgooZnVuY3Rpb24gKG4sIHMpIHsKICBpZiAodHlwZW9mIGRlZmluZSA9PSAiZnVuY3Rpb24iICYmIGRlZmluZS5hbWQpIHsKICAgIGRlZmluZSgiZmxpY2tpdHkvanMvZHJhZyIsIFsiLi9mbGlja2l0eSIsICJ1bmlkcmFnZ2VyL3VuaWRyYWdnZXIiLCAiZml6enktdWktdXRpbHMvdXRpbHMiXSwgZnVuY3Rpb24gKHQsIGUsIGkpIHsKICAgICAgcmV0dXJuIHMobiwgdCwgZSwgaSk7CiAgICB9KTsKICB9IGVsc2UgaWYgKCh0eXBlb2YgbW9kdWxlID09PSAidW5kZWZpbmVkIiA/ICJ1bmRlZmluZWQiIDogX3R5cGVvZihtb2R1bGUpKSA9PSAib2JqZWN0IiAmJiBtb2R1bGUuZXhwb3J0cykgewogICAgbW9kdWxlLmV4cG9ydHMgPSBzKG4sIHJlcXVpcmUoIi4vZmxpY2tpdHkiKSwgcmVxdWlyZSgidW5pZHJhZ2dlciIpLCByZXF1aXJlKCJmaXp6eS11aS11dGlscyIpKTsKICB9IGVsc2UgewogICAgbi5GbGlja2l0eSA9IHMobiwgbi5GbGlja2l0eSwgbi5VbmlkcmFnZ2VyLCBuLmZpenp5VUlVdGlscyk7CiAgfQp9KSh3aW5kb3csIGZ1bmN0aW9uIHQobiwgZSwgaSwgYSkgewogIGEuZXh0ZW5kKGUuZGVmYXVsdHMsIHsKICAgIGRyYWdnYWJsZTogIj4xIiwKICAgIGRyYWdUaHJlc2hvbGQ6IDMKICB9KTsKICBlLmNyZWF0ZU1ldGhvZHMucHVzaCgiX2NyZWF0ZURyYWciKTsKICB2YXIgcyA9IGUucHJvdG90eXBlOwogIGEuZXh0ZW5kKHMsIGkucHJvdG90eXBlKTsKICBzLl90b3VjaEFjdGlvblZhbHVlID0gInBhbi15IjsKICB2YXIgciA9ICgiY3JlYXRlVG91Y2giIGluIGRvY3VtZW50KTsKICB2YXIgbyA9IGZhbHNlOwoKICBzLl9jcmVhdGVEcmFnID0gZnVuY3Rpb24gKCkgewogICAgdGhpcy5vbigiYWN0aXZhdGUiLCB0aGlzLm9uQWN0aXZhdGVEcmFnKTsKICAgIHRoaXMub24oInVpQ2hhbmdlIiwgdGhpcy5fdWlDaGFuZ2VEcmFnKTsKICAgIHRoaXMub24oImRlYWN0aXZhdGUiLCB0aGlzLm9uRGVhY3RpdmF0ZURyYWcpOwogICAgdGhpcy5vbigiY2VsbENoYW5nZSIsIHRoaXMudXBkYXRlRHJhZ2dhYmxlKTsKCiAgICBpZiAociAmJiAhbykgewogICAgICBuLmFkZEV2ZW50TGlzdGVuZXIoInRvdWNobW92ZSIsIGZ1bmN0aW9uICgpIHt9KTsKICAgICAgbyA9IHRydWU7CiAgICB9CiAgfTsKCiAgcy5vbkFjdGl2YXRlRHJhZyA9IGZ1bmN0aW9uICgpIHsKICAgIHRoaXMuaGFuZGxlcyA9IFt0aGlzLnZpZXdwb3J0XTsKICAgIHRoaXMuYmluZEhhbmRsZXMoKTsKICAgIHRoaXMudXBkYXRlRHJhZ2dhYmxlKCk7CiAgfTsKCiAgcy5vbkRlYWN0aXZhdGVEcmFnID0gZnVuY3Rpb24gKCkgewogICAgdGhpcy51bmJpbmRIYW5kbGVzKCk7CiAgICB0aGlzLmVsZW1lbnQuY2xhc3NMaXN0LnJlbW92ZSgiaXMtZHJhZ2dhYmxlIik7CiAgfTsKCiAgcy51cGRhdGVEcmFnZ2FibGUgPSBmdW5jdGlvbiAoKSB7CiAgICBpZiAodGhpcy5vcHRpb25zLmRyYWdnYWJsZSA9PSAiPjEiKSB7CiAgICAgIHRoaXMuaXNEcmFnZ2FibGUgPSB0aGlzLnNsaWRlcy5sZW5ndGggPiAxOwogICAgfSBlbHNlIHsKICAgICAgdGhpcy5pc0RyYWdnYWJsZSA9IHRoaXMub3B0aW9ucy5kcmFnZ2FibGU7CiAgICB9CgogICAgaWYgKHRoaXMuaXNEcmFnZ2FibGUpIHsKICAgICAgdGhpcy5lbGVtZW50LmNsYXNzTGlzdC5hZGQoImlzLWRyYWdnYWJsZSIpOwogICAgfSBlbHNlIHsKICAgICAgdGhpcy5lbGVtZW50LmNsYXNzTGlzdC5yZW1vdmUoImlzLWRyYWdnYWJsZSIpOwogICAgfQogIH07CgogIHMuYmluZERyYWcgPSBmdW5jdGlvbiAoKSB7CiAgICB0aGlzLm9wdGlvbnMuZHJhZ2dhYmxlID0gdHJ1ZTsKICAgIHRoaXMudXBkYXRlRHJhZ2dhYmxlKCk7CiAgfTsKCiAgcy51bmJpbmREcmFnID0gZnVuY3Rpb24gKCkgewogICAgdGhpcy5vcHRpb25zLmRyYWdnYWJsZSA9IGZhbHNlOwogICAgdGhpcy51cGRhdGVEcmFnZ2FibGUoKTsKICB9OwoKICBzLl91aUNoYW5nZURyYWcgPSBmdW5jdGlvbiAoKSB7CiAgICBkZWxldGUgdGhpcy5pc0ZyZWVTY3JvbGxpbmc7CiAgfTsKCiAgcy5wb2ludGVyRG93biA9IGZ1bmN0aW9uICh0LCBlKSB7CiAgICBpZiAoIXRoaXMuaXNEcmFnZ2FibGUpIHsKICAgICAgdGhpcy5fcG9pbnRlckRvd25EZWZhdWx0KHQsIGUpOwoKICAgICAgcmV0dXJuOwogICAgfQoKICAgIHZhciBpID0gdGhpcy5va2F5UG9pbnRlckRvd24odCk7CgogICAgaWYgKCFpKSB7CiAgICAgIHJldHVybjsKICAgIH0KCiAgICB0aGlzLl9wb2ludGVyRG93blByZXZlbnREZWZhdWx0KHQpOwoKICAgIHRoaXMucG9pbnRlckRvd25Gb2N1cyh0KTsKCiAgICBpZiAoZG9jdW1lbnQuYWN0aXZlRWxlbWVudCAhPSB0aGlzLmVsZW1lbnQpIHsKICAgICAgdGhpcy5wb2ludGVyRG93bkJsdXIoKTsKICAgIH0KCiAgICB0aGlzLmRyYWdYID0gdGhpcy54OwogICAgdGhpcy52aWV3cG9ydC5jbGFzc0xpc3QuYWRkKCJpcy1wb2ludGVyLWRvd24iKTsKICAgIHRoaXMucG9pbnRlckRvd25TY3JvbGwgPSBoKCk7CiAgICBuLmFkZEV2ZW50TGlzdGVuZXIoInNjcm9sbCIsIHRoaXMpOwoKICAgIHRoaXMuX3BvaW50ZXJEb3duRGVmYXVsdCh0LCBlKTsKICB9OwoKICBzLl9wb2ludGVyRG93bkRlZmF1bHQgPSBmdW5jdGlvbiAodCwgZSkgewogICAgdGhpcy5wb2ludGVyRG93blBvaW50ZXIgPSB7CiAgICAgIHBhZ2VYOiBlLnBhZ2VYLAogICAgICBwYWdlWTogZS5wYWdlWQogICAgfTsKCiAgICB0aGlzLl9iaW5kUG9zdFN0YXJ0RXZlbnRzKHQpOwoKICAgIHRoaXMuZGlzcGF0Y2hFdmVudCgicG9pbnRlckRvd24iLCB0LCBbZV0pOwogIH07CgogIHZhciBsID0gewogICAgSU5QVVQ6IHRydWUsCiAgICBURVhUQVJFQTogdHJ1ZSwKICAgIFNFTEVDVDogdHJ1ZQogIH07CgogIHMucG9pbnRlckRvd25Gb2N1cyA9IGZ1bmN0aW9uICh0KSB7CiAgICB2YXIgZSA9IGxbdC50YXJnZXQubm9kZU5hbWVdOwoKICAgIGlmICghZSkgewogICAgICB0aGlzLmZvY3VzKCk7CiAgICB9CiAgfTsKCiAgcy5fcG9pbnRlckRvd25QcmV2ZW50RGVmYXVsdCA9IGZ1bmN0aW9uICh0KSB7CiAgICB2YXIgZSA9IHQudHlwZSA9PSAidG91Y2hzdGFydCI7CiAgICB2YXIgaSA9IHQucG9pbnRlclR5cGUgPT0gInRvdWNoIjsKICAgIHZhciBuID0gbFt0LnRhcmdldC5ub2RlTmFtZV07CgogICAgaWYgKCFlICYmICFpICYmICFuKSB7CiAgICAgIHQucHJldmVudERlZmF1bHQoKTsKICAgIH0KICB9OwoKICBzLmhhc0RyYWdTdGFydGVkID0gZnVuY3Rpb24gKHQpIHsKICAgIHJldHVybiBNYXRoLmFicyh0LngpID4gdGhpcy5vcHRpb25zLmRyYWdUaHJlc2hvbGQ7CiAgfTsKCiAgcy5wb2ludGVyVXAgPSBmdW5jdGlvbiAodCwgZSkgewogICAgZGVsZXRlIHRoaXMuaXNUb3VjaFNjcm9sbGluZzsKICAgIHRoaXMudmlld3BvcnQuY2xhc3NMaXN0LnJlbW92ZSgiaXMtcG9pbnRlci1kb3duIik7CiAgICB0aGlzLmRpc3BhdGNoRXZlbnQoInBvaW50ZXJVcCIsIHQsIFtlXSk7CgogICAgdGhpcy5fZHJhZ1BvaW50ZXJVcCh0LCBlKTsKICB9OwoKICBzLnBvaW50ZXJEb25lID0gZnVuY3Rpb24gKCkgewogICAgbi5yZW1vdmVFdmVudExpc3RlbmVyKCJzY3JvbGwiLCB0aGlzKTsKICAgIGRlbGV0ZSB0aGlzLnBvaW50ZXJEb3duU2Nyb2xsOwogIH07CgogIHMuZHJhZ1N0YXJ0ID0gZnVuY3Rpb24gKHQsIGUpIHsKICAgIGlmICghdGhpcy5pc0RyYWdnYWJsZSkgewogICAgICByZXR1cm47CiAgICB9CgogICAgdGhpcy5kcmFnU3RhcnRQb3NpdGlvbiA9IHRoaXMueDsKICAgIHRoaXMuc3RhcnRBbmltYXRpb24oKTsKICAgIG4ucmVtb3ZlRXZlbnRMaXN0ZW5lcigic2Nyb2xsIiwgdGhpcyk7CiAgICB0aGlzLmRpc3BhdGNoRXZlbnQoImRyYWdTdGFydCIsIHQsIFtlXSk7CiAgfTsKCiAgcy5wb2ludGVyTW92ZSA9IGZ1bmN0aW9uICh0LCBlKSB7CiAgICB2YXIgaSA9IHRoaXMuX2RyYWdQb2ludGVyTW92ZSh0LCBlKTsKCiAgICB0aGlzLmRpc3BhdGNoRXZlbnQoInBvaW50ZXJNb3ZlIiwgdCwgW2UsIGldKTsKCiAgICB0aGlzLl9kcmFnTW92ZSh0LCBlLCBpKTsKICB9OwoKICBzLmRyYWdNb3ZlID0gZnVuY3Rpb24gKHQsIGUsIGkpIHsKICAgIGlmICghdGhpcy5pc0RyYWdnYWJsZSkgewogICAgICByZXR1cm47CiAgICB9CgogICAgdC5wcmV2ZW50RGVmYXVsdCgpOwogICAgdGhpcy5wcmV2aW91c0RyYWdYID0gdGhpcy5kcmFnWDsKICAgIHZhciBuID0gdGhpcy5vcHRpb25zLnJpZ2h0VG9MZWZ0ID8gLTEgOiAxOwoKICAgIGlmICh0aGlzLm9wdGlvbnMud3JhcEFyb3VuZCkgewogICAgICBpLnggJT0gdGhpcy5zbGlkZWFibGVXaWR0aDsKICAgIH0KCiAgICB2YXIgcyA9IHRoaXMuZHJhZ1N0YXJ0UG9zaXRpb24gKyBpLnggKiBuOwoKICAgIGlmICghdGhpcy5vcHRpb25zLndyYXBBcm91bmQgJiYgdGhpcy5zbGlkZXMubGVuZ3RoKSB7CiAgICAgIHZhciByID0gTWF0aC5tYXgoLXRoaXMuc2xpZGVzWzBdLnRhcmdldCwgdGhpcy5kcmFnU3RhcnRQb3NpdGlvbik7CiAgICAgIHMgPSBzID4gciA/IChzICsgcikgKiAuNSA6IHM7CiAgICAgIHZhciBvID0gTWF0aC5taW4oLXRoaXMuZ2V0TGFzdFNsaWRlKCkudGFyZ2V0LCB0aGlzLmRyYWdTdGFydFBvc2l0aW9uKTsKICAgICAgcyA9IHMgPCBvID8gKHMgKyBvKSAqIC41IDogczsKICAgIH0KCiAgICB0aGlzLmRyYWdYID0gczsKICAgIHRoaXMuZHJhZ01vdmVUaW1lID0gbmV3IERhdGUoKTsKICAgIHRoaXMuZGlzcGF0Y2hFdmVudCgiZHJhZ01vdmUiLCB0LCBbZSwgaV0pOwogIH07CgogIHMuZHJhZ0VuZCA9IGZ1bmN0aW9uICh0LCBlKSB7CiAgICBpZiAoIXRoaXMuaXNEcmFnZ2FibGUpIHsKICAgICAgcmV0dXJuOwogICAgfQoKICAgIGlmICh0aGlzLm9wdGlvbnMuZnJlZVNjcm9sbCkgewogICAgICB0aGlzLmlzRnJlZVNjcm9sbGluZyA9IHRydWU7CiAgICB9CgogICAgdmFyIGkgPSB0aGlzLmRyYWdFbmRSZXN0aW5nU2VsZWN0KCk7CgogICAgaWYgKHRoaXMub3B0aW9ucy5mcmVlU2Nyb2xsICYmICF0aGlzLm9wdGlvbnMud3JhcEFyb3VuZCkgewogICAgICB2YXIgbiA9IHRoaXMuZ2V0UmVzdGluZ1Bvc2l0aW9uKCk7CiAgICAgIHRoaXMuaXNGcmVlU2Nyb2xsaW5nID0gLW4gPiB0aGlzLnNsaWRlc1swXS50YXJnZXQgJiYgLW4gPCB0aGlzLmdldExhc3RTbGlkZSgpLnRhcmdldDsKICAgIH0gZWxzZSBpZiAoIXRoaXMub3B0aW9ucy5mcmVlU2Nyb2xsICYmIGkgPT0gdGhpcy5zZWxlY3RlZEluZGV4KSB7CiAgICAgIGkgKz0gdGhpcy5kcmFnRW5kQm9vc3RTZWxlY3QoKTsKICAgIH0KCiAgICBkZWxldGUgdGhpcy5wcmV2aW91c0RyYWdYOwogICAgdGhpcy5pc0RyYWdTZWxlY3QgPSB0aGlzLm9wdGlvbnMud3JhcEFyb3VuZDsKICAgIHRoaXMuc2VsZWN0KGkpOwogICAgZGVsZXRlIHRoaXMuaXNEcmFnU2VsZWN0OwogICAgdGhpcy5kaXNwYXRjaEV2ZW50KCJkcmFnRW5kIiwgdCwgW2VdKTsKICB9OwoKICBzLmRyYWdFbmRSZXN0aW5nU2VsZWN0ID0gZnVuY3Rpb24gKCkgewogICAgdmFyIHQgPSB0aGlzLmdldFJlc3RpbmdQb3NpdGlvbigpOwogICAgdmFyIGUgPSBNYXRoLmFicyh0aGlzLmdldFNsaWRlRGlzdGFuY2UoLXQsIHRoaXMuc2VsZWN0ZWRJbmRleCkpOwoKICAgIHZhciBpID0gdGhpcy5fZ2V0Q2xvc2VzdFJlc3RpbmcodCwgZSwgMSk7CgogICAgdmFyIG4gPSB0aGlzLl9nZXRDbG9zZXN0UmVzdGluZyh0LCBlLCAtMSk7CgogICAgdmFyIHMgPSBpLmRpc3RhbmNlIDwgbi5kaXN0YW5jZSA/IGkuaW5kZXggOiBuLmluZGV4OwogICAgcmV0dXJuIHM7CiAgfTsKCiAgcy5fZ2V0Q2xvc2VzdFJlc3RpbmcgPSBmdW5jdGlvbiAodCwgZSwgaSkgewogICAgdmFyIG4gPSB0aGlzLnNlbGVjdGVkSW5kZXg7CiAgICB2YXIgcyA9IEluZmluaXR5OwogICAgdmFyIHIgPSB0aGlzLm9wdGlvbnMuY29udGFpbiAmJiAhdGhpcy5vcHRpb25zLndyYXBBcm91bmQgPyBmdW5jdGlvbiAodCwgZSkgewogICAgICByZXR1cm4gdCA8PSBlOwogICAgfSA6IGZ1bmN0aW9uICh0LCBlKSB7CiAgICAgIHJldHVybiB0IDwgZTsKICAgIH07CgogICAgd2hpbGUgKHIoZSwgcykpIHsKICAgICAgbiArPSBpOwogICAgICBzID0gZTsKICAgICAgZSA9IHRoaXMuZ2V0U2xpZGVEaXN0YW5jZSgtdCwgbik7CgogICAgICBpZiAoZSA9PT0gbnVsbCkgewogICAgICAgIGJyZWFrOwogICAgICB9CgogICAgICBlID0gTWF0aC5hYnMoZSk7CiAgICB9CgogICAgcmV0dXJuIHsKICAgICAgZGlzdGFuY2U6IHMsCiAgICAgIGluZGV4OiBuIC0gaQogICAgfTsKICB9OwoKICBzLmdldFNsaWRlRGlzdGFuY2UgPSBmdW5jdGlvbiAodCwgZSkgewogICAgdmFyIGkgPSB0aGlzLnNsaWRlcy5sZW5ndGg7CiAgICB2YXIgbiA9IHRoaXMub3B0aW9ucy53cmFwQXJvdW5kICYmIGkgPiAxOwogICAgdmFyIHMgPSBuID8gYS5tb2R1bG8oZSwgaSkgOiBlOwogICAgdmFyIHIgPSB0aGlzLnNsaWRlc1tzXTsKCiAgICBpZiAoIXIpIHsKICAgICAgcmV0dXJuIG51bGw7CiAgICB9CgogICAgdmFyIG8gPSBuID8gdGhpcy5zbGlkZWFibGVXaWR0aCAqIE1hdGguZmxvb3IoZSAvIGkpIDogMDsKICAgIHJldHVybiB0IC0gKHIudGFyZ2V0ICsgbyk7CiAgfTsKCiAgcy5kcmFnRW5kQm9vc3RTZWxlY3QgPSBmdW5jdGlvbiAoKSB7CiAgICBpZiAodGhpcy5wcmV2aW91c0RyYWdYID09PSB1bmRlZmluZWQgfHwgIXRoaXMuZHJhZ01vdmVUaW1lIHx8IG5ldyBEYXRlKCkgLSB0aGlzLmRyYWdNb3ZlVGltZSA+IDEwMCkgewogICAgICByZXR1cm4gMDsKICAgIH0KCiAgICB2YXIgdCA9IHRoaXMuZ2V0U2xpZGVEaXN0YW5jZSgtdGhpcy5kcmFnWCwgdGhpcy5zZWxlY3RlZEluZGV4KTsKICAgIHZhciBlID0gdGhpcy5wcmV2aW91c0RyYWdYIC0gdGhpcy5kcmFnWDsKCiAgICBpZiAodCA+IDAgJiYgZSA+IDApIHsKICAgICAgcmV0dXJuIDE7CiAgICB9IGVsc2UgaWYgKHQgPCAwICYmIGUgPCAwKSB7CiAgICAgIHJldHVybiAtMTsKICAgIH0KCiAgICByZXR1cm4gMDsKICB9OwoKICBzLnN0YXRpY0NsaWNrID0gZnVuY3Rpb24gKHQsIGUpIHsKICAgIHZhciBpID0gdGhpcy5nZXRQYXJlbnRDZWxsKHQudGFyZ2V0KTsKICAgIHZhciBuID0gaSAmJiBpLmVsZW1lbnQ7CiAgICB2YXIgcyA9IGkgJiYgdGhpcy5jZWxscy5pbmRleE9mKGkpOwogICAgdGhpcy5kaXNwYXRjaEV2ZW50KCJzdGF0aWNDbGljayIsIHQsIFtlLCBuLCBzXSk7CiAgfTsKCiAgcy5vbnNjcm9sbCA9IGZ1bmN0aW9uICgpIHsKICAgIHZhciB0ID0gaCgpOwogICAgdmFyIGUgPSB0aGlzLnBvaW50ZXJEb3duU2Nyb2xsLnggLSB0Lng7CiAgICB2YXIgaSA9IHRoaXMucG9pbnRlckRvd25TY3JvbGwueSAtIHQueTsKCiAgICBpZiAoTWF0aC5hYnMoZSkgPiAzIHx8IE1hdGguYWJzKGkpID4gMykgewogICAgICB0aGlzLl9wb2ludGVyRG9uZSgpOwogICAgfQogIH07CgogIGZ1bmN0aW9uIGgoKSB7CiAgICByZXR1cm4gewogICAgICB4OiBuLnBhZ2VYT2Zmc2V0LAogICAgICB5OiBuLnBhZ2VZT2Zmc2V0CiAgICB9OwogIH0KCiAgcmV0dXJuIGU7Cn0pOwoKKGZ1bmN0aW9uIChuLCBzKSB7CiAgaWYgKHR5cGVvZiBkZWZpbmUgPT0gImZ1bmN0aW9uIiAmJiBkZWZpbmUuYW1kKSB7CiAgICBkZWZpbmUoImZsaWNraXR5L2pzL3ByZXYtbmV4dC1idXR0b24iLCBbIi4vZmxpY2tpdHkiLCAidW5pcG9pbnRlci91bmlwb2ludGVyIiwgImZpenp5LXVpLXV0aWxzL3V0aWxzIl0sIGZ1bmN0aW9uICh0LCBlLCBpKSB7CiAgICAgIHJldHVybiBzKG4sIHQsIGUsIGkpOwogICAgfSk7CiAgfSBlbHNlIGlmICgodHlwZW9mIG1vZHVsZSA9PT0gInVuZGVmaW5lZCIgPyAidW5kZWZpbmVkIiA6IF90eXBlb2YobW9kdWxlKSkgPT0gIm9iamVjdCIgJiYgbW9kdWxlLmV4cG9ydHMpIHsKICAgIG1vZHVsZS5leHBvcnRzID0gcyhuLCByZXF1aXJlKCIuL2ZsaWNraXR5IiksIHJlcXVpcmUoInVuaXBvaW50ZXIiKSwgcmVxdWlyZSgiZml6enktdWktdXRpbHMiKSk7CiAgfSBlbHNlIHsKICAgIHMobiwgbi5GbGlja2l0eSwgbi5Vbmlwb2ludGVyLCBuLmZpenp5VUlVdGlscyk7CiAgfQp9KSh3aW5kb3csIGZ1bmN0aW9uIHQoZSwgaSwgbiwgcykgewogICJ1c2Ugc3RyaWN0IjsKCiAgdmFyIHIgPSAiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciOwoKICBmdW5jdGlvbiBvKHQsIGUpIHsKICAgIHRoaXMuZGlyZWN0aW9uID0gdDsKICAgIHRoaXMucGFyZW50ID0gZTsKCiAgICB0aGlzLl9jcmVhdGUoKTsKICB9CgogIG8ucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShuLnByb3RvdHlwZSk7CgogIG8ucHJvdG90eXBlLl9jcmVhdGUgPSBmdW5jdGlvbiAoKSB7CiAgICB0aGlzLmlzRW5hYmxlZCA9IHRydWU7CiAgICB0aGlzLmlzUHJldmlvdXMgPSB0aGlzLmRpcmVjdGlvbiA9PSAtMTsKICAgIHZhciB0ID0gdGhpcy5wYXJlbnQub3B0aW9ucy5yaWdodFRvTGVmdCA/IDEgOiAtMTsKICAgIHRoaXMuaXNMZWZ0ID0gdGhpcy5kaXJlY3Rpb24gPT0gdDsKICAgIHZhciBlID0gdGhpcy5lbGVtZW50ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiYnV0dG9uIik7CiAgICBlLmNsYXNzTmFtZSA9ICJmbGlja2l0eS1idXR0b24gZmxpY2tpdHktcHJldi1uZXh0LWJ1dHRvbiI7CiAgICBlLmNsYXNzTmFtZSArPSB0aGlzLmlzUHJldmlvdXMgPyAiIHByZXZpb3VzIiA6ICIgbmV4dCI7CiAgICBlLnNldEF0dHJpYnV0ZSgidHlwZSIsICJidXR0b24iKTsKICAgIHRoaXMuZGlzYWJsZSgpOwogICAgZS5zZXRBdHRyaWJ1dGUoImFyaWEtbGFiZWwiLCB0aGlzLmlzUHJldmlvdXMgPyAiUHJldmlvdXMiIDogIk5leHQiKTsKICAgIHZhciBpID0gdGhpcy5jcmVhdGVTVkcoKTsKICAgIGUuYXBwZW5kQ2hpbGQoaSk7CiAgICB0aGlzLnBhcmVudC5vbigic2VsZWN0IiwgdGhpcy51cGRhdGUuYmluZCh0aGlzKSk7CiAgICB0aGlzLm9uKCJwb2ludGVyRG93biIsIHRoaXMucGFyZW50LmNoaWxkVUlQb2ludGVyRG93bi5iaW5kKHRoaXMucGFyZW50KSk7CiAgfTsKCiAgby5wcm90b3R5cGUuYWN0aXZhdGUgPSBmdW5jdGlvbiAoKSB7CiAgICB0aGlzLmJpbmRTdGFydEV2ZW50KHRoaXMuZWxlbWVudCk7CiAgICB0aGlzLmVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcigiY2xpY2siLCB0aGlzKTsKICAgIHRoaXMucGFyZW50LmVsZW1lbnQuYXBwZW5kQ2hpbGQodGhpcy5lbGVtZW50KTsKICB9OwoKICBvLnByb3RvdHlwZS5kZWFjdGl2YXRlID0gZnVuY3Rpb24gKCkgewogICAgdGhpcy5wYXJlbnQuZWxlbWVudC5yZW1vdmVDaGlsZCh0aGlzLmVsZW1lbnQpOwogICAgdGhpcy51bmJpbmRTdGFydEV2ZW50KHRoaXMuZWxlbWVudCk7CiAgICB0aGlzLmVsZW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcigiY2xpY2siLCB0aGlzKTsKICB9OwoKICBvLnByb3RvdHlwZS5jcmVhdGVTVkcgPSBmdW5jdGlvbiAoKSB7CiAgICB2YXIgdCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnROUyhyLCAic3ZnIik7CiAgICB0LnNldEF0dHJpYnV0ZSgiY2xhc3MiLCAiZmxpY2tpdHktYnV0dG9uLWljb24iKTsKICAgIHQuc2V0QXR0cmlidXRlKCJ2aWV3Qm94IiwgIjAgMCAxMDAgMTAwIik7CiAgICB2YXIgZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnROUyhyLCAicGF0aCIpOwogICAgdmFyIGkgPSBhKHRoaXMucGFyZW50Lm9wdGlvbnMuYXJyb3dTaGFwZSk7CiAgICBlLnNldEF0dHJpYnV0ZSgiZCIsIGkpOwogICAgZS5zZXRBdHRyaWJ1dGUoImNsYXNzIiwgImFycm93Iik7CgogICAgaWYgKCF0aGlzLmlzTGVmdCkgewogICAgICBlLnNldEF0dHJpYnV0ZSgidHJhbnNmb3JtIiwgInRyYW5zbGF0ZSgxMDAsIDEwMCkgcm90YXRlKDE4MCkgIik7CiAgICB9CgogICAgdC5hcHBlbmRDaGlsZChlKTsKICAgIHJldHVybiB0OwogIH07CgogIGZ1bmN0aW9uIGEodCkgewogICAgaWYgKHR5cGVvZiB0ID09ICJzdHJpbmciKSB7CiAgICAgIHJldHVybiB0OwogICAgfQoKICAgIHJldHVybiAiTSAiICsgdC54MCArICIsNTAiICsgIiBMICIgKyB0LngxICsgIiwiICsgKHQueTEgKyA1MCkgKyAiIEwgIiArIHQueDIgKyAiLCIgKyAodC55MiArIDUwKSArICIgTCAiICsgdC54MyArICIsNTAgIiArICIgTCAiICsgdC54MiArICIsIiArICg1MCAtIHQueTIpICsgIiBMICIgKyB0LngxICsgIiwiICsgKDUwIC0gdC55MSkgKyAiIFoiOwogIH0KCiAgby5wcm90b3R5cGUuaGFuZGxlRXZlbnQgPSBzLmhhbmRsZUV2ZW50OwoKICBvLnByb3RvdHlwZS5vbmNsaWNrID0gZnVuY3Rpb24gKCkgewogICAgaWYgKCF0aGlzLmlzRW5hYmxlZCkgewogICAgICByZXR1cm47CiAgICB9CgogICAgdGhpcy5wYXJlbnQudWlDaGFuZ2UoKTsKICAgIHZhciB0ID0gdGhpcy5pc1ByZXZpb3VzID8gInByZXZpb3VzIiA6ICJuZXh0IjsKICAgIHRoaXMucGFyZW50W3RdKCk7CiAgfTsKCiAgby5wcm90b3R5cGUuZW5hYmxlID0gZnVuY3Rpb24gKCkgewogICAgaWYgKHRoaXMuaXNFbmFibGVkKSB7CiAgICAgIHJldHVybjsKICAgIH0KCiAgICB0aGlzLmVsZW1lbnQuZGlzYWJsZWQgPSBmYWxzZTsKICAgIHRoaXMuaXNFbmFibGVkID0gdHJ1ZTsKICB9OwoKICBvLnByb3RvdHlwZS5kaXNhYmxlID0gZnVuY3Rpb24gKCkgewogICAgaWYgKCF0aGlzLmlzRW5hYmxlZCkgewogICAgICByZXR1cm47CiAgICB9CgogICAgdGhpcy5lbGVtZW50LmRpc2FibGVkID0gdHJ1ZTsKICAgIHRoaXMuaXNFbmFibGVkID0gZmFsc2U7CiAgfTsKCiAgby5wcm90b3R5cGUudXBkYXRlID0gZnVuY3Rpb24gKCkgewogICAgdmFyIHQgPSB0aGlzLnBhcmVudC5zbGlkZXM7CgogICAgaWYgKHRoaXMucGFyZW50Lm9wdGlvbnMud3JhcEFyb3VuZCAmJiB0Lmxlbmd0aCA+IDEpIHsKICAgICAgdGhpcy5lbmFibGUoKTsKICAgICAgcmV0dXJuOwogICAgfQoKICAgIHZhciBlID0gdC5sZW5ndGggPyB0Lmxlbmd0aCAtIDEgOiAwOwogICAgdmFyIGkgPSB0aGlzLmlzUHJldmlvdXMgPyAwIDogZTsKICAgIHZhciBuID0gdGhpcy5wYXJlbnQuc2VsZWN0ZWRJbmRleCA9PSBpID8gImRpc2FibGUiIDogImVuYWJsZSI7CiAgICB0aGlzW25dKCk7CiAgfTsKCiAgby5wcm90b3R5cGUuZGVzdHJveSA9IGZ1bmN0aW9uICgpIHsKICAgIHRoaXMuZGVhY3RpdmF0ZSgpOwogICAgdGhpcy5hbGxPZmYoKTsKICB9OwoKICBzLmV4dGVuZChpLmRlZmF1bHRzLCB7CiAgICBwcmV2TmV4dEJ1dHRvbnM6IHRydWUsCiAgICBhcnJvd1NoYXBlOiB7CiAgICAgIHgwOiAxMCwKICAgICAgeDE6IDYwLAogICAgICB5MTogNTAsCiAgICAgIHgyOiA3MCwKICAgICAgeTI6IDQwLAogICAgICB4MzogMzAKICAgIH0KICB9KTsKICBpLmNyZWF0ZU1ldGhvZHMucHVzaCgiX2NyZWF0ZVByZXZOZXh0QnV0dG9ucyIpOwogIHZhciBsID0gaS5wcm90b3R5cGU7CgogIGwuX2NyZWF0ZVByZXZOZXh0QnV0dG9ucyA9IGZ1bmN0aW9uICgpIHsKICAgIGlmICghdGhpcy5vcHRpb25zLnByZXZOZXh0QnV0dG9ucykgewogICAgICByZXR1cm47CiAgICB9CgogICAgdGhpcy5wcmV2QnV0dG9uID0gbmV3IG8oLTEsIHRoaXMpOwogICAgdGhpcy5uZXh0QnV0dG9uID0gbmV3IG8oMSwgdGhpcyk7CiAgICB0aGlzLm9uKCJhY3RpdmF0ZSIsIHRoaXMuYWN0aXZhdGVQcmV2TmV4dEJ1dHRvbnMpOwogIH07CgogIGwuYWN0aXZhdGVQcmV2TmV4dEJ1dHRvbnMgPSBmdW5jdGlvbiAoKSB7CiAgICB0aGlzLnByZXZCdXR0b24uYWN0aXZhdGUoKTsKICAgIHRoaXMubmV4dEJ1dHRvbi5hY3RpdmF0ZSgpOwogICAgdGhpcy5vbigiZGVhY3RpdmF0ZSIsIHRoaXMuZGVhY3RpdmF0ZVByZXZOZXh0QnV0dG9ucyk7CiAgfTsKCiAgbC5kZWFjdGl2YXRlUHJldk5leHRCdXR0b25zID0gZnVuY3Rpb24gKCkgewogICAgdGhpcy5wcmV2QnV0dG9uLmRlYWN0aXZhdGUoKTsKICAgIHRoaXMubmV4dEJ1dHRvbi5kZWFjdGl2YXRlKCk7CiAgICB0aGlzLm9mZigiZGVhY3RpdmF0ZSIsIHRoaXMuZGVhY3RpdmF0ZVByZXZOZXh0QnV0dG9ucyk7CiAgfTsKCiAgaS5QcmV2TmV4dEJ1dHRvbiA9IG87CiAgcmV0dXJuIGk7Cn0pOwoKKGZ1bmN0aW9uIChuLCBzKSB7CiAgaWYgKHR5cGVvZiBkZWZpbmUgPT0gImZ1bmN0aW9uIiAmJiBkZWZpbmUuYW1kKSB7CiAgICBkZWZpbmUoImZsaWNraXR5L2pzL3BhZ2UtZG90cyIsIFsiLi9mbGlja2l0eSIsICJ1bmlwb2ludGVyL3VuaXBvaW50ZXIiLCAiZml6enktdWktdXRpbHMvdXRpbHMiXSwgZnVuY3Rpb24gKHQsIGUsIGkpIHsKICAgICAgcmV0dXJuIHMobiwgdCwgZSwgaSk7CiAgICB9KTsKICB9IGVsc2UgaWYgKCh0eXBlb2YgbW9kdWxlID09PSAidW5kZWZpbmVkIiA/ICJ1bmRlZmluZWQiIDogX3R5cGVvZihtb2R1bGUpKSA9PSAib2JqZWN0IiAmJiBtb2R1bGUuZXhwb3J0cykgewogICAgbW9kdWxlLmV4cG9ydHMgPSBzKG4sIHJlcXVpcmUoIi4vZmxpY2tpdHkiKSwgcmVxdWlyZSgidW5pcG9pbnRlciIpLCByZXF1aXJlKCJmaXp6eS11aS11dGlscyIpKTsKICB9IGVsc2UgewogICAgcyhuLCBuLkZsaWNraXR5LCBuLlVuaXBvaW50ZXIsIG4uZml6enlVSVV0aWxzKTsKICB9Cn0pKHdpbmRvdywgZnVuY3Rpb24gdChlLCBpLCBuLCBzKSB7CiAgZnVuY3Rpb24gcih0KSB7CiAgICB0aGlzLnBhcmVudCA9IHQ7CgogICAgdGhpcy5fY3JlYXRlKCk7CiAgfQoKICByLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUobi5wcm90b3R5cGUpOwoKICByLnByb3RvdHlwZS5fY3JlYXRlID0gZnVuY3Rpb24gKCkgewogICAgdGhpcy5ob2xkZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCJvbCIpOwogICAgdGhpcy5ob2xkZXIuY2xhc3NOYW1lID0gImZsaWNraXR5LXBhZ2UtZG90cyI7CiAgICB0aGlzLmRvdHMgPSBbXTsKICAgIHRoaXMuaGFuZGxlQ2xpY2sgPSB0aGlzLm9uQ2xpY2suYmluZCh0aGlzKTsKICAgIHRoaXMub24oInBvaW50ZXJEb3duIiwgdGhpcy5wYXJlbnQuY2hpbGRVSVBvaW50ZXJEb3duLmJpbmQodGhpcy5wYXJlbnQpKTsKICB9OwoKICByLnByb3RvdHlwZS5hY3RpdmF0ZSA9IGZ1bmN0aW9uICgpIHsKICAgIHRoaXMuc2V0RG90cygpOwogICAgdGhpcy5ob2xkZXIuYWRkRXZlbnRMaXN0ZW5lcigiY2xpY2siLCB0aGlzLmhhbmRsZUNsaWNrKTsKICAgIHRoaXMuYmluZFN0YXJ0RXZlbnQodGhpcy5ob2xkZXIpOwogICAgdGhpcy5wYXJlbnQuZWxlbWVudC5hcHBlbmRDaGlsZCh0aGlzLmhvbGRlcik7CiAgfTsKCiAgci5wcm90b3R5cGUuZGVhY3RpdmF0ZSA9IGZ1bmN0aW9uICgpIHsKICAgIHRoaXMuaG9sZGVyLnJlbW92ZUV2ZW50TGlzdGVuZXIoImNsaWNrIiwgdGhpcy5oYW5kbGVDbGljayk7CiAgICB0aGlzLnVuYmluZFN0YXJ0RXZlbnQodGhpcy5ob2xkZXIpOwogICAgdGhpcy5wYXJlbnQuZWxlbWVudC5yZW1vdmVDaGlsZCh0aGlzLmhvbGRlcik7CiAgfTsKCiAgci5wcm90b3R5cGUuc2V0RG90cyA9IGZ1bmN0aW9uICgpIHsKICAgIHZhciB0ID0gdGhpcy5wYXJlbnQuc2xpZGVzLmxlbmd0aCAtIHRoaXMuZG90cy5sZW5ndGg7CgogICAgaWYgKHQgPiAwKSB7CiAgICAgIHRoaXMuYWRkRG90cyh0KTsKICAgIH0gZWxzZSBpZiAodCA8IDApIHsKICAgICAgdGhpcy5yZW1vdmVEb3RzKC10KTsKICAgIH0KICB9OwoKICByLnByb3RvdHlwZS5hZGREb3RzID0gZnVuY3Rpb24gKHQpIHsKICAgIHZhciBlID0gZG9jdW1lbnQuY3JlYXRlRG9jdW1lbnRGcmFnbWVudCgpOwogICAgdmFyIGkgPSBbXTsKICAgIHZhciBuID0gdGhpcy5kb3RzLmxlbmd0aDsKICAgIHZhciBzID0gbiArIHQ7CgogICAgZm9yICh2YXIgciA9IG47IHIgPCBzOyByKyspIHsKICAgICAgdmFyIG8gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCJsaSIpOwogICAgICBvLmNsYXNzTmFtZSA9ICJkb3QiOwogICAgICBvLnNldEF0dHJpYnV0ZSgiYXJpYS1sYWJlbCIsICJQYWdlIGRvdCAiICsgKHIgKyAxKSk7CiAgICAgIGUuYXBwZW5kQ2hpbGQobyk7CiAgICAgIGkucHVzaChvKTsKICAgIH0KCiAgICB0aGlzLmhvbGRlci5hcHBlbmRDaGlsZChlKTsKICAgIHRoaXMuZG90cyA9IHRoaXMuZG90cy5jb25jYXQoaSk7CiAgfTsKCiAgci5wcm90b3R5cGUucmVtb3ZlRG90cyA9IGZ1bmN0aW9uICh0KSB7CiAgICB2YXIgZSA9IHRoaXMuZG90cy5zcGxpY2UodGhpcy5kb3RzLmxlbmd0aCAtIHQsIHQpOwogICAgZS5mb3JFYWNoKGZ1bmN0aW9uICh0KSB7CiAgICAgIHRoaXMuaG9sZGVyLnJlbW92ZUNoaWxkKHQpOwogICAgfSwgdGhpcyk7CiAgfTsKCiAgci5wcm90b3R5cGUudXBkYXRlU2VsZWN0ZWQgPSBmdW5jdGlvbiAoKSB7CiAgICBpZiAodGhpcy5zZWxlY3RlZERvdCkgewogICAgICB0aGlzLnNlbGVjdGVkRG90LmNsYXNzTmFtZSA9ICJkb3QiOwogICAgICB0aGlzLnNlbGVjdGVkRG90LnJlbW92ZUF0dHJpYnV0ZSgiYXJpYS1jdXJyZW50Iik7CiAgICB9CgogICAgaWYgKCF0aGlzLmRvdHMubGVuZ3RoKSB7CiAgICAgIHJldHVybjsKICAgIH0KCiAgICB0aGlzLnNlbGVjdGVkRG90ID0gdGhpcy5kb3RzW3RoaXMucGFyZW50LnNlbGVjdGVkSW5kZXhdOwogICAgdGhpcy5zZWxlY3RlZERvdC5jbGFzc05hbWUgPSAiZG90IGlzLXNlbGVjdGVkIjsKICAgIHRoaXMuc2VsZWN0ZWREb3Quc2V0QXR0cmlidXRlKCJhcmlhLWN1cnJlbnQiLCAic3RlcCIpOwogIH07CgogIHIucHJvdG90eXBlLm9uVGFwID0gci5wcm90b3R5cGUub25DbGljayA9IGZ1bmN0aW9uICh0KSB7CiAgICB2YXIgZSA9IHQudGFyZ2V0OwoKICAgIGlmIChlLm5vZGVOYW1lICE9ICJMSSIpIHsKICAgICAgcmV0dXJuOwogICAgfQoKICAgIHRoaXMucGFyZW50LnVpQ2hhbmdlKCk7CiAgICB2YXIgaSA9IHRoaXMuZG90cy5pbmRleE9mKGUpOwogICAgdGhpcy5wYXJlbnQuc2VsZWN0KGkpOwogIH07CgogIHIucHJvdG90eXBlLmRlc3Ryb3kgPSBmdW5jdGlvbiAoKSB7CiAgICB0aGlzLmRlYWN0aXZhdGUoKTsKICAgIHRoaXMuYWxsT2ZmKCk7CiAgfTsKCiAgaS5QYWdlRG90cyA9IHI7CiAgcy5leHRlbmQoaS5kZWZhdWx0cywgewogICAgcGFnZURvdHM6IHRydWUKICB9KTsKICBpLmNyZWF0ZU1ldGhvZHMucHVzaCgiX2NyZWF0ZVBhZ2VEb3RzIik7CiAgdmFyIG8gPSBpLnByb3RvdHlwZTsKCiAgby5fY3JlYXRlUGFnZURvdHMgPSBmdW5jdGlvbiAoKSB7CiAgICBpZiAoIXRoaXMub3B0aW9ucy5wYWdlRG90cykgewogICAgICByZXR1cm47CiAgICB9CgogICAgdGhpcy5wYWdlRG90cyA9IG5ldyByKHRoaXMpOwogICAgdGhpcy5vbigiYWN0aXZhdGUiLCB0aGlzLmFjdGl2YXRlUGFnZURvdHMpOwogICAgdGhpcy5vbigic2VsZWN0IiwgdGhpcy51cGRhdGVTZWxlY3RlZFBhZ2VEb3RzKTsKICAgIHRoaXMub24oImNlbGxDaGFuZ2UiLCB0aGlzLnVwZGF0ZVBhZ2VEb3RzKTsKICAgIHRoaXMub24oInJlc2l6ZSIsIHRoaXMudXBkYXRlUGFnZURvdHMpOwogICAgdGhpcy5vbigiZGVhY3RpdmF0ZSIsIHRoaXMuZGVhY3RpdmF0ZVBhZ2VEb3RzKTsKICB9OwoKICBvLmFjdGl2YXRlUGFnZURvdHMgPSBmdW5jdGlvbiAoKSB7CiAgICB0aGlzLnBhZ2VEb3RzLmFjdGl2YXRlKCk7CiAgfTsKCiAgby51cGRhdGVTZWxlY3RlZFBhZ2VEb3RzID0gZnVuY3Rpb24gKCkgewogICAgdGhpcy5wYWdlRG90cy51cGRhdGVTZWxlY3RlZCgpOwogIH07CgogIG8udXBkYXRlUGFnZURvdHMgPSBmdW5jdGlvbiAoKSB7CiAgICB0aGlzLnBhZ2VEb3RzLnNldERvdHMoKTsKICB9OwoKICBvLmRlYWN0aXZhdGVQYWdlRG90cyA9IGZ1bmN0aW9uICgpIHsKICAgIHRoaXMucGFnZURvdHMuZGVhY3RpdmF0ZSgpOwogIH07CgogIGkuUGFnZURvdHMgPSByOwogIHJldHVybiBpOwp9KTsKCihmdW5jdGlvbiAodCwgbikgewogIGlmICh0eXBlb2YgZGVmaW5lID09ICJmdW5jdGlvbiIgJiYgZGVmaW5lLmFtZCkgewogICAgZGVmaW5lKCJmbGlja2l0eS9qcy9wbGF5ZXIiLCBbImV2LWVtaXR0ZXIvZXYtZW1pdHRlciIsICJmaXp6eS11aS11dGlscy91dGlscyIsICIuL2ZsaWNraXR5Il0sIGZ1bmN0aW9uICh0LCBlLCBpKSB7CiAgICAgIHJldHVybiBuKHQsIGUsIGkpOwogICAgfSk7CiAgfSBlbHNlIGlmICgodHlwZW9mIG1vZHVsZSA9PT0gInVuZGVmaW5lZCIgPyAidW5kZWZpbmVkIiA6IF90eXBlb2YobW9kdWxlKSkgPT0gIm9iamVjdCIgJiYgbW9kdWxlLmV4cG9ydHMpIHsKICAgIG1vZHVsZS5leHBvcnRzID0gbihyZXF1aXJlKCJldi1lbWl0dGVyIiksIHJlcXVpcmUoImZpenp5LXVpLXV0aWxzIiksIHJlcXVpcmUoIi4vZmxpY2tpdHkiKSk7CiAgfSBlbHNlIHsKICAgIG4odC5FdkVtaXR0ZXIsIHQuZml6enlVSVV0aWxzLCB0LkZsaWNraXR5KTsKICB9Cn0pKHdpbmRvdywgZnVuY3Rpb24gdChlLCBpLCBuKSB7CiAgZnVuY3Rpb24gcyh0KSB7CiAgICB0aGlzLnBhcmVudCA9IHQ7CiAgICB0aGlzLnN0YXRlID0gInN0b3BwZWQiOwogICAgdGhpcy5vblZpc2liaWxpdHlDaGFuZ2UgPSB0aGlzLnZpc2liaWxpdHlDaGFuZ2UuYmluZCh0aGlzKTsKICAgIHRoaXMub25WaXNpYmlsaXR5UGxheSA9IHRoaXMudmlzaWJpbGl0eVBsYXkuYmluZCh0aGlzKTsKICB9CgogIHMucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShlLnByb3RvdHlwZSk7CgogIHMucHJvdG90eXBlLnBsYXkgPSBmdW5jdGlvbiAoKSB7CiAgICBpZiAodGhpcy5zdGF0ZSA9PSAicGxheWluZyIpIHsKICAgICAgcmV0dXJuOwogICAgfQoKICAgIHZhciB0ID0gZG9jdW1lbnQuaGlkZGVuOwoKICAgIGlmICh0KSB7CiAgICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoInZpc2liaWxpdHljaGFuZ2UiLCB0aGlzLm9uVmlzaWJpbGl0eVBsYXkpOwogICAgICByZXR1cm47CiAgICB9CgogICAgdGhpcy5zdGF0ZSA9ICJwbGF5aW5nIjsKICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoInZpc2liaWxpdHljaGFuZ2UiLCB0aGlzLm9uVmlzaWJpbGl0eUNoYW5nZSk7CiAgICB0aGlzLnRpY2soKTsKICB9OwoKICBzLnByb3RvdHlwZS50aWNrID0gZnVuY3Rpb24gKCkgewogICAgaWYgKHRoaXMuc3RhdGUgIT0gInBsYXlpbmciKSB7CiAgICAgIHJldHVybjsKICAgIH0KCiAgICB2YXIgdCA9IHRoaXMucGFyZW50Lm9wdGlvbnMuYXV0b1BsYXk7CiAgICB0ID0gdHlwZW9mIHQgPT0gIm51bWJlciIgPyB0IDogM2UzOwogICAgdmFyIGUgPSB0aGlzOwogICAgdGhpcy5jbGVhcigpOwogICAgdGhpcy50aW1lb3V0ID0gc2V0VGltZW91dChmdW5jdGlvbiAoKSB7CiAgICAgIGUucGFyZW50Lm5leHQodHJ1ZSk7CiAgICAgIGUudGljaygpOwogICAgfSwgdCk7CiAgfTsKCiAgcy5wcm90b3R5cGUuc3RvcCA9IGZ1bmN0aW9uICgpIHsKICAgIHRoaXMuc3RhdGUgPSAic3RvcHBlZCI7CiAgICB0aGlzLmNsZWFyKCk7CiAgICBkb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKCJ2aXNpYmlsaXR5Y2hhbmdlIiwgdGhpcy5vblZpc2liaWxpdHlDaGFuZ2UpOwogIH07CgogIHMucHJvdG90eXBlLmNsZWFyID0gZnVuY3Rpb24gKCkgewogICAgY2xlYXJUaW1lb3V0KHRoaXMudGltZW91dCk7CiAgfTsKCiAgcy5wcm90b3R5cGUucGF1c2UgPSBmdW5jdGlvbiAoKSB7CiAgICBpZiAodGhpcy5zdGF0ZSA9PSAicGxheWluZyIpIHsKICAgICAgdGhpcy5zdGF0ZSA9ICJwYXVzZWQiOwogICAgICB0aGlzLmNsZWFyKCk7CiAgICB9CiAgfTsKCiAgcy5wcm90b3R5cGUudW5wYXVzZSA9IGZ1bmN0aW9uICgpIHsKICAgIGlmICh0aGlzLnN0YXRlID09ICJwYXVzZWQiKSB7CiAgICAgIHRoaXMucGxheSgpOwogICAgfQogIH07CgogIHMucHJvdG90eXBlLnZpc2liaWxpdHlDaGFuZ2UgPSBmdW5jdGlvbiAoKSB7CiAgICB2YXIgdCA9IGRvY3VtZW50LmhpZGRlbjsKICAgIHRoaXNbdCA/ICJwYXVzZSIgOiAidW5wYXVzZSJdKCk7CiAgfTsKCiAgcy5wcm90b3R5cGUudmlzaWJpbGl0eVBsYXkgPSBmdW5jdGlvbiAoKSB7CiAgICB0aGlzLnBsYXkoKTsKICAgIGRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoInZpc2liaWxpdHljaGFuZ2UiLCB0aGlzLm9uVmlzaWJpbGl0eVBsYXkpOwogIH07CgogIGkuZXh0ZW5kKG4uZGVmYXVsdHMsIHsKICAgIHBhdXNlQXV0b1BsYXlPbkhvdmVyOiB0cnVlCiAgfSk7CiAgbi5jcmVhdGVNZXRob2RzLnB1c2goIl9jcmVhdGVQbGF5ZXIiKTsKICB2YXIgciA9IG4ucHJvdG90eXBlOwoKICByLl9jcmVhdGVQbGF5ZXIgPSBmdW5jdGlvbiAoKSB7CiAgICB0aGlzLnBsYXllciA9IG5ldyBzKHRoaXMpOwogICAgdGhpcy5vbigiYWN0aXZhdGUiLCB0aGlzLmFjdGl2YXRlUGxheWVyKTsKICAgIHRoaXMub24oInVpQ2hhbmdlIiwgdGhpcy5zdG9wUGxheWVyKTsKICAgIHRoaXMub24oInBvaW50ZXJEb3duIiwgdGhpcy5zdG9wUGxheWVyKTsKICAgIHRoaXMub24oImRlYWN0aXZhdGUiLCB0aGlzLmRlYWN0aXZhdGVQbGF5ZXIpOwogIH07CgogIHIuYWN0aXZhdGVQbGF5ZXIgPSBmdW5jdGlvbiAoKSB7CiAgICBpZiAoIXRoaXMub3B0aW9ucy5hdXRvUGxheSkgewogICAgICByZXR1cm47CiAgICB9CgogICAgdGhpcy5wbGF5ZXIucGxheSgpOwogICAgdGhpcy5lbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoIm1vdXNlZW50ZXIiLCB0aGlzKTsKICB9OwoKICByLnBsYXlQbGF5ZXIgPSBmdW5jdGlvbiAoKSB7CiAgICB0aGlzLnBsYXllci5wbGF5KCk7CiAgfTsKCiAgci5zdG9wUGxheWVyID0gZnVuY3Rpb24gKCkgewogICAgdGhpcy5wbGF5ZXIuc3RvcCgpOwogIH07CgogIHIucGF1c2VQbGF5ZXIgPSBmdW5jdGlvbiAoKSB7CiAgICB0aGlzLnBsYXllci5wYXVzZSgpOwogIH07CgogIHIudW5wYXVzZVBsYXllciA9IGZ1bmN0aW9uICgpIHsKICAgIHRoaXMucGxheWVyLnVucGF1c2UoKTsKICB9OwoKICByLmRlYWN0aXZhdGVQbGF5ZXIgPSBmdW5jdGlvbiAoKSB7CiAgICB0aGlzLnBsYXllci5zdG9wKCk7CiAgICB0aGlzLmVsZW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcigibW91c2VlbnRlciIsIHRoaXMpOwogIH07CgogIHIub25tb3VzZWVudGVyID0gZnVuY3Rpb24gKCkgewogICAgaWYgKCF0aGlzLm9wdGlvbnMucGF1c2VBdXRvUGxheU9uSG92ZXIpIHsKICAgICAgcmV0dXJuOwogICAgfQoKICAgIHRoaXMucGxheWVyLnBhdXNlKCk7CiAgICB0aGlzLmVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcigibW91c2VsZWF2ZSIsIHRoaXMpOwogIH07CgogIHIub25tb3VzZWxlYXZlID0gZnVuY3Rpb24gKCkgewogICAgdGhpcy5wbGF5ZXIudW5wYXVzZSgpOwogICAgdGhpcy5lbGVtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoIm1vdXNlbGVhdmUiLCB0aGlzKTsKICB9OwoKICBuLlBsYXllciA9IHM7CiAgcmV0dXJuIG47Cn0pOwoKKGZ1bmN0aW9uIChpLCBuKSB7CiAgaWYgKHR5cGVvZiBkZWZpbmUgPT0gImZ1bmN0aW9uIiAmJiBkZWZpbmUuYW1kKSB7CiAgICBkZWZpbmUoImZsaWNraXR5L2pzL2FkZC1yZW1vdmUtY2VsbCIsIFsiLi9mbGlja2l0eSIsICJmaXp6eS11aS11dGlscy91dGlscyJdLCBmdW5jdGlvbiAodCwgZSkgewogICAgICByZXR1cm4gbihpLCB0LCBlKTsKICAgIH0pOwogIH0gZWxzZSBpZiAoKHR5cGVvZiBtb2R1bGUgPT09ICJ1bmRlZmluZWQiID8gInVuZGVmaW5lZCIgOiBfdHlwZW9mKG1vZHVsZSkpID09ICJvYmplY3QiICYmIG1vZHVsZS5leHBvcnRzKSB7CiAgICBtb2R1bGUuZXhwb3J0cyA9IG4oaSwgcmVxdWlyZSgiLi9mbGlja2l0eSIpLCByZXF1aXJlKCJmaXp6eS11aS11dGlscyIpKTsKICB9IGVsc2UgewogICAgbihpLCBpLkZsaWNraXR5LCBpLmZpenp5VUlVdGlscyk7CiAgfQp9KSh3aW5kb3csIGZ1bmN0aW9uIHQoZSwgaSwgbikgewogIGZ1bmN0aW9uIGwodCkgewogICAgdmFyIGUgPSBkb2N1bWVudC5jcmVhdGVEb2N1bWVudEZyYWdtZW50KCk7CiAgICB0LmZvckVhY2goZnVuY3Rpb24gKHQpIHsKICAgICAgZS5hcHBlbmRDaGlsZCh0LmVsZW1lbnQpOwogICAgfSk7CiAgICByZXR1cm4gZTsKICB9CgogIHZhciBzID0gaS5wcm90b3R5cGU7CgogIHMuaW5zZXJ0ID0gZnVuY3Rpb24gKHQsIGUpIHsKICAgIHZhciBpID0gdGhpcy5fbWFrZUNlbGxzKHQpOwoKICAgIGlmICghaSB8fCAhaS5sZW5ndGgpIHsKICAgICAgcmV0dXJuOwogICAgfQoKICAgIHZhciBuID0gdGhpcy5jZWxscy5sZW5ndGg7CiAgICBlID0gZSA9PT0gdW5kZWZpbmVkID8gbiA6IGU7CiAgICB2YXIgcyA9IGwoaSk7CiAgICB2YXIgciA9IGUgPT0gbjsKCiAgICBpZiAocikgewogICAgICB0aGlzLnNsaWRlci5hcHBlbmRDaGlsZChzKTsKICAgIH0gZWxzZSB7CiAgICAgIHZhciBvID0gdGhpcy5jZWxsc1tlXS5lbGVtZW50OwogICAgICB0aGlzLnNsaWRlci5pbnNlcnRCZWZvcmUocywgbyk7CiAgICB9CgogICAgaWYgKGUgPT09IDApIHsKICAgICAgdGhpcy5jZWxscyA9IGkuY29uY2F0KHRoaXMuY2VsbHMpOwogICAgfSBlbHNlIGlmIChyKSB7CiAgICAgIHRoaXMuY2VsbHMgPSB0aGlzLmNlbGxzLmNvbmNhdChpKTsKICAgIH0gZWxzZSB7CiAgICAgIHZhciBhID0gdGhpcy5jZWxscy5zcGxpY2UoZSwgbiAtIGUpOwogICAgICB0aGlzLmNlbGxzID0gdGhpcy5jZWxscy5jb25jYXQoaSkuY29uY2F0KGEpOwogICAgfQoKICAgIHRoaXMuX3NpemVDZWxscyhpKTsKCiAgICB0aGlzLmNlbGxDaGFuZ2UoZSwgdHJ1ZSk7CiAgfTsKCiAgcy5hcHBlbmQgPSBmdW5jdGlvbiAodCkgewogICAgdGhpcy5pbnNlcnQodCwgdGhpcy5jZWxscy5sZW5ndGgpOwogIH07CgogIHMucHJlcGVuZCA9IGZ1bmN0aW9uICh0KSB7CiAgICB0aGlzLmluc2VydCh0LCAwKTsKICB9OwoKICBzLnJlbW92ZSA9IGZ1bmN0aW9uICh0KSB7CiAgICB2YXIgZSA9IHRoaXMuZ2V0Q2VsbHModCk7CgogICAgaWYgKCFlIHx8ICFlLmxlbmd0aCkgewogICAgICByZXR1cm47CiAgICB9CgogICAgdmFyIGkgPSB0aGlzLmNlbGxzLmxlbmd0aCAtIDE7CiAgICBlLmZvckVhY2goZnVuY3Rpb24gKHQpIHsKICAgICAgdC5yZW1vdmUoKTsKICAgICAgdmFyIGUgPSB0aGlzLmNlbGxzLmluZGV4T2YodCk7CiAgICAgIGkgPSBNYXRoLm1pbihlLCBpKTsKICAgICAgbi5yZW1vdmVGcm9tKHRoaXMuY2VsbHMsIHQpOwogICAgfSwgdGhpcyk7CiAgICB0aGlzLmNlbGxDaGFuZ2UoaSwgdHJ1ZSk7CiAgfTsKCiAgcy5jZWxsU2l6ZUNoYW5nZSA9IGZ1bmN0aW9uICh0KSB7CiAgICB2YXIgZSA9IHRoaXMuZ2V0Q2VsbCh0KTsKCiAgICBpZiAoIWUpIHsKICAgICAgcmV0dXJuOwogICAgfQoKICAgIGUuZ2V0U2l6ZSgpOwogICAgdmFyIGkgPSB0aGlzLmNlbGxzLmluZGV4T2YoZSk7CiAgICB0aGlzLmNlbGxDaGFuZ2UoaSk7CiAgfTsKCiAgcy5jZWxsQ2hhbmdlID0gZnVuY3Rpb24gKHQsIGUpIHsKICAgIHZhciBpID0gdGhpcy5zZWxlY3RlZEVsZW1lbnQ7CgogICAgdGhpcy5fcG9zaXRpb25DZWxscyh0KTsKCiAgICB0aGlzLl9nZXRXcmFwU2hpZnRDZWxscygpOwoKICAgIHRoaXMuc2V0R2FsbGVyeVNpemUoKTsKICAgIHZhciBuID0gdGhpcy5nZXRDZWxsKGkpOwoKICAgIGlmIChuKSB7CiAgICAgIHRoaXMuc2VsZWN0ZWRJbmRleCA9IHRoaXMuZ2V0Q2VsbFNsaWRlSW5kZXgobik7CiAgICB9CgogICAgdGhpcy5zZWxlY3RlZEluZGV4ID0gTWF0aC5taW4odGhpcy5zbGlkZXMubGVuZ3RoIC0gMSwgdGhpcy5zZWxlY3RlZEluZGV4KTsKICAgIHRoaXMuZW1pdEV2ZW50KCJjZWxsQ2hhbmdlIiwgW3RdKTsKICAgIHRoaXMuc2VsZWN0KHRoaXMuc2VsZWN0ZWRJbmRleCk7CgogICAgaWYgKGUpIHsKICAgICAgdGhpcy5wb3NpdGlvblNsaWRlckF0U2VsZWN0ZWQoKTsKICAgIH0KICB9OwoKICByZXR1cm4gaTsKfSk7CgooZnVuY3Rpb24gKGksIG4pIHsKICBpZiAodHlwZW9mIGRlZmluZSA9PSAiZnVuY3Rpb24iICYmIGRlZmluZS5hbWQpIHsKICAgIGRlZmluZSgiZmxpY2tpdHkvanMvbGF6eWxvYWQiLCBbIi4vZmxpY2tpdHkiLCAiZml6enktdWktdXRpbHMvdXRpbHMiXSwgZnVuY3Rpb24gKHQsIGUpIHsKICAgICAgcmV0dXJuIG4oaSwgdCwgZSk7CiAgICB9KTsKICB9IGVsc2UgaWYgKCh0eXBlb2YgbW9kdWxlID09PSAidW5kZWZpbmVkIiA/ICJ1bmRlZmluZWQiIDogX3R5cGVvZihtb2R1bGUpKSA9PSAib2JqZWN0IiAmJiBtb2R1bGUuZXhwb3J0cykgewogICAgbW9kdWxlLmV4cG9ydHMgPSBuKGksIHJlcXVpcmUoIi4vZmxpY2tpdHkiKSwgcmVxdWlyZSgiZml6enktdWktdXRpbHMiKSk7CiAgfSBlbHNlIHsKICAgIG4oaSwgaS5GbGlja2l0eSwgaS5maXp6eVVJVXRpbHMpOwogIH0KfSkod2luZG93LCBmdW5jdGlvbiB0KGUsIGksIG8pIHsKICAidXNlIHN0cmljdCI7CgogIGkuY3JlYXRlTWV0aG9kcy5wdXNoKCJfY3JlYXRlTGF6eWxvYWQiKTsKICB2YXIgbiA9IGkucHJvdG90eXBlOwoKICBuLl9jcmVhdGVMYXp5bG9hZCA9IGZ1bmN0aW9uICgpIHsKICAgIHRoaXMub24oInNlbGVjdCIsIHRoaXMubGF6eUxvYWQpOwogIH07CgogIG4ubGF6eUxvYWQgPSBmdW5jdGlvbiAoKSB7CiAgICB2YXIgdCA9IHRoaXMub3B0aW9ucy5sYXp5TG9hZDsKCiAgICBpZiAoIXQpIHsKICAgICAgcmV0dXJuOwogICAgfQoKICAgIHZhciBlID0gdHlwZW9mIHQgPT0gIm51bWJlciIgPyB0IDogMDsKICAgIHZhciBpID0gdGhpcy5nZXRBZGphY2VudENlbGxFbGVtZW50cyhlKTsKICAgIHZhciBuID0gW107CiAgICBpLmZvckVhY2goZnVuY3Rpb24gKHQpIHsKICAgICAgdmFyIGUgPSBzKHQpOwogICAgICBuID0gbi5jb25jYXQoZSk7CiAgICB9KTsKICAgIG4uZm9yRWFjaChmdW5jdGlvbiAodCkgewogICAgICBuZXcgcih0LCB0aGlzKTsKICAgIH0sIHRoaXMpOwogIH07CgogIGZ1bmN0aW9uIHModCkgewogICAgaWYgKHQubm9kZU5hbWUgPT0gIklNRyIpIHsKICAgICAgdmFyIGUgPSB0LmdldEF0dHJpYnV0ZSgiZGF0YS1mbGlja2l0eS1sYXp5bG9hZCIpOwogICAgICB2YXIgaSA9IHQuZ2V0QXR0cmlidXRlKCJkYXRhLWZsaWNraXR5LWxhenlsb2FkLXNyYyIpOwogICAgICB2YXIgbiA9IHQuZ2V0QXR0cmlidXRlKCJkYXRhLWZsaWNraXR5LWxhenlsb2FkLXNyY3NldCIpOwoKICAgICAgaWYgKGUgfHwgaSB8fCBuKSB7CiAgICAgICAgcmV0dXJuIFt0XTsKICAgICAgfQogICAgfQoKICAgIHZhciBzID0gImltZ1tkYXRhLWZsaWNraXR5LWxhenlsb2FkXSwgIiArICJpbWdbZGF0YS1mbGlja2l0eS1sYXp5bG9hZC1zcmNdLCBpbWdbZGF0YS1mbGlja2l0eS1sYXp5bG9hZC1zcmNzZXRdIjsKICAgIHZhciByID0gdC5xdWVyeVNlbGVjdG9yQWxsKHMpOwogICAgcmV0dXJuIG8ubWFrZUFycmF5KHIpOwogIH0KCiAgZnVuY3Rpb24gcih0LCBlKSB7CiAgICB0aGlzLmltZyA9IHQ7CiAgICB0aGlzLmZsaWNraXR5ID0gZTsKICAgIHRoaXMubG9hZCgpOwogIH0KCiAgci5wcm90b3R5cGUuaGFuZGxlRXZlbnQgPSBvLmhhbmRsZUV2ZW50OwoKICByLnByb3RvdHlwZS5sb2FkID0gZnVuY3Rpb24gKCkgewogICAgdGhpcy5pbWcuYWRkRXZlbnRMaXN0ZW5lcigibG9hZCIsIHRoaXMpOwogICAgdGhpcy5pbWcuYWRkRXZlbnRMaXN0ZW5lcigiZXJyb3IiLCB0aGlzKTsKICAgIHZhciB0ID0gdGhpcy5pbWcuZ2V0QXR0cmlidXRlKCJkYXRhLWZsaWNraXR5LWxhenlsb2FkIikgfHwgdGhpcy5pbWcuZ2V0QXR0cmlidXRlKCJkYXRhLWZsaWNraXR5LWxhenlsb2FkLXNyYyIpOwogICAgdmFyIGUgPSB0aGlzLmltZy5nZXRBdHRyaWJ1dGUoImRhdGEtZmxpY2tpdHktbGF6eWxvYWQtc3Jjc2V0Iik7CiAgICB0aGlzLmltZy5zcmMgPSB0OwoKICAgIGlmIChlKSB7CiAgICAgIHRoaXMuaW1nLnNldEF0dHJpYnV0ZSgic3Jjc2V0IiwgZSk7CiAgICB9CgogICAgdGhpcy5pbWcucmVtb3ZlQXR0cmlidXRlKCJkYXRhLWZsaWNraXR5LWxhenlsb2FkIik7CiAgICB0aGlzLmltZy5yZW1vdmVBdHRyaWJ1dGUoImRhdGEtZmxpY2tpdHktbGF6eWxvYWQtc3JjIik7CiAgICB0aGlzLmltZy5yZW1vdmVBdHRyaWJ1dGUoImRhdGEtZmxpY2tpdHktbGF6eWxvYWQtc3Jjc2V0Iik7CiAgfTsKCiAgci5wcm90b3R5cGUub25sb2FkID0gZnVuY3Rpb24gKHQpIHsKICAgIHRoaXMuY29tcGxldGUodCwgImZsaWNraXR5LWxhenlsb2FkZWQiKTsKICB9OwoKICByLnByb3RvdHlwZS5vbmVycm9yID0gZnVuY3Rpb24gKHQpIHsKICAgIHRoaXMuY29tcGxldGUodCwgImZsaWNraXR5LWxhenllcnJvciIpOwogIH07CgogIHIucHJvdG90eXBlLmNvbXBsZXRlID0gZnVuY3Rpb24gKHQsIGUpIHsKICAgIHRoaXMuaW1nLnJlbW92ZUV2ZW50TGlzdGVuZXIoImxvYWQiLCB0aGlzKTsKICAgIHRoaXMuaW1nLnJlbW92ZUV2ZW50TGlzdGVuZXIoImVycm9yIiwgdGhpcyk7CiAgICB2YXIgaSA9IHRoaXMuZmxpY2tpdHkuZ2V0UGFyZW50Q2VsbCh0aGlzLmltZyk7CiAgICB2YXIgbiA9IGkgJiYgaS5lbGVtZW50OwogICAgdGhpcy5mbGlja2l0eS5jZWxsU2l6ZUNoYW5nZShuKTsKICAgIHRoaXMuaW1nLmNsYXNzTGlzdC5hZGQoZSk7CiAgICB0aGlzLmZsaWNraXR5LmRpc3BhdGNoRXZlbnQoImxhenlMb2FkIiwgdCwgbik7CiAgfTsKCiAgaS5MYXp5TG9hZGVyID0gcjsKICByZXR1cm4gaTsKfSk7Ci8qIQ0KICogRmxpY2tpdHkgdjIuMi4yDQogKiBUb3VjaCwgcmVzcG9uc2l2ZSwgZmxpY2thYmxlIGNhcm91c2Vscw0KICoNCiAqIExpY2Vuc2VkIEdQTHYzIGZvciBvcGVuIHNvdXJjZSB1c2UNCiAqIG9yIEZsaWNraXR5IENvbW1lcmNpYWwgTGljZW5zZSBmb3IgY29tbWVyY2lhbCB1c2UNCiAqDQogKiBodHRwczovL2ZsaWNraXR5Lm1ldGFmaXp6eS5jbw0KICogQ29weXJpZ2h0IDIwMTUtMjAyMSBNZXRhZml6enkNCiAqLwoKCihmdW5jdGlvbiAodCwgZSkgewogIGlmICh0eXBlb2YgZGVmaW5lID09ICJmdW5jdGlvbiIgJiYgZGVmaW5lLmFtZCkgewogICAgZGVmaW5lKCJmbGlja2l0eS9qcy9pbmRleCIsIFsiLi9mbGlja2l0eSIsICIuL2RyYWciLCAiLi9wcmV2LW5leHQtYnV0dG9uIiwgIi4vcGFnZS1kb3RzIiwgIi4vcGxheWVyIiwgIi4vYWRkLXJlbW92ZS1jZWxsIiwgIi4vbGF6eWxvYWQiXSwgZSk7CiAgfSBlbHNlIGlmICgodHlwZW9mIG1vZHVsZSA9PT0gInVuZGVmaW5lZCIgPyAidW5kZWZpbmVkIiA6IF90eXBlb2YobW9kdWxlKSkgPT0gIm9iamVjdCIgJiYgbW9kdWxlLmV4cG9ydHMpIHsKICAgIG1vZHVsZS5leHBvcnRzID0gZShyZXF1aXJlKCIuL2ZsaWNraXR5IiksIHJlcXVpcmUoIi4vZHJhZyIpLCByZXF1aXJlKCIuL3ByZXYtbmV4dC1idXR0b24iKSwgcmVxdWlyZSgiLi9wYWdlLWRvdHMiKSwgcmVxdWlyZSgiLi9wbGF5ZXIiKSwgcmVxdWlyZSgiLi9hZGQtcmVtb3ZlLWNlbGwiKSwgcmVxdWlyZSgiLi9sYXp5bG9hZCIpKTsKICB9Cn0pKHdpbmRvdywgZnVuY3Rpb24gdChlKSB7CiAgcmV0dXJuIGU7Cn0pOwovKiENCiAqIEZsaWNraXR5IGFzTmF2Rm9yIHYyLjAuMg0KICogZW5hYmxlIGFzTmF2Rm9yIGZvciBGbGlja2l0eQ0KICovCgoKKGZ1bmN0aW9uICh0LCBlKSB7CiAgaWYgKHR5cGVvZiBkZWZpbmUgPT0gImZ1bmN0aW9uIiAmJiBkZWZpbmUuYW1kKSB7CiAgICBkZWZpbmUoImZsaWNraXR5LWFzLW5hdi1mb3IvYXMtbmF2LWZvciIsIFsiZmxpY2tpdHkvanMvaW5kZXgiLCAiZml6enktdWktdXRpbHMvdXRpbHMiXSwgZSk7CiAgfSBlbHNlIGlmICgodHlwZW9mIG1vZHVsZSA9PT0gInVuZGVmaW5lZCIgPyAidW5kZWZpbmVkIiA6IF90eXBlb2YobW9kdWxlKSkgPT0gIm9iamVjdCIgJiYgbW9kdWxlLmV4cG9ydHMpIHsKICAgIG1vZHVsZS5leHBvcnRzID0gZShyZXF1aXJlKCJmbGlja2l0eSIpLCByZXF1aXJlKCJmaXp6eS11aS11dGlscyIpKTsKICB9IGVsc2UgewogICAgdC5GbGlja2l0eSA9IGUodC5GbGlja2l0eSwgdC5maXp6eVVJVXRpbHMpOwogIH0KfSkod2luZG93LCBmdW5jdGlvbiB0KG4sIHMpIHsKICBuLmNyZWF0ZU1ldGhvZHMucHVzaCgiX2NyZWF0ZUFzTmF2Rm9yIik7CiAgdmFyIGUgPSBuLnByb3RvdHlwZTsKCiAgZS5fY3JlYXRlQXNOYXZGb3IgPSBmdW5jdGlvbiAoKSB7CiAgICB0aGlzLm9uKCJhY3RpdmF0ZSIsIHRoaXMuYWN0aXZhdGVBc05hdkZvcik7CiAgICB0aGlzLm9uKCJkZWFjdGl2YXRlIiwgdGhpcy5kZWFjdGl2YXRlQXNOYXZGb3IpOwogICAgdGhpcy5vbigiZGVzdHJveSIsIHRoaXMuZGVzdHJveUFzTmF2Rm9yKTsKICAgIHZhciBlID0gdGhpcy5vcHRpb25zLmFzTmF2Rm9yOwoKICAgIGlmICghZSkgewogICAgICByZXR1cm47CiAgICB9CgogICAgdmFyIGkgPSB0aGlzOwogICAgc2V0VGltZW91dChmdW5jdGlvbiB0KCkgewogICAgICBpLnNldE5hdkNvbXBhbmlvbihlKTsKICAgIH0pOwogIH07CgogIGUuc2V0TmF2Q29tcGFuaW9uID0gZnVuY3Rpb24gKHQpIHsKICAgIHQgPSBzLmdldFF1ZXJ5RWxlbWVudCh0KTsKICAgIHZhciBlID0gbi5kYXRhKHQpOwoKICAgIGlmICghZSB8fCBlID09IHRoaXMpIHsKICAgICAgcmV0dXJuOwogICAgfQoKICAgIHRoaXMubmF2Q29tcGFuaW9uID0gZTsKICAgIHZhciBpID0gdGhpczsKCiAgICB0aGlzLm9uTmF2Q29tcGFuaW9uU2VsZWN0ID0gZnVuY3Rpb24gKCkgewogICAgICBpLm5hdkNvbXBhbmlvblNlbGVjdCgpOwogICAgfTsKCiAgICBlLm9uKCJzZWxlY3QiLCB0aGlzLm9uTmF2Q29tcGFuaW9uU2VsZWN0KTsKICAgIHRoaXMub24oInN0YXRpY0NsaWNrIiwgdGhpcy5vbk5hdlN0YXRpY0NsaWNrKTsKICAgIHRoaXMubmF2Q29tcGFuaW9uU2VsZWN0KHRydWUpOwogIH07CgogIGUubmF2Q29tcGFuaW9uU2VsZWN0ID0gZnVuY3Rpb24gKHQpIHsKICAgIHZhciBlID0gdGhpcy5uYXZDb21wYW5pb24gJiYgdGhpcy5uYXZDb21wYW5pb24uc2VsZWN0ZWRDZWxsczsKCiAgICBpZiAoIWUpIHsKICAgICAgcmV0dXJuOwogICAgfQoKICAgIHZhciBpID0gZVswXTsKICAgIHZhciBuID0gdGhpcy5uYXZDb21wYW5pb24uY2VsbHMuaW5kZXhPZihpKTsKICAgIHZhciBzID0gbiArIGUubGVuZ3RoIC0gMTsKICAgIHZhciByID0gTWF0aC5mbG9vcihhKG4sIHMsIHRoaXMubmF2Q29tcGFuaW9uLmNlbGxBbGlnbikpOwogICAgdGhpcy5zZWxlY3RDZWxsKHIsIGZhbHNlLCB0KTsKICAgIHRoaXMucmVtb3ZlTmF2U2VsZWN0ZWRFbGVtZW50cygpOwoKICAgIGlmIChyID49IHRoaXMuY2VsbHMubGVuZ3RoKSB7CiAgICAgIHJldHVybjsKICAgIH0KCiAgICB2YXIgbyA9IHRoaXMuY2VsbHMuc2xpY2UobiwgcyArIDEpOwogICAgdGhpcy5uYXZTZWxlY3RlZEVsZW1lbnRzID0gby5tYXAoZnVuY3Rpb24gKHQpIHsKICAgICAgcmV0dXJuIHQuZWxlbWVudDsKICAgIH0pOwogICAgdGhpcy5jaGFuZ2VOYXZTZWxlY3RlZENsYXNzKCJhZGQiKTsKICB9OwoKICBmdW5jdGlvbiBhKHQsIGUsIGkpIHsKICAgIHJldHVybiAoZSAtIHQpICogaSArIHQ7CiAgfQoKICBlLmNoYW5nZU5hdlNlbGVjdGVkQ2xhc3MgPSBmdW5jdGlvbiAoZSkgewogICAgdGhpcy5uYXZTZWxlY3RlZEVsZW1lbnRzLmZvckVhY2goZnVuY3Rpb24gKHQpIHsKICAgICAgdC5jbGFzc0xpc3RbZV0oImlzLW5hdi1zZWxlY3RlZCIpOwogICAgfSk7CiAgfTsKCiAgZS5hY3RpdmF0ZUFzTmF2Rm9yID0gZnVuY3Rpb24gKCkgewogICAgdGhpcy5uYXZDb21wYW5pb25TZWxlY3QodHJ1ZSk7CiAgfTsKCiAgZS5yZW1vdmVOYXZTZWxlY3RlZEVsZW1lbnRzID0gZnVuY3Rpb24gKCkgewogICAgaWYgKCF0aGlzLm5hdlNlbGVjdGVkRWxlbWVudHMpIHsKICAgICAgcmV0dXJuOwogICAgfQoKICAgIHRoaXMuY2hhbmdlTmF2U2VsZWN0ZWRDbGFzcygicmVtb3ZlIik7CiAgICBkZWxldGUgdGhpcy5uYXZTZWxlY3RlZEVsZW1lbnRzOwogIH07CgogIGUub25OYXZTdGF0aWNDbGljayA9IGZ1bmN0aW9uICh0LCBlLCBpLCBuKSB7CiAgICBpZiAodHlwZW9mIG4gPT0gIm51bWJlciIpIHsKICAgICAgdGhpcy5uYXZDb21wYW5pb24uc2VsZWN0Q2VsbChuKTsKICAgIH0KICB9OwoKICBlLmRlYWN0aXZhdGVBc05hdkZvciA9IGZ1bmN0aW9uICgpIHsKICAgIHRoaXMucmVtb3ZlTmF2U2VsZWN0ZWRFbGVtZW50cygpOwogIH07CgogIGUuZGVzdHJveUFzTmF2Rm9yID0gZnVuY3Rpb24gKCkgewogICAgaWYgKCF0aGlzLm5hdkNvbXBhbmlvbikgewogICAgICByZXR1cm47CiAgICB9CgogICAgdGhpcy5uYXZDb21wYW5pb24ub2ZmKCJzZWxlY3QiLCB0aGlzLm9uTmF2Q29tcGFuaW9uU2VsZWN0KTsKICAgIHRoaXMub2ZmKCJzdGF0aWNDbGljayIsIHRoaXMub25OYXZTdGF0aWNDbGljayk7CiAgICBkZWxldGUgdGhpcy5uYXZDb21wYW5pb247CiAgfTsKCiAgcmV0dXJuIG47Cn0pOwovKiENCiAqIGltYWdlc0xvYWRlZCB2NC4xLjQNCiAqIEphdmFTY3JpcHQgaXMgYWxsIGxpa2UgIllvdSBpbWFnZXMgYXJlIGRvbmUgeWV0IG9yIHdoYXQ/Ig0KICogTUlUIExpY2Vuc2UNCiAqLwoKCihmdW5jdGlvbiAoZSwgaSkgewogICJ1c2Ugc3RyaWN0IjsKCiAgaWYgKHR5cGVvZiBkZWZpbmUgPT0gImZ1bmN0aW9uIiAmJiBkZWZpbmUuYW1kKSB7CiAgICBkZWZpbmUoImltYWdlc2xvYWRlZC9pbWFnZXNsb2FkZWQiLCBbImV2LWVtaXR0ZXIvZXYtZW1pdHRlciJdLCBmdW5jdGlvbiAodCkgewogICAgICByZXR1cm4gaShlLCB0KTsKICAgIH0pOwogIH0gZWxzZSBpZiAoKHR5cGVvZiBtb2R1bGUgPT09ICJ1bmRlZmluZWQiID8gInVuZGVmaW5lZCIgOiBfdHlwZW9mKG1vZHVsZSkpID09ICJvYmplY3QiICYmIG1vZHVsZS5leHBvcnRzKSB7CiAgICBtb2R1bGUuZXhwb3J0cyA9IGkoZSwgcmVxdWlyZSgiZXYtZW1pdHRlciIpKTsKICB9IGVsc2UgewogICAgZS5pbWFnZXNMb2FkZWQgPSBpKGUsIGUuRXZFbWl0dGVyKTsKICB9Cn0pKHR5cGVvZiB3aW5kb3cgIT09ICJ1bmRlZmluZWQiID8gd2luZG93IDogdGhpcywgZnVuY3Rpb24gdChlLCBpKSB7CiAgdmFyIHMgPSBlLmpRdWVyeTsKICB2YXIgciA9IGUuY29uc29sZTsKCiAgZnVuY3Rpb24gbyh0LCBlKSB7CiAgICBmb3IgKHZhciBpIGluIGUpIHsKICAgICAgdFtpXSA9IGVbaV07CiAgICB9CgogICAgcmV0dXJuIHQ7CiAgfQoKICB2YXIgbiA9IEFycmF5LnByb3RvdHlwZS5zbGljZTsKCiAgZnVuY3Rpb24gYSh0KSB7CiAgICBpZiAoQXJyYXkuaXNBcnJheSh0KSkgewogICAgICByZXR1cm4gdDsKICAgIH0KCiAgICB2YXIgZSA9IF90eXBlb2YodCkgPT0gIm9iamVjdCIgJiYgdHlwZW9mIHQubGVuZ3RoID09ICJudW1iZXIiOwoKICAgIGlmIChlKSB7CiAgICAgIHJldHVybiBuLmNhbGwodCk7CiAgICB9CgogICAgcmV0dXJuIFt0XTsKICB9CgogIGZ1bmN0aW9uIGwodCwgZSwgaSkgewogICAgaWYgKCEodGhpcyBpbnN0YW5jZW9mIGwpKSB7CiAgICAgIHJldHVybiBuZXcgbCh0LCBlLCBpKTsKICAgIH0KCiAgICB2YXIgbiA9IHQ7CgogICAgaWYgKHR5cGVvZiB0ID09ICJzdHJpbmciKSB7CiAgICAgIG4gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKHQpOwogICAgfQoKICAgIGlmICghbikgewogICAgICByLmVycm9yKCJCYWQgZWxlbWVudCBmb3IgaW1hZ2VzTG9hZGVkICIgKyAobiB8fCB0KSk7CiAgICAgIHJldHVybjsKICAgIH0KCiAgICB0aGlzLmVsZW1lbnRzID0gYShuKTsKICAgIHRoaXMub3B0aW9ucyA9IG8oe30sIHRoaXMub3B0aW9ucyk7CgogICAgaWYgKHR5cGVvZiBlID09ICJmdW5jdGlvbiIpIHsKICAgICAgaSA9IGU7CiAgICB9IGVsc2UgewogICAgICBvKHRoaXMub3B0aW9ucywgZSk7CiAgICB9CgogICAgaWYgKGkpIHsKICAgICAgdGhpcy5vbigiYWx3YXlzIiwgaSk7CiAgICB9CgogICAgdGhpcy5nZXRJbWFnZXMoKTsKCiAgICBpZiAocykgewogICAgICB0aGlzLmpxRGVmZXJyZWQgPSBuZXcgcy5EZWZlcnJlZCgpOwogICAgfQoKICAgIHNldFRpbWVvdXQodGhpcy5jaGVjay5iaW5kKHRoaXMpKTsKICB9CgogIGwucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShpLnByb3RvdHlwZSk7CiAgbC5wcm90b3R5cGUub3B0aW9ucyA9IHt9OwoKICBsLnByb3RvdHlwZS5nZXRJbWFnZXMgPSBmdW5jdGlvbiAoKSB7CiAgICB0aGlzLmltYWdlcyA9IFtdOwogICAgdGhpcy5lbGVtZW50cy5mb3JFYWNoKHRoaXMuYWRkRWxlbWVudEltYWdlcywgdGhpcyk7CiAgfTsKCiAgbC5wcm90b3R5cGUuYWRkRWxlbWVudEltYWdlcyA9IGZ1bmN0aW9uICh0KSB7CiAgICBpZiAodC5ub2RlTmFtZSA9PSAiSU1HIikgewogICAgICB0aGlzLmFkZEltYWdlKHQpOwogICAgfQoKICAgIGlmICh0aGlzLm9wdGlvbnMuYmFja2dyb3VuZCA9PT0gdHJ1ZSkgewogICAgICB0aGlzLmFkZEVsZW1lbnRCYWNrZ3JvdW5kSW1hZ2VzKHQpOwogICAgfQoKICAgIHZhciBlID0gdC5ub2RlVHlwZTsKCiAgICBpZiAoIWUgfHwgIWhbZV0pIHsKICAgICAgcmV0dXJuOwogICAgfQoKICAgIHZhciBpID0gdC5xdWVyeVNlbGVjdG9yQWxsKCJpbWciKTsKCiAgICBmb3IgKHZhciBuID0gMDsgbiA8IGkubGVuZ3RoOyBuKyspIHsKICAgICAgdmFyIHMgPSBpW25dOwogICAgICB0aGlzLmFkZEltYWdlKHMpOwogICAgfQoKICAgIGlmICh0eXBlb2YgdGhpcy5vcHRpb25zLmJhY2tncm91bmQgPT0gInN0cmluZyIpIHsKICAgICAgdmFyIHIgPSB0LnF1ZXJ5U2VsZWN0b3JBbGwodGhpcy5vcHRpb25zLmJhY2tncm91bmQpOwoKICAgICAgZm9yIChuID0gMDsgbiA8IHIubGVuZ3RoOyBuKyspIHsKICAgICAgICB2YXIgbyA9IHJbbl07CiAgICAgICAgdGhpcy5hZGRFbGVtZW50QmFja2dyb3VuZEltYWdlcyhvKTsKICAgICAgfQogICAgfQogIH07CgogIHZhciBoID0gewogICAgMTogdHJ1ZSwKICAgIDk6IHRydWUsCiAgICAxMTogdHJ1ZQogIH07CgogIGwucHJvdG90eXBlLmFkZEVsZW1lbnRCYWNrZ3JvdW5kSW1hZ2VzID0gZnVuY3Rpb24gKHQpIHsKICAgIHZhciBlID0gZ2V0Q29tcHV0ZWRTdHlsZSh0KTsKCiAgICBpZiAoIWUpIHsKICAgICAgcmV0dXJuOwogICAgfQoKICAgIHZhciBpID0gL3VybFwoKFsnIl0pPyguKj8pXDFcKS9naTsKICAgIHZhciBuID0gaS5leGVjKGUuYmFja2dyb3VuZEltYWdlKTsKCiAgICB3aGlsZSAobiAhPT0gbnVsbCkgewogICAgICB2YXIgcyA9IG4gJiYgblsyXTsKCiAgICAgIGlmIChzKSB7CiAgICAgICAgdGhpcy5hZGRCYWNrZ3JvdW5kKHMsIHQpOwogICAgICB9CgogICAgICBuID0gaS5leGVjKGUuYmFja2dyb3VuZEltYWdlKTsKICAgIH0KICB9OwoKICBsLnByb3RvdHlwZS5hZGRJbWFnZSA9IGZ1bmN0aW9uICh0KSB7CiAgICB2YXIgZSA9IG5ldyBjKHQpOwogICAgdGhpcy5pbWFnZXMucHVzaChlKTsKICB9OwoKICBsLnByb3RvdHlwZS5hZGRCYWNrZ3JvdW5kID0gZnVuY3Rpb24gKHQsIGUpIHsKICAgIHZhciBpID0gbmV3IHUodCwgZSk7CiAgICB0aGlzLmltYWdlcy5wdXNoKGkpOwogIH07CgogIGwucHJvdG90eXBlLmNoZWNrID0gZnVuY3Rpb24gKCkgewogICAgdmFyIG4gPSB0aGlzOwogICAgdGhpcy5wcm9ncmVzc2VkQ291bnQgPSAwOwogICAgdGhpcy5oYXNBbnlCcm9rZW4gPSBmYWxzZTsKCiAgICBpZiAoIXRoaXMuaW1hZ2VzLmxlbmd0aCkgewogICAgICB0aGlzLmNvbXBsZXRlKCk7CiAgICAgIHJldHVybjsKICAgIH0KCiAgICBmdW5jdGlvbiBlKHQsIGUsIGkpIHsKICAgICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7CiAgICAgICAgbi5wcm9ncmVzcyh0LCBlLCBpKTsKICAgICAgfSk7CiAgICB9CgogICAgdGhpcy5pbWFnZXMuZm9yRWFjaChmdW5jdGlvbiAodCkgewogICAgICB0Lm9uY2UoInByb2dyZXNzIiwgZSk7CiAgICAgIHQuY2hlY2soKTsKICAgIH0pOwogIH07CgogIGwucHJvdG90eXBlLnByb2dyZXNzID0gZnVuY3Rpb24gKHQsIGUsIGkpIHsKICAgIHRoaXMucHJvZ3Jlc3NlZENvdW50Kys7CiAgICB0aGlzLmhhc0FueUJyb2tlbiA9IHRoaXMuaGFzQW55QnJva2VuIHx8ICF0LmlzTG9hZGVkOwogICAgdGhpcy5lbWl0RXZlbnQoInByb2dyZXNzIiwgW3RoaXMsIHQsIGVdKTsKCiAgICBpZiAodGhpcy5qcURlZmVycmVkICYmIHRoaXMuanFEZWZlcnJlZC5ub3RpZnkpIHsKICAgICAgdGhpcy5qcURlZmVycmVkLm5vdGlmeSh0aGlzLCB0KTsKICAgIH0KCiAgICBpZiAodGhpcy5wcm9ncmVzc2VkQ291bnQgPT0gdGhpcy5pbWFnZXMubGVuZ3RoKSB7CiAgICAgIHRoaXMuY29tcGxldGUoKTsKICAgIH0KCiAgICBpZiAodGhpcy5vcHRpb25zLmRlYnVnICYmIHIpIHsKICAgICAgci5sb2coInByb2dyZXNzOiAiICsgaSwgdCwgZSk7CiAgICB9CiAgfTsKCiAgbC5wcm90b3R5cGUuY29tcGxldGUgPSBmdW5jdGlvbiAoKSB7CiAgICB2YXIgdCA9IHRoaXMuaGFzQW55QnJva2VuID8gImZhaWwiIDogImRvbmUiOwogICAgdGhpcy5pc0NvbXBsZXRlID0gdHJ1ZTsKICAgIHRoaXMuZW1pdEV2ZW50KHQsIFt0aGlzXSk7CiAgICB0aGlzLmVtaXRFdmVudCgiYWx3YXlzIiwgW3RoaXNdKTsKCiAgICBpZiAodGhpcy5qcURlZmVycmVkKSB7CiAgICAgIHZhciBlID0gdGhpcy5oYXNBbnlCcm9rZW4gPyAicmVqZWN0IiA6ICJyZXNvbHZlIjsKICAgICAgdGhpcy5qcURlZmVycmVkW2VdKHRoaXMpOwogICAgfQogIH07CgogIGZ1bmN0aW9uIGModCkgewogICAgdGhpcy5pbWcgPSB0OwogIH0KCiAgYy5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKGkucHJvdG90eXBlKTsKCiAgYy5wcm90b3R5cGUuY2hlY2sgPSBmdW5jdGlvbiAoKSB7CiAgICB2YXIgdCA9IHRoaXMuZ2V0SXNJbWFnZUNvbXBsZXRlKCk7CgogICAgaWYgKHQpIHsKICAgICAgdGhpcy5jb25maXJtKHRoaXMuaW1nLm5hdHVyYWxXaWR0aCAhPT0gMCwgIm5hdHVyYWxXaWR0aCIpOwogICAgICByZXR1cm47CiAgICB9CgogICAgdGhpcy5wcm94eUltYWdlID0gbmV3IEltYWdlKCk7CiAgICB0aGlzLnByb3h5SW1hZ2UuYWRkRXZlbnRMaXN0ZW5lcigibG9hZCIsIHRoaXMpOwogICAgdGhpcy5wcm94eUltYWdlLmFkZEV2ZW50TGlzdGVuZXIoImVycm9yIiwgdGhpcyk7CiAgICB0aGlzLmltZy5hZGRFdmVudExpc3RlbmVyKCJsb2FkIiwgdGhpcyk7CiAgICB0aGlzLmltZy5hZGRFdmVudExpc3RlbmVyKCJlcnJvciIsIHRoaXMpOwogICAgdGhpcy5wcm94eUltYWdlLnNyYyA9IHRoaXMuaW1nLnNyYzsKICB9OwoKICBjLnByb3RvdHlwZS5nZXRJc0ltYWdlQ29tcGxldGUgPSBmdW5jdGlvbiAoKSB7CiAgICByZXR1cm4gdGhpcy5pbWcuY29tcGxldGUgJiYgdGhpcy5pbWcubmF0dXJhbFdpZHRoOwogIH07CgogIGMucHJvdG90eXBlLmNvbmZpcm0gPSBmdW5jdGlvbiAodCwgZSkgewogICAgdGhpcy5pc0xvYWRlZCA9IHQ7CiAgICB0aGlzLmVtaXRFdmVudCgicHJvZ3Jlc3MiLCBbdGhpcywgdGhpcy5pbWcsIGVdKTsKICB9OwoKICBjLnByb3RvdHlwZS5oYW5kbGVFdmVudCA9IGZ1bmN0aW9uICh0KSB7CiAgICB2YXIgZSA9ICJvbiIgKyB0LnR5cGU7CgogICAgaWYgKHRoaXNbZV0pIHsKICAgICAgdGhpc1tlXSh0KTsKICAgIH0KICB9OwoKICBjLnByb3RvdHlwZS5vbmxvYWQgPSBmdW5jdGlvbiAoKSB7CiAgICB0aGlzLmNvbmZpcm0odHJ1ZSwgIm9ubG9hZCIpOwogICAgdGhpcy51bmJpbmRFdmVudHMoKTsKICB9OwoKICBjLnByb3RvdHlwZS5vbmVycm9yID0gZnVuY3Rpb24gKCkgewogICAgdGhpcy5jb25maXJtKGZhbHNlLCAib25lcnJvciIpOwogICAgdGhpcy51bmJpbmRFdmVudHMoKTsKICB9OwoKICBjLnByb3RvdHlwZS51bmJpbmRFdmVudHMgPSBmdW5jdGlvbiAoKSB7CiAgICB0aGlzLnByb3h5SW1hZ2UucmVtb3ZlRXZlbnRMaXN0ZW5lcigibG9hZCIsIHRoaXMpOwogICAgdGhpcy5wcm94eUltYWdlLnJlbW92ZUV2ZW50TGlzdGVuZXIoImVycm9yIiwgdGhpcyk7CiAgICB0aGlzLmltZy5yZW1vdmVFdmVudExpc3RlbmVyKCJsb2FkIiwgdGhpcyk7CiAgICB0aGlzLmltZy5yZW1vdmVFdmVudExpc3RlbmVyKCJlcnJvciIsIHRoaXMpOwogIH07CgogIGZ1bmN0aW9uIHUodCwgZSkgewogICAgdGhpcy51cmwgPSB0OwogICAgdGhpcy5lbGVtZW50ID0gZTsKICAgIHRoaXMuaW1nID0gbmV3IEltYWdlKCk7CiAgfQoKICB1LnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoYy5wcm90b3R5cGUpOwoKICB1LnByb3RvdHlwZS5jaGVjayA9IGZ1bmN0aW9uICgpIHsKICAgIHRoaXMuaW1nLmFkZEV2ZW50TGlzdGVuZXIoImxvYWQiLCB0aGlzKTsKICAgIHRoaXMuaW1nLmFkZEV2ZW50TGlzdGVuZXIoImVycm9yIiwgdGhpcyk7CiAgICB0aGlzLmltZy5zcmMgPSB0aGlzLnVybDsKICAgIHZhciB0ID0gdGhpcy5nZXRJc0ltYWdlQ29tcGxldGUoKTsKCiAgICBpZiAodCkgewogICAgICB0aGlzLmNvbmZpcm0odGhpcy5pbWcubmF0dXJhbFdpZHRoICE9PSAwLCAibmF0dXJhbFdpZHRoIik7CiAgICAgIHRoaXMudW5iaW5kRXZlbnRzKCk7CiAgICB9CiAgfTsKCiAgdS5wcm90b3R5cGUudW5iaW5kRXZlbnRzID0gZnVuY3Rpb24gKCkgewogICAgdGhpcy5pbWcucmVtb3ZlRXZlbnRMaXN0ZW5lcigibG9hZCIsIHRoaXMpOwogICAgdGhpcy5pbWcucmVtb3ZlRXZlbnRMaXN0ZW5lcigiZXJyb3IiLCB0aGlzKTsKICB9OwoKICB1LnByb3RvdHlwZS5jb25maXJtID0gZnVuY3Rpb24gKHQsIGUpIHsKICAgIHRoaXMuaXNMb2FkZWQgPSB0OwogICAgdGhpcy5lbWl0RXZlbnQoInByb2dyZXNzIiwgW3RoaXMsIHRoaXMuZWxlbWVudCwgZV0pOwogIH07CgogIGwubWFrZUpRdWVyeVBsdWdpbiA9IGZ1bmN0aW9uICh0KSB7CiAgICB0ID0gdCB8fCBlLmpRdWVyeTsKCiAgICBpZiAoIXQpIHsKICAgICAgcmV0dXJuOwogICAgfQoKICAgIHMgPSB0OwoKICAgIHMuZm4uaW1hZ2VzTG9hZGVkID0gZnVuY3Rpb24gKHQsIGUpIHsKICAgICAgdmFyIGkgPSBuZXcgbCh0aGlzLCB0LCBlKTsKICAgICAgcmV0dXJuIGkuanFEZWZlcnJlZC5wcm9taXNlKHModGhpcykpOwogICAgfTsKICB9OwoKICBsLm1ha2VKUXVlcnlQbHVnaW4oKTsKICByZXR1cm4gbDsKfSk7Ci8qIQ0KICogRmxpY2tpdHkgaW1hZ2VzTG9hZGVkIHYyLjAuMA0KICogZW5hYmxlcyBpbWFnZXNMb2FkZWQgb3B0aW9uIGZvciBGbGlja2l0eQ0KICovCgoKKGZ1bmN0aW9uIChpLCBuKSB7CiAgaWYgKHR5cGVvZiBkZWZpbmUgPT0gImZ1bmN0aW9uIiAmJiBkZWZpbmUuYW1kKSB7CiAgICBkZWZpbmUoWyJmbGlja2l0eS9qcy9pbmRleCIsICJpbWFnZXNsb2FkZWQvaW1hZ2VzbG9hZGVkIl0sIGZ1bmN0aW9uICh0LCBlKSB7CiAgICAgIHJldHVybiBuKGksIHQsIGUpOwogICAgfSk7CiAgfSBlbHNlIGlmICgodHlwZW9mIG1vZHVsZSA9PT0gInVuZGVmaW5lZCIgPyAidW5kZWZpbmVkIiA6IF90eXBlb2YobW9kdWxlKSkgPT0gIm9iamVjdCIgJiYgbW9kdWxlLmV4cG9ydHMpIHsKICAgIG1vZHVsZS5leHBvcnRzID0gbihpLCByZXF1aXJlKCJmbGlja2l0eSIpLCByZXF1aXJlKCJpbWFnZXNsb2FkZWQiKSk7CiAgfSBlbHNlIHsKICAgIGkuRmxpY2tpdHkgPSBuKGksIGkuRmxpY2tpdHksIGkuaW1hZ2VzTG9hZGVkKTsKICB9Cn0pKHdpbmRvdywgZnVuY3Rpb24gdChlLCBpLCBzKSB7CiAgInVzZSBzdHJpY3QiOwoKICBpLmNyZWF0ZU1ldGhvZHMucHVzaCgiX2NyZWF0ZUltYWdlc0xvYWRlZCIpOwogIHZhciBuID0gaS5wcm90b3R5cGU7CgogIG4uX2NyZWF0ZUltYWdlc0xvYWRlZCA9IGZ1bmN0aW9uICgpIHsKICAgIHRoaXMub24oImFjdGl2YXRlIiwgdGhpcy5pbWFnZXNMb2FkZWQpOwogIH07CgogIG4uaW1hZ2VzTG9hZGVkID0gZnVuY3Rpb24gKCkgewogICAgaWYgKCF0aGlzLm9wdGlvbnMuaW1hZ2VzTG9hZGVkKSB7CiAgICAgIHJldHVybjsKICAgIH0KCiAgICB2YXIgbiA9IHRoaXM7CgogICAgZnVuY3Rpb24gdCh0LCBlKSB7CiAgICAgIHZhciBpID0gbi5nZXRQYXJlbnRDZWxsKGUuaW1nKTsKICAgICAgbi5jZWxsU2l6ZUNoYW5nZShpICYmIGkuZWxlbWVudCk7CgogICAgICBpZiAoIW4ub3B0aW9ucy5mcmVlU2Nyb2xsKSB7CiAgICAgICAgbi5wb3NpdGlvblNsaWRlckF0U2VsZWN0ZWQoKTsKICAgICAgfQogICAgfQoKICAgIHModGhpcy5zbGlkZXIpLm9uKCJwcm9ncmVzcyIsIHQpOwogIH07CgogIHJldHVybiBpOwp9KTs="},{"version":3,"sources":["C:/Users/rjj20/Desktop/renovabe/renovabe-vue/src/assets/js/flickity.js"],"names":["e","i","define","amd","t","module","exports","require","jQueryBridget","jQuery","window","r","o","Array","prototype","slice","console","u","error","n","h","s","c","option","isPlainObject","options","extend","fn","call","arguments","a","l","each","data","charAt","apply","undefined","_init","bridget","EvEmitter","on","_events","indexOf","push","once","_onceEvents","off","length","splice","emitEvent","allOff","getSize","m","parseFloat","isNaN","y","b","E","width","height","innerWidth","innerHeight","outerWidth","outerHeight","S","getComputedStyle","C","x","document","createElement","style","padding","borderStyle","borderWidth","boxSizing","body","documentElement","appendChild","Math","round","isBoxSizeOuter","removeChild","querySelector","nodeType","display","offsetWidth","offsetHeight","isBorderBox","paddingLeft","paddingRight","paddingTop","paddingBottom","marginLeft","marginRight","marginTop","marginBottom","d","borderLeftWidth","borderRightWidth","f","borderTopWidth","borderBottomWidth","p","v","g","matchesSelector","Element","matches","fizzyUIUtils","modulo","makeArray","isArray","removeFrom","getParent","parentNode","getQueryElement","handleEvent","type","filterFindElements","forEach","HTMLElement","querySelectorAll","debounceMethod","clearTimeout","setTimeout","docReady","readyState","addEventListener","toDashed","replace","toLowerCase","htmlInit","concat","getAttribute","JSON","parse","className","Flickity","Cell","element","parent","create","position","setAttribute","shift","destroy","unselect","originSide","removeAttribute","size","setPosition","updateTarget","renderPosition","setDefaultTarget","target","cellAlign","getPositionValue","select","classList","add","remove","wrapShift","slideableWidth","Slide","isOriginLeft","cells","addCell","max","firstMargin","getLastCell","getCellElements","map","animatePrototype","startAnimation","isAnimating","restingFrames","animate","applyDragForce","applySelectedAttraction","integratePhysics","positionSlider","settle","requestAnimationFrame","wrapAround","shiftWrapCells","setTranslateX","dispatchScrollEvent","cursorPosition","rightToLeft","slider","transform","slides","slidesWidth","dispatchEvent","positionSliderAtSelected","selectedSlide","velocity","percentPosition","isPointerDown","isFreeScrolling","selectedIndex","_shiftCells","beforeShiftCells","afterShiftCells","_unshiftCells","getFrictionFactor","applyForce","getRestingPosition","isDraggable","dragX","selectedAttraction","flickityGUID","$element","constructor","defaults","_create","accessibility","freeScrollFriction","friction","namespaceJQueryEvents","resize","setGallerySize","createMethods","guid","viewport","_createSlider","watchCSS","activate","isActive","_filterFindCellElements","children","reloadCells","tabIndex","selectInitialIndex","isInitActivated","cellSelector","_makeCells","positionCells","_getWrapShiftCells","getLastSlide","_sizeCells","_positionCells","maxCellHeight","updateSlides","_containSlides","_getCanCellFit","updateSelectedSlide","groupCells","parseInt","match","reposition","setCellAlign","center","left","right","adaptiveHeight","_getGapCells","contain","min","Event","trigger","_wrapSelect","abs","isDragSelect","previous","next","unselectSelectedSlide","selectedCells","selectedElements","selectedCell","selectedElement","initialIndex","queryCell","selectCell","getCellSlideIndex","getCell","getCells","getParentCell","getAdjacentCellElements","uiChange","childUIPointerDown","preventDefault","focus","onresize","content","deactivate","onkeydown","activeElement","keyboardHandlers","keyCode","pageYOffset","preventScroll","scrollTo","pageXOffset","removeEventListener","removeData","setJQuery","Unipointer","Object","bindStartEvent","_bindStartEvent","unbindStartEvent","PointerEvent","getTouch","identifier","pointerIdentifier","onmousedown","button","_pointerDown","ontouchstart","changedTouches","onpointerdown","pointerId","pointerDown","_bindPostStartEvents","mousedown","touchstart","pointerdown","_boundPointerEvents","_unbindPostStartEvents","onmousemove","_pointerMove","onpointermove","ontouchmove","pointerMove","onmouseup","_pointerUp","onpointerup","ontouchend","_pointerDone","pointerUp","_pointerReset","pointerDone","onpointercancel","_pointerCancel","ontouchcancel","pointerCancel","getPointerPoint","pageX","pageY","Unidragger","bindHandles","_bindHandles","unbindHandles","_touchActionValue","handles","touchAction","okayPointerDown","pointerDownPointer","pointerDownBlur","TEXTAREA","INPUT","SELECT","OPTION","radio","checkbox","submit","image","file","nodeName","blur","_dragPointerMove","_dragMove","isDragging","hasDragStarted","_dragStart","_dragPointerUp","_dragEnd","_staticClick","isPreventingClicks","dragStart","dragMove","bind","dragEnd","onclick","isIgnoringMouseUp","staticClick","draggable","dragThreshold","_createDrag","onActivateDrag","_uiChangeDrag","onDeactivateDrag","updateDraggable","bindDrag","unbindDrag","_pointerDownDefault","_pointerDownPreventDefault","pointerDownFocus","pointerDownScroll","pointerType","isTouchScrolling","dragStartPosition","previousDragX","dragMoveTime","Date","freeScroll","dragEndRestingSelect","dragEndBoostSelect","getSlideDistance","_getClosestResting","distance","index","Infinity","floor","onscroll","direction","isEnabled","isPrevious","isLeft","disable","createSVG","update","createElementNS","arrowShape","x0","x1","y1","x2","y2","x3","enable","disabled","prevNextButtons","_createPrevNextButtons","prevButton","nextButton","activatePrevNextButtons","deactivatePrevNextButtons","PrevNextButton","holder","dots","handleClick","onClick","setDots","addDots","removeDots","createDocumentFragment","updateSelected","selectedDot","onTap","PageDots","pageDots","_createPageDots","activatePageDots","updateSelectedPageDots","updatePageDots","deactivatePageDots","state","onVisibilityChange","visibilityChange","onVisibilityPlay","visibilityPlay","play","hidden","tick","autoPlay","clear","timeout","stop","pause","unpause","pauseAutoPlayOnHover","_createPlayer","player","activatePlayer","stopPlayer","deactivatePlayer","playPlayer","pausePlayer","unpausePlayer","onmouseenter","onmouseleave","Player","insert","insertBefore","cellChange","append","prepend","cellSizeChange","_createLazyload","lazyLoad","img","flickity","load","src","onload","complete","onerror","LazyLoader","_createAsNavFor","activateAsNavFor","deactivateAsNavFor","destroyAsNavFor","asNavFor","setNavCompanion","navCompanion","onNavCompanionSelect","navCompanionSelect","onNavStaticClick","removeNavSelectedElements","navSelectedElements","changeNavSelectedClass","imagesLoaded","elements","getImages","jqDeferred","Deferred","check","images","addElementImages","addImage","background","addElementBackgroundImages","exec","backgroundImage","addBackground","progressedCount","hasAnyBroken","progress","isLoaded","notify","debug","log","isComplete","getIsImageComplete","confirm","naturalWidth","proxyImage","Image","unbindEvents","url","makeJQueryPlugin","promise","_createImagesLoaded"],"mappings":"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","sourcesContent":["/*!\r\n * Flickity PACKAGED v2.2.2\r\n * Touch, responsive, flickable carousels\r\n *\r\n * Licensed GPLv3 for open source use\r\n * or Flickity Commercial License for commercial use\r\n *\r\n * https://flickity.metafizzy.co\r\n * Copyright 2015-2021 Metafizzy\r\n */\r\n(function(e,i){if(typeof define==\"function\"&&define.amd){define(\"jquery-bridget/jquery-bridget\",[\"jquery\"],function(t){return i(e,t)})}else if(typeof module==\"object\"&&module.exports){module.exports=i(e,require(\"jquery\"))}else{e.jQueryBridget=i(e,e.jQuery)}})(window,function t(e,r){\"use strict\";var o=Array.prototype.slice;var i=e.console;var u=typeof i==\"undefined\"?function(){}:function(t){i.error(t)};function n(h,s,c){c=c||r||e.jQuery;if(!c){return}if(!s.prototype.option){s.prototype.option=function(t){if(!c.isPlainObject(t)){return}this.options=c.extend(true,this.options,t)}}c.fn[h]=function(t){if(typeof t==\"string\"){var e=o.call(arguments,1);return i(this,t,e)}n(this,t);return this};function i(t,r,o){var a;var l=\"$().\"+h+'(\"'+r+'\")';t.each(function(t,e){var i=c.data(e,h);if(!i){u(h+\" not initialized. Cannot call methods, i.e. \"+l);return}var n=i[r];if(!n||r.charAt(0)==\"_\"){u(l+\" is not a valid method\");return}var s=n.apply(i,o);a=a===undefined?s:a});return a!==undefined?a:t}function n(t,n){t.each(function(t,e){var i=c.data(e,h);if(i){i.option(n);i._init()}else{i=new s(e,n);c.data(e,h,i)}})}a(c)}function a(t){if(!t||t&&t.bridget){return}t.bridget=n}a(r||e.jQuery);return n});(function(t,e){if(typeof define==\"function\"&&define.amd){define(\"ev-emitter/ev-emitter\",e)}else if(typeof module==\"object\"&&module.exports){module.exports=e()}else{t.EvEmitter=e()}})(typeof window!=\"undefined\"?window:this,function(){function t(){}var e=t.prototype;e.on=function(t,e){if(!t||!e){return}var i=this._events=this._events||{};var n=i[t]=i[t]||[];if(n.indexOf(e)==-1){n.push(e)}return this};e.once=function(t,e){if(!t||!e){return}this.on(t,e);var i=this._onceEvents=this._onceEvents||{};var n=i[t]=i[t]||{};n[e]=true;return this};e.off=function(t,e){var i=this._events&&this._events[t];if(!i||!i.length){return}var n=i.indexOf(e);if(n!=-1){i.splice(n,1)}return this};e.emitEvent=function(t,e){var i=this._events&&this._events[t];if(!i||!i.length){return}i=i.slice(0);e=e||[];var n=this._onceEvents&&this._onceEvents[t];for(var s=0;s<i.length;s++){var r=i[s];var o=n&&n[r];if(o){this.off(t,r);delete n[r]}r.apply(this,e)}return this};e.allOff=function(){delete this._events;delete this._onceEvents};return t});\r\n/*!\r\n * getSize v2.0.3\r\n * measure size of elements\r\n * MIT license\r\n */\r\n(function(t,e){if(typeof define==\"function\"&&define.amd){define(\"get-size/get-size\",e)}else if(typeof module==\"object\"&&module.exports){module.exports=e()}else{t.getSize=e()}})(window,function t(){\"use strict\";function m(t){var e=parseFloat(t);var i=t.indexOf(\"%\")==-1&&!isNaN(e);return i&&e}function e(){}var i=typeof console==\"undefined\"?e:function(t){console.error(t)};var y=[\"paddingLeft\",\"paddingRight\",\"paddingTop\",\"paddingBottom\",\"marginLeft\",\"marginRight\",\"marginTop\",\"marginBottom\",\"borderLeftWidth\",\"borderRightWidth\",\"borderTopWidth\",\"borderBottomWidth\"];var b=y.length;function E(){var t={width:0,height:0,innerWidth:0,innerHeight:0,outerWidth:0,outerHeight:0};for(var e=0;e<b;e++){var i=y[e];t[i]=0}return t}function S(t){var e=getComputedStyle(t);if(!e){i(\"Style returned \"+e+\". Are you running this code in a hidden iframe on Firefox? \"+\"See https://bit.ly/getsizebug1\")}return e}var n=false;var C;function x(){if(n){return}n=true;var t=document.createElement(\"div\");t.style.width=\"200px\";t.style.padding=\"1px 2px 3px 4px\";t.style.borderStyle=\"solid\";t.style.borderWidth=\"1px 2px 3px 4px\";t.style.boxSizing=\"border-box\";var e=document.body||document.documentElement;e.appendChild(t);var i=S(t);C=Math.round(m(i.width))==200;s.isBoxSizeOuter=C;e.removeChild(t)}function s(t){x();if(typeof t==\"string\"){t=document.querySelector(t)}if(!t||typeof t!=\"object\"||!t.nodeType){return}var e=S(t);if(e.display==\"none\"){return E()}var i={};i.width=t.offsetWidth;i.height=t.offsetHeight;var n=i.isBorderBox=e.boxSizing==\"border-box\";for(var s=0;s<b;s++){var r=y[s];var o=e[r];var a=parseFloat(o);i[r]=!isNaN(a)?a:0}var l=i.paddingLeft+i.paddingRight;var h=i.paddingTop+i.paddingBottom;var c=i.marginLeft+i.marginRight;var u=i.marginTop+i.marginBottom;var d=i.borderLeftWidth+i.borderRightWidth;var f=i.borderTopWidth+i.borderBottomWidth;var p=n&&C;var v=m(e.width);if(v!==false){i.width=v+(p?0:l+d)}var g=m(e.height);if(g!==false){i.height=g+(p?0:h+f)}i.innerWidth=i.width-(l+d);i.innerHeight=i.height-(h+f);i.outerWidth=i.width+c;i.outerHeight=i.height+u;return i}return s});(function(t,e){\"use strict\";if(typeof define==\"function\"&&define.amd){define(\"desandro-matches-selector/matches-selector\",e)}else if(typeof module==\"object\"&&module.exports){module.exports=e()}else{t.matchesSelector=e()}})(window,function t(){\"use strict\";var n=function(){var t=window.Element.prototype;if(t.matches){return\"matches\"}if(t.matchesSelector){return\"matchesSelector\"}var e=[\"webkit\",\"moz\",\"ms\",\"o\"];for(var i=0;i<e.length;i++){var n=e[i];var s=n+\"MatchesSelector\";if(t[s]){return s}}}();return function t(e,i){return e[n](i)}});(function(e,i){if(typeof define==\"function\"&&define.amd){define(\"fizzy-ui-utils/utils\",[\"desandro-matches-selector/matches-selector\"],function(t){return i(e,t)})}else if(typeof module==\"object\"&&module.exports){module.exports=i(e,require(\"desandro-matches-selector\"))}else{e.fizzyUIUtils=i(e,e.matchesSelector)}})(window,function t(h,r){var c={};c.extend=function(t,e){for(var i in e){t[i]=e[i]}return t};c.modulo=function(t,e){return(t%e+e)%e};var i=Array.prototype.slice;c.makeArray=function(t){if(Array.isArray(t)){return t}if(t===null||t===undefined){return[]}var e=typeof t==\"object\"&&typeof t.length==\"number\";if(e){return i.call(t)}return[t]};c.removeFrom=function(t,e){var i=t.indexOf(e);if(i!=-1){t.splice(i,1)}};c.getParent=function(t,e){while(t.parentNode&&t!=document.body){t=t.parentNode;if(r(t,e)){return t}}};c.getQueryElement=function(t){if(typeof t==\"string\"){return document.querySelector(t)}return t};c.handleEvent=function(t){var e=\"on\"+t.type;if(this[e]){this[e](t)}};c.filterFindElements=function(t,n){t=c.makeArray(t);var s=[];t.forEach(function(t){if(!(t instanceof HTMLElement)){return}if(!n){s.push(t);return}if(r(t,n)){s.push(t)}var e=t.querySelectorAll(n);for(var i=0;i<e.length;i++){s.push(e[i])}});return s};c.debounceMethod=function(t,e,n){n=n||100;var s=t.prototype[e];var r=e+\"Timeout\";t.prototype[e]=function(){var t=this[r];clearTimeout(t);var e=arguments;var i=this;this[r]=setTimeout(function(){s.apply(i,e);delete i[r]},n)}};c.docReady=function(t){var e=document.readyState;if(e==\"complete\"||e==\"interactive\"){setTimeout(t)}else{document.addEventListener(\"DOMContentLoaded\",t)}};c.toDashed=function(t){return t.replace(/(.)([A-Z])/g,function(t,e,i){return e+\"-\"+i}).toLowerCase()};var u=h.console;c.htmlInit=function(a,l){c.docReady(function(){var t=c.toDashed(l);var s=\"data-\"+t;var e=document.querySelectorAll(\"[\"+s+\"]\");var i=document.querySelectorAll(\".js-\"+t);var n=c.makeArray(e).concat(c.makeArray(i));var r=s+\"-options\";var o=h.jQuery;n.forEach(function(e){var t=e.getAttribute(s)||e.getAttribute(r);var i;try{i=t&&JSON.parse(t)}catch(t){if(u){u.error(\"Error parsing \"+s+\" on \"+e.className+\": \"+t)}return}var n=new a(e,i);if(o){o.data(e,l,n)}})})};return c});(function(e,i){if(typeof define==\"function\"&&define.amd){define(\"flickity/js/cell\",[\"get-size/get-size\"],function(t){return i(e,t)})}else if(typeof module==\"object\"&&module.exports){module.exports=i(e,require(\"get-size\"))}else{e.Flickity=e.Flickity||{};e.Flickity.Cell=i(e,e.getSize)}})(window,function t(e,i){function n(t,e){this.element=t;this.parent=e;this.create()}var s=n.prototype;s.create=function(){this.element.style.position=\"absolute\";this.element.setAttribute(\"aria-hidden\",\"true\");this.x=0;this.shift=0};s.destroy=function(){this.unselect();this.element.style.position=\"\";var t=this.parent.originSide;this.element.style[t]=\"\";this.element.removeAttribute(\"aria-hidden\")};s.getSize=function(){this.size=i(this.element)};s.setPosition=function(t){this.x=t;this.updateTarget();this.renderPosition(t)};s.updateTarget=s.setDefaultTarget=function(){var t=this.parent.originSide==\"left\"?\"marginLeft\":\"marginRight\";this.target=this.x+this.size[t]+this.size.width*this.parent.cellAlign};s.renderPosition=function(t){var e=this.parent.originSide;this.element.style[e]=this.parent.getPositionValue(t)};s.select=function(){this.element.classList.add(\"is-selected\");this.element.removeAttribute(\"aria-hidden\")};s.unselect=function(){this.element.classList.remove(\"is-selected\");this.element.setAttribute(\"aria-hidden\",\"true\")};s.wrapShift=function(t){this.shift=t;this.renderPosition(this.x+this.parent.slideableWidth*t)};s.remove=function(){this.element.parentNode.removeChild(this.element)};return n});(function(t,e){if(typeof define==\"function\"&&define.amd){define(\"flickity/js/slide\",e)}else if(typeof module==\"object\"&&module.exports){module.exports=e()}else{t.Flickity=t.Flickity||{};t.Flickity.Slide=e()}})(window,function t(){\"use strict\";function e(t){this.parent=t;this.isOriginLeft=t.originSide==\"left\";this.cells=[];this.outerWidth=0;this.height=0}var i=e.prototype;i.addCell=function(t){this.cells.push(t);this.outerWidth+=t.size.outerWidth;this.height=Math.max(t.size.outerHeight,this.height);if(this.cells.length==1){this.x=t.x;var e=this.isOriginLeft?\"marginLeft\":\"marginRight\";this.firstMargin=t.size[e]}};i.updateTarget=function(){var t=this.isOriginLeft?\"marginRight\":\"marginLeft\";var e=this.getLastCell();var i=e?e.size[t]:0;var n=this.outerWidth-(this.firstMargin+i);this.target=this.x+this.firstMargin+n*this.parent.cellAlign};i.getLastCell=function(){return this.cells[this.cells.length-1]};i.select=function(){this.cells.forEach(function(t){t.select()})};i.unselect=function(){this.cells.forEach(function(t){t.unselect()})};i.getCellElements=function(){return this.cells.map(function(t){return t.element})};return e});(function(e,i){if(typeof define==\"function\"&&define.amd){define(\"flickity/js/animate\",[\"fizzy-ui-utils/utils\"],function(t){return i(e,t)})}else if(typeof module==\"object\"&&module.exports){module.exports=i(e,require(\"fizzy-ui-utils\"))}else{e.Flickity=e.Flickity||{};e.Flickity.animatePrototype=i(e,e.fizzyUIUtils)}})(window,function t(e,i){var n={};n.startAnimation=function(){if(this.isAnimating){return}this.isAnimating=true;this.restingFrames=0;this.animate()};n.animate=function(){this.applyDragForce();this.applySelectedAttraction();var t=this.x;this.integratePhysics();this.positionSlider();this.settle(t);if(this.isAnimating){var e=this;requestAnimationFrame(function t(){e.animate()})}};n.positionSlider=function(){var t=this.x;if(this.options.wrapAround&&this.cells.length>1){t=i.modulo(t,this.slideableWidth);t-=this.slideableWidth;this.shiftWrapCells(t)}this.setTranslateX(t,this.isAnimating);this.dispatchScrollEvent()};n.setTranslateX=function(t,e){t+=this.cursorPosition;t=this.options.rightToLeft?-t:t;var i=this.getPositionValue(t);this.slider.style.transform=e?\"translate3d(\"+i+\",0,0)\":\"translateX(\"+i+\")\"};n.dispatchScrollEvent=function(){var t=this.slides[0];if(!t){return}var e=-this.x-t.target;var i=e/this.slidesWidth;this.dispatchEvent(\"scroll\",null,[i,e])};n.positionSliderAtSelected=function(){if(!this.cells.length){return}this.x=-this.selectedSlide.target;this.velocity=0;this.positionSlider()};n.getPositionValue=function(t){if(this.options.percentPosition){return Math.round(t/this.size.innerWidth*1e4)*.01+\"%\"}else{return Math.round(t)+\"px\"}};n.settle=function(t){var e=!this.isPointerDown&&Math.round(this.x*100)==Math.round(t*100);if(e){this.restingFrames++}if(this.restingFrames>2){this.isAnimating=false;delete this.isFreeScrolling;this.positionSlider();this.dispatchEvent(\"settle\",null,[this.selectedIndex])}};n.shiftWrapCells=function(t){var e=this.cursorPosition+t;this._shiftCells(this.beforeShiftCells,e,-1);var i=this.size.innerWidth-(t+this.slideableWidth+this.cursorPosition);this._shiftCells(this.afterShiftCells,i,1)};n._shiftCells=function(t,e,i){for(var n=0;n<t.length;n++){var s=t[n];var r=e>0?i:0;s.wrapShift(r);e-=s.size.outerWidth}};n._unshiftCells=function(t){if(!t||!t.length){return}for(var e=0;e<t.length;e++){t[e].wrapShift(0)}};n.integratePhysics=function(){this.x+=this.velocity;this.velocity*=this.getFrictionFactor()};n.applyForce=function(t){this.velocity+=t};n.getFrictionFactor=function(){return 1-this.options[this.isFreeScrolling?\"freeScrollFriction\":\"friction\"]};n.getRestingPosition=function(){return this.x+this.velocity/(1-this.getFrictionFactor())};n.applyDragForce=function(){if(!this.isDraggable||!this.isPointerDown){return}var t=this.dragX-this.x;var e=t-this.velocity;this.applyForce(e)};n.applySelectedAttraction=function(){var t=this.isDraggable&&this.isPointerDown;if(t||this.isFreeScrolling||!this.slides.length){return}var e=this.selectedSlide.target*-1-this.x;var i=e*this.options.selectedAttraction;this.applyForce(i)};return n});(function(o,a){if(typeof define==\"function\"&&define.amd){define(\"flickity/js/flickity\",[\"ev-emitter/ev-emitter\",\"get-size/get-size\",\"fizzy-ui-utils/utils\",\"./cell\",\"./slide\",\"./animate\"],function(t,e,i,n,s,r){return a(o,t,e,i,n,s,r)})}else if(typeof module==\"object\"&&module.exports){module.exports=a(o,require(\"ev-emitter\"),require(\"get-size\"),require(\"fizzy-ui-utils\"),require(\"./cell\"),require(\"./slide\"),require(\"./animate\"))}else{var t=o.Flickity;o.Flickity=a(o,o.EvEmitter,o.getSize,o.fizzyUIUtils,t.Cell,t.Slide,t.animatePrototype)}})(window,function t(n,e,i,a,s,o,r){var l=n.jQuery;var h=n.getComputedStyle;var c=n.console;function u(t,e){t=a.makeArray(t);while(t.length){e.appendChild(t.shift())}}var d=0;var f={};function p(t,e){var i=a.getQueryElement(t);if(!i){if(c){c.error(\"Bad element for Flickity: \"+(i||t))}return}this.element=i;if(this.element.flickityGUID){var n=f[this.element.flickityGUID];if(n)n.option(e);return n}if(l){this.$element=l(this.element)}this.options=a.extend({},this.constructor.defaults);this.option(e);this._create()}p.defaults={accessibility:true,cellAlign:\"center\",freeScrollFriction:.075,friction:.28,namespaceJQueryEvents:true,percentPosition:true,resize:true,selectedAttraction:.025,setGallerySize:true};p.createMethods=[];var v=p.prototype;a.extend(v,e.prototype);v._create=function(){var t=this.guid=++d;this.element.flickityGUID=t;f[t]=this;this.selectedIndex=0;this.restingFrames=0;this.x=0;this.velocity=0;this.originSide=this.options.rightToLeft?\"right\":\"left\";this.viewport=document.createElement(\"div\");this.viewport.className=\"flickity-viewport\";this._createSlider();if(this.options.resize||this.options.watchCSS){n.addEventListener(\"resize\",this)}for(var e in this.options.on){var i=this.options.on[e];this.on(e,i)}p.createMethods.forEach(function(t){this[t]()},this);if(this.options.watchCSS){this.watchCSS()}else{this.activate()}};v.option=function(t){a.extend(this.options,t)};v.activate=function(){if(this.isActive){return}this.isActive=true;this.element.classList.add(\"flickity-enabled\");if(this.options.rightToLeft){this.element.classList.add(\"flickity-rtl\")}this.getSize();var t=this._filterFindCellElements(this.element.children);u(t,this.slider);this.viewport.appendChild(this.slider);this.element.appendChild(this.viewport);this.reloadCells();if(this.options.accessibility){this.element.tabIndex=0;this.element.addEventListener(\"keydown\",this)}this.emitEvent(\"activate\");this.selectInitialIndex();this.isInitActivated=true;this.dispatchEvent(\"ready\")};v._createSlider=function(){var t=document.createElement(\"div\");t.className=\"flickity-slider\";t.style[this.originSide]=0;this.slider=t};v._filterFindCellElements=function(t){return a.filterFindElements(t,this.options.cellSelector)};v.reloadCells=function(){this.cells=this._makeCells(this.slider.children);this.positionCells();this._getWrapShiftCells();this.setGallerySize()};v._makeCells=function(t){var e=this._filterFindCellElements(t);var i=e.map(function(t){return new s(t,this)},this);return i};v.getLastCell=function(){return this.cells[this.cells.length-1]};v.getLastSlide=function(){return this.slides[this.slides.length-1]};v.positionCells=function(){this._sizeCells(this.cells);this._positionCells(0)};v._positionCells=function(t){t=t||0;this.maxCellHeight=t?this.maxCellHeight||0:0;var e=0;if(t>0){var i=this.cells[t-1];e=i.x+i.size.outerWidth}var n=this.cells.length;for(var s=t;s<n;s++){var r=this.cells[s];r.setPosition(e);e+=r.size.outerWidth;this.maxCellHeight=Math.max(r.size.outerHeight,this.maxCellHeight)}this.slideableWidth=e;this.updateSlides();this._containSlides();this.slidesWidth=n?this.getLastSlide().target-this.slides[0].target:0};v._sizeCells=function(t){t.forEach(function(t){t.getSize()})};v.updateSlides=function(){this.slides=[];if(!this.cells.length){return}var n=new o(this);this.slides.push(n);var t=this.originSide==\"left\";var s=t?\"marginRight\":\"marginLeft\";var r=this._getCanCellFit();this.cells.forEach(function(t,e){if(!n.cells.length){n.addCell(t);return}var i=n.outerWidth-n.firstMargin+(t.size.outerWidth-t.size[s]);if(r.call(this,e,i)){n.addCell(t)}else{n.updateTarget();n=new o(this);this.slides.push(n);n.addCell(t)}},this);n.updateTarget();this.updateSelectedSlide()};v._getCanCellFit=function(){var t=this.options.groupCells;if(!t){return function(){return false}}else if(typeof t==\"number\"){var e=parseInt(t,10);return function(t){return t%e!==0}}var i=typeof t==\"string\"&&t.match(/^(\\d+)%$/);var n=i?parseInt(i[1],10)/100:1;return function(t,e){return e<=(this.size.innerWidth+1)*n}};v._init=v.reposition=function(){this.positionCells();this.positionSliderAtSelected()};v.getSize=function(){this.size=i(this.element);this.setCellAlign();this.cursorPosition=this.size.innerWidth*this.cellAlign};var g={center:{left:.5,right:.5},left:{left:0,right:1},right:{right:0,left:1}};v.setCellAlign=function(){var t=g[this.options.cellAlign];this.cellAlign=t?t[this.originSide]:this.options.cellAlign};v.setGallerySize=function(){if(this.options.setGallerySize){var t=this.options.adaptiveHeight&&this.selectedSlide?this.selectedSlide.height:this.maxCellHeight;this.viewport.style.height=t+\"px\"}};v._getWrapShiftCells=function(){if(!this.options.wrapAround){return}this._unshiftCells(this.beforeShiftCells);this._unshiftCells(this.afterShiftCells);var t=this.cursorPosition;var e=this.cells.length-1;this.beforeShiftCells=this._getGapCells(t,e,-1);t=this.size.innerWidth-this.cursorPosition;this.afterShiftCells=this._getGapCells(t,0,1)};v._getGapCells=function(t,e,i){var n=[];while(t>0){var s=this.cells[e];if(!s){break}n.push(s);e+=i;t-=s.size.outerWidth}return n};v._containSlides=function(){if(!this.options.contain||this.options.wrapAround||!this.cells.length){return}var t=this.options.rightToLeft;var e=t?\"marginRight\":\"marginLeft\";var i=t?\"marginLeft\":\"marginRight\";var n=this.slideableWidth-this.getLastCell().size[i];var s=n<this.size.innerWidth;var r=this.cursorPosition+this.cells[0].size[e];var o=n-this.size.innerWidth*(1-this.cellAlign);this.slides.forEach(function(t){if(s){t.target=n*this.cellAlign}else{t.target=Math.max(t.target,r);t.target=Math.min(t.target,o)}},this)};v.dispatchEvent=function(t,e,i){var n=e?[e].concat(i):i;this.emitEvent(t,n);if(l&&this.$element){t+=this.options.namespaceJQueryEvents?\".flickity\":\"\";var s=t;if(e){var r=new l.Event(e);r.type=t;s=r}this.$element.trigger(s,i)}};v.select=function(t,e,i){if(!this.isActive){return}t=parseInt(t,10);this._wrapSelect(t);if(this.options.wrapAround||e){t=a.modulo(t,this.slides.length)}if(!this.slides[t]){return}var n=this.selectedIndex;this.selectedIndex=t;this.updateSelectedSlide();if(i){this.positionSliderAtSelected()}else{this.startAnimation()}if(this.options.adaptiveHeight){this.setGallerySize()}this.dispatchEvent(\"select\",null,[t]);if(t!=n){this.dispatchEvent(\"change\",null,[t])}this.dispatchEvent(\"cellSelect\")};v._wrapSelect=function(t){var e=this.slides.length;var i=this.options.wrapAround&&e>1;if(!i){return t}var n=a.modulo(t,e);var s=Math.abs(n-this.selectedIndex);var r=Math.abs(n+e-this.selectedIndex);var o=Math.abs(n-e-this.selectedIndex);if(!this.isDragSelect&&r<s){t+=e}else if(!this.isDragSelect&&o<s){t-=e}if(t<0){this.x-=this.slideableWidth}else if(t>=e){this.x+=this.slideableWidth}};v.previous=function(t,e){this.select(this.selectedIndex-1,t,e)};v.next=function(t,e){this.select(this.selectedIndex+1,t,e)};v.updateSelectedSlide=function(){var t=this.slides[this.selectedIndex];if(!t){return}this.unselectSelectedSlide();this.selectedSlide=t;t.select();this.selectedCells=t.cells;this.selectedElements=t.getCellElements();this.selectedCell=t.cells[0];this.selectedElement=this.selectedElements[0]};v.unselectSelectedSlide=function(){if(this.selectedSlide){this.selectedSlide.unselect()}};v.selectInitialIndex=function(){var t=this.options.initialIndex;if(this.isInitActivated){this.select(this.selectedIndex,false,true);return}if(t&&typeof t==\"string\"){var e=this.queryCell(t);if(e){this.selectCell(t,false,true);return}}var i=0;if(t&&this.slides[t]){i=t}this.select(i,false,true)};v.selectCell=function(t,e,i){var n=this.queryCell(t);if(!n){return}var s=this.getCellSlideIndex(n);this.select(s,e,i)};v.getCellSlideIndex=function(t){for(var e=0;e<this.slides.length;e++){var i=this.slides[e];var n=i.cells.indexOf(t);if(n!=-1){return e}}};v.getCell=function(t){for(var e=0;e<this.cells.length;e++){var i=this.cells[e];if(i.element==t){return i}}};v.getCells=function(t){t=a.makeArray(t);var i=[];t.forEach(function(t){var e=this.getCell(t);if(e){i.push(e)}},this);return i};v.getCellElements=function(){return this.cells.map(function(t){return t.element})};v.getParentCell=function(t){var e=this.getCell(t);if(e){return e}t=a.getParent(t,\".flickity-slider > *\");return this.getCell(t)};v.getAdjacentCellElements=function(t,e){if(!t){return this.selectedSlide.getCellElements()}e=e===undefined?this.selectedIndex:e;var i=this.slides.length;if(1+t*2>=i){return this.getCellElements()}var n=[];for(var s=e-t;s<=e+t;s++){var r=this.options.wrapAround?a.modulo(s,i):s;var o=this.slides[r];if(o){n=n.concat(o.getCellElements())}}return n};v.queryCell=function(t){if(typeof t==\"number\"){return this.cells[t]}if(typeof t==\"string\"){if(t.match(/^[#.]?[\\d/]/)){return}t=this.element.querySelector(t)}return this.getCell(t)};v.uiChange=function(){this.emitEvent(\"uiChange\")};v.childUIPointerDown=function(t){if(t.type!=\"touchstart\"){t.preventDefault()}this.focus()};v.onresize=function(){this.watchCSS();this.resize()};a.debounceMethod(p,\"onresize\",150);v.resize=function(){if(!this.isActive){return}this.getSize();if(this.options.wrapAround){this.x=a.modulo(this.x,this.slideableWidth)}this.positionCells();this._getWrapShiftCells();this.setGallerySize();this.emitEvent(\"resize\");var t=this.selectedElements&&this.selectedElements[0];this.selectCell(t,false,true)};v.watchCSS=function(){var t=this.options.watchCSS;if(!t){return}var e=h(this.element,\":after\").content;if(e.indexOf(\"flickity\")!=-1){this.activate()}else{this.deactivate()}};v.onkeydown=function(t){var e=document.activeElement&&document.activeElement!=this.element;if(!this.options.accessibility||e){return}var i=p.keyboardHandlers[t.keyCode];if(i){i.call(this)}};p.keyboardHandlers={37:function(){var t=this.options.rightToLeft?\"next\":\"previous\";this.uiChange();this[t]()},39:function(){var t=this.options.rightToLeft?\"previous\":\"next\";this.uiChange();this[t]()}};v.focus=function(){var t=n.pageYOffset;this.element.focus({preventScroll:true});if(n.pageYOffset!=t){n.scrollTo(n.pageXOffset,t)}};v.deactivate=function(){if(!this.isActive){return}this.element.classList.remove(\"flickity-enabled\");this.element.classList.remove(\"flickity-rtl\");this.unselectSelectedSlide();this.cells.forEach(function(t){t.destroy()});this.element.removeChild(this.viewport);u(this.slider.children,this.element);if(this.options.accessibility){this.element.removeAttribute(\"tabIndex\");this.element.removeEventListener(\"keydown\",this)}this.isActive=false;this.emitEvent(\"deactivate\")};v.destroy=function(){this.deactivate();n.removeEventListener(\"resize\",this);this.allOff();this.emitEvent(\"destroy\");if(l&&this.$element){l.removeData(this.element,\"flickity\")}delete this.element.flickityGUID;delete f[this.guid]};a.extend(v,r);p.data=function(t){t=a.getQueryElement(t);var e=t&&t.flickityGUID;return e&&f[e]};a.htmlInit(p,\"flickity\");if(l&&l.bridget){l.bridget(\"flickity\",p)}p.setJQuery=function(t){l=t};p.Cell=s;p.Slide=o;return p});\r\n/*!\r\n * Unipointer v2.3.0\r\n * base class for doing one thing with pointer event\r\n * MIT license\r\n */\r\n(function(e,i){if(typeof define==\"function\"&&define.amd){define(\"unipointer/unipointer\",[\"ev-emitter/ev-emitter\"],function(t){return i(e,t)})}else if(typeof module==\"object\"&&module.exports){module.exports=i(e,require(\"ev-emitter\"))}else{e.Unipointer=i(e,e.EvEmitter)}})(window,function t(s,e){function i(){}function n(){}var r=n.prototype=Object.create(e.prototype);r.bindStartEvent=function(t){this._bindStartEvent(t,true)};r.unbindStartEvent=function(t){this._bindStartEvent(t,false)};r._bindStartEvent=function(t,e){e=e===undefined?true:e;var i=e?\"addEventListener\":\"removeEventListener\";var n=\"mousedown\";if(s.PointerEvent){n=\"pointerdown\"}else if(\"ontouchstart\"in s){n=\"touchstart\"}t[i](n,this)};r.handleEvent=function(t){var e=\"on\"+t.type;if(this[e]){this[e](t)}};r.getTouch=function(t){for(var e=0;e<t.length;e++){var i=t[e];if(i.identifier==this.pointerIdentifier){return i}}};r.onmousedown=function(t){var e=t.button;if(e&&(e!==0&&e!==1)){return}this._pointerDown(t,t)};r.ontouchstart=function(t){this._pointerDown(t,t.changedTouches[0])};r.onpointerdown=function(t){this._pointerDown(t,t)};r._pointerDown=function(t,e){if(t.button||this.isPointerDown){return}this.isPointerDown=true;this.pointerIdentifier=e.pointerId!==undefined?e.pointerId:e.identifier;this.pointerDown(t,e)};r.pointerDown=function(t,e){this._bindPostStartEvents(t);this.emitEvent(\"pointerDown\",[t,e])};var o={mousedown:[\"mousemove\",\"mouseup\"],touchstart:[\"touchmove\",\"touchend\",\"touchcancel\"],pointerdown:[\"pointermove\",\"pointerup\",\"pointercancel\"]};r._bindPostStartEvents=function(t){if(!t){return}var e=o[t.type];e.forEach(function(t){s.addEventListener(t,this)},this);this._boundPointerEvents=e};r._unbindPostStartEvents=function(){if(!this._boundPointerEvents){return}this._boundPointerEvents.forEach(function(t){s.removeEventListener(t,this)},this);delete this._boundPointerEvents};r.onmousemove=function(t){this._pointerMove(t,t)};r.onpointermove=function(t){if(t.pointerId==this.pointerIdentifier){this._pointerMove(t,t)}};r.ontouchmove=function(t){var e=this.getTouch(t.changedTouches);if(e){this._pointerMove(t,e)}};r._pointerMove=function(t,e){this.pointerMove(t,e)};r.pointerMove=function(t,e){this.emitEvent(\"pointerMove\",[t,e])};r.onmouseup=function(t){this._pointerUp(t,t)};r.onpointerup=function(t){if(t.pointerId==this.pointerIdentifier){this._pointerUp(t,t)}};r.ontouchend=function(t){var e=this.getTouch(t.changedTouches);if(e){this._pointerUp(t,e)}};r._pointerUp=function(t,e){this._pointerDone();this.pointerUp(t,e)};r.pointerUp=function(t,e){this.emitEvent(\"pointerUp\",[t,e])};r._pointerDone=function(){this._pointerReset();this._unbindPostStartEvents();this.pointerDone()};r._pointerReset=function(){this.isPointerDown=false;delete this.pointerIdentifier};r.pointerDone=i;r.onpointercancel=function(t){if(t.pointerId==this.pointerIdentifier){this._pointerCancel(t,t)}};r.ontouchcancel=function(t){var e=this.getTouch(t.changedTouches);if(e){this._pointerCancel(t,e)}};r._pointerCancel=function(t,e){this._pointerDone();this.pointerCancel(t,e)};r.pointerCancel=function(t,e){this.emitEvent(\"pointerCancel\",[t,e])};n.getPointerPoint=function(t){return{x:t.pageX,y:t.pageY}};return n});\r\n/*!\r\n * Unidragger v2.3.1\r\n * Draggable base class\r\n * MIT license\r\n */\r\n(function(e,i){if(typeof define==\"function\"&&define.amd){define(\"unidragger/unidragger\",[\"unipointer/unipointer\"],function(t){return i(e,t)})}else if(typeof module==\"object\"&&module.exports){module.exports=i(e,require(\"unipointer\"))}else{e.Unidragger=i(e,e.Unipointer)}})(window,function t(r,e){function i(){}var n=i.prototype=Object.create(e.prototype);n.bindHandles=function(){this._bindHandles(true)};n.unbindHandles=function(){this._bindHandles(false)};n._bindHandles=function(t){t=t===undefined?true:t;var e=t?\"addEventListener\":\"removeEventListener\";var i=t?this._touchActionValue:\"\";for(var n=0;n<this.handles.length;n++){var s=this.handles[n];this._bindStartEvent(s,t);s[e](\"click\",this);if(r.PointerEvent){s.style.touchAction=i}}};n._touchActionValue=\"none\";n.pointerDown=function(t,e){var i=this.okayPointerDown(t);if(!i){return}this.pointerDownPointer={pageX:e.pageX,pageY:e.pageY};t.preventDefault();this.pointerDownBlur();this._bindPostStartEvents(t);this.emitEvent(\"pointerDown\",[t,e])};var s={TEXTAREA:true,INPUT:true,SELECT:true,OPTION:true};var o={radio:true,checkbox:true,button:true,submit:true,image:true,file:true};n.okayPointerDown=function(t){var e=s[t.target.nodeName];var i=o[t.target.type];var n=!e||i;if(!n){this._pointerReset()}return n};n.pointerDownBlur=function(){var t=document.activeElement;var e=t&&t.blur&&t!=document.body;if(e){t.blur()}};n.pointerMove=function(t,e){var i=this._dragPointerMove(t,e);this.emitEvent(\"pointerMove\",[t,e,i]);this._dragMove(t,e,i)};n._dragPointerMove=function(t,e){var i={x:e.pageX-this.pointerDownPointer.pageX,y:e.pageY-this.pointerDownPointer.pageY};if(!this.isDragging&&this.hasDragStarted(i)){this._dragStart(t,e)}return i};n.hasDragStarted=function(t){return Math.abs(t.x)>3||Math.abs(t.y)>3};n.pointerUp=function(t,e){this.emitEvent(\"pointerUp\",[t,e]);this._dragPointerUp(t,e)};n._dragPointerUp=function(t,e){if(this.isDragging){this._dragEnd(t,e)}else{this._staticClick(t,e)}};n._dragStart=function(t,e){this.isDragging=true;this.isPreventingClicks=true;this.dragStart(t,e)};n.dragStart=function(t,e){this.emitEvent(\"dragStart\",[t,e])};n._dragMove=function(t,e,i){if(!this.isDragging){return}this.dragMove(t,e,i)};n.dragMove=function(t,e,i){t.preventDefault();this.emitEvent(\"dragMove\",[t,e,i])};n._dragEnd=function(t,e){this.isDragging=false;setTimeout(function(){delete this.isPreventingClicks}.bind(this));this.dragEnd(t,e)};n.dragEnd=function(t,e){this.emitEvent(\"dragEnd\",[t,e])};n.onclick=function(t){if(this.isPreventingClicks){t.preventDefault()}};n._staticClick=function(t,e){if(this.isIgnoringMouseUp&&t.type==\"mouseup\"){return}this.staticClick(t,e);if(t.type!=\"mouseup\"){this.isIgnoringMouseUp=true;setTimeout(function(){delete this.isIgnoringMouseUp}.bind(this),400)}};n.staticClick=function(t,e){this.emitEvent(\"staticClick\",[t,e])};i.getPointerPoint=e.getPointerPoint;return i});(function(n,s){if(typeof define==\"function\"&&define.amd){define(\"flickity/js/drag\",[\"./flickity\",\"unidragger/unidragger\",\"fizzy-ui-utils/utils\"],function(t,e,i){return s(n,t,e,i)})}else if(typeof module==\"object\"&&module.exports){module.exports=s(n,require(\"./flickity\"),require(\"unidragger\"),require(\"fizzy-ui-utils\"))}else{n.Flickity=s(n,n.Flickity,n.Unidragger,n.fizzyUIUtils)}})(window,function t(n,e,i,a){a.extend(e.defaults,{draggable:\">1\",dragThreshold:3});e.createMethods.push(\"_createDrag\");var s=e.prototype;a.extend(s,i.prototype);s._touchActionValue=\"pan-y\";var r=\"createTouch\"in document;var o=false;s._createDrag=function(){this.on(\"activate\",this.onActivateDrag);this.on(\"uiChange\",this._uiChangeDrag);this.on(\"deactivate\",this.onDeactivateDrag);this.on(\"cellChange\",this.updateDraggable);if(r&&!o){n.addEventListener(\"touchmove\",function(){});o=true}};s.onActivateDrag=function(){this.handles=[this.viewport];this.bindHandles();this.updateDraggable()};s.onDeactivateDrag=function(){this.unbindHandles();this.element.classList.remove(\"is-draggable\")};s.updateDraggable=function(){if(this.options.draggable==\">1\"){this.isDraggable=this.slides.length>1}else{this.isDraggable=this.options.draggable}if(this.isDraggable){this.element.classList.add(\"is-draggable\")}else{this.element.classList.remove(\"is-draggable\")}};s.bindDrag=function(){this.options.draggable=true;this.updateDraggable()};s.unbindDrag=function(){this.options.draggable=false;this.updateDraggable()};s._uiChangeDrag=function(){delete this.isFreeScrolling};s.pointerDown=function(t,e){if(!this.isDraggable){this._pointerDownDefault(t,e);return}var i=this.okayPointerDown(t);if(!i){return}this._pointerDownPreventDefault(t);this.pointerDownFocus(t);if(document.activeElement!=this.element){this.pointerDownBlur()}this.dragX=this.x;this.viewport.classList.add(\"is-pointer-down\");this.pointerDownScroll=h();n.addEventListener(\"scroll\",this);this._pointerDownDefault(t,e)};s._pointerDownDefault=function(t,e){this.pointerDownPointer={pageX:e.pageX,pageY:e.pageY};this._bindPostStartEvents(t);this.dispatchEvent(\"pointerDown\",t,[e])};var l={INPUT:true,TEXTAREA:true,SELECT:true};s.pointerDownFocus=function(t){var e=l[t.target.nodeName];if(!e){this.focus()}};s._pointerDownPreventDefault=function(t){var e=t.type==\"touchstart\";var i=t.pointerType==\"touch\";var n=l[t.target.nodeName];if(!e&&!i&&!n){t.preventDefault()}};s.hasDragStarted=function(t){return Math.abs(t.x)>this.options.dragThreshold};s.pointerUp=function(t,e){delete this.isTouchScrolling;this.viewport.classList.remove(\"is-pointer-down\");this.dispatchEvent(\"pointerUp\",t,[e]);this._dragPointerUp(t,e)};s.pointerDone=function(){n.removeEventListener(\"scroll\",this);delete this.pointerDownScroll};s.dragStart=function(t,e){if(!this.isDraggable){return}this.dragStartPosition=this.x;this.startAnimation();n.removeEventListener(\"scroll\",this);this.dispatchEvent(\"dragStart\",t,[e])};s.pointerMove=function(t,e){var i=this._dragPointerMove(t,e);this.dispatchEvent(\"pointerMove\",t,[e,i]);this._dragMove(t,e,i)};s.dragMove=function(t,e,i){if(!this.isDraggable){return}t.preventDefault();this.previousDragX=this.dragX;var n=this.options.rightToLeft?-1:1;if(this.options.wrapAround){i.x%=this.slideableWidth}var s=this.dragStartPosition+i.x*n;if(!this.options.wrapAround&&this.slides.length){var r=Math.max(-this.slides[0].target,this.dragStartPosition);s=s>r?(s+r)*.5:s;var o=Math.min(-this.getLastSlide().target,this.dragStartPosition);s=s<o?(s+o)*.5:s}this.dragX=s;this.dragMoveTime=new Date;this.dispatchEvent(\"dragMove\",t,[e,i])};s.dragEnd=function(t,e){if(!this.isDraggable){return}if(this.options.freeScroll){this.isFreeScrolling=true}var i=this.dragEndRestingSelect();if(this.options.freeScroll&&!this.options.wrapAround){var n=this.getRestingPosition();this.isFreeScrolling=-n>this.slides[0].target&&-n<this.getLastSlide().target}else if(!this.options.freeScroll&&i==this.selectedIndex){i+=this.dragEndBoostSelect()}delete this.previousDragX;this.isDragSelect=this.options.wrapAround;this.select(i);delete this.isDragSelect;this.dispatchEvent(\"dragEnd\",t,[e])};s.dragEndRestingSelect=function(){var t=this.getRestingPosition();var e=Math.abs(this.getSlideDistance(-t,this.selectedIndex));var i=this._getClosestResting(t,e,1);var n=this._getClosestResting(t,e,-1);var s=i.distance<n.distance?i.index:n.index;return s};s._getClosestResting=function(t,e,i){var n=this.selectedIndex;var s=Infinity;var r=this.options.contain&&!this.options.wrapAround?function(t,e){return t<=e}:function(t,e){return t<e};while(r(e,s)){n+=i;s=e;e=this.getSlideDistance(-t,n);if(e===null){break}e=Math.abs(e)}return{distance:s,index:n-i}};s.getSlideDistance=function(t,e){var i=this.slides.length;var n=this.options.wrapAround&&i>1;var s=n?a.modulo(e,i):e;var r=this.slides[s];if(!r){return null}var o=n?this.slideableWidth*Math.floor(e/i):0;return t-(r.target+o)};s.dragEndBoostSelect=function(){if(this.previousDragX===undefined||!this.dragMoveTime||new Date-this.dragMoveTime>100){return 0}var t=this.getSlideDistance(-this.dragX,this.selectedIndex);var e=this.previousDragX-this.dragX;if(t>0&&e>0){return 1}else if(t<0&&e<0){return-1}return 0};s.staticClick=function(t,e){var i=this.getParentCell(t.target);var n=i&&i.element;var s=i&&this.cells.indexOf(i);this.dispatchEvent(\"staticClick\",t,[e,n,s])};s.onscroll=function(){var t=h();var e=this.pointerDownScroll.x-t.x;var i=this.pointerDownScroll.y-t.y;if(Math.abs(e)>3||Math.abs(i)>3){this._pointerDone()}};function h(){return{x:n.pageXOffset,y:n.pageYOffset}}return e});(function(n,s){if(typeof define==\"function\"&&define.amd){define(\"flickity/js/prev-next-button\",[\"./flickity\",\"unipointer/unipointer\",\"fizzy-ui-utils/utils\"],function(t,e,i){return s(n,t,e,i)})}else if(typeof module==\"object\"&&module.exports){module.exports=s(n,require(\"./flickity\"),require(\"unipointer\"),require(\"fizzy-ui-utils\"))}else{s(n,n.Flickity,n.Unipointer,n.fizzyUIUtils)}})(window,function t(e,i,n,s){\"use strict\";var r=\"http://www.w3.org/2000/svg\";function o(t,e){this.direction=t;this.parent=e;this._create()}o.prototype=Object.create(n.prototype);o.prototype._create=function(){this.isEnabled=true;this.isPrevious=this.direction==-1;var t=this.parent.options.rightToLeft?1:-1;this.isLeft=this.direction==t;var e=this.element=document.createElement(\"button\");e.className=\"flickity-button flickity-prev-next-button\";e.className+=this.isPrevious?\" previous\":\" next\";e.setAttribute(\"type\",\"button\");this.disable();e.setAttribute(\"aria-label\",this.isPrevious?\"Previous\":\"Next\");var i=this.createSVG();e.appendChild(i);this.parent.on(\"select\",this.update.bind(this));this.on(\"pointerDown\",this.parent.childUIPointerDown.bind(this.parent))};o.prototype.activate=function(){this.bindStartEvent(this.element);this.element.addEventListener(\"click\",this);this.parent.element.appendChild(this.element)};o.prototype.deactivate=function(){this.parent.element.removeChild(this.element);this.unbindStartEvent(this.element);this.element.removeEventListener(\"click\",this)};o.prototype.createSVG=function(){var t=document.createElementNS(r,\"svg\");t.setAttribute(\"class\",\"flickity-button-icon\");t.setAttribute(\"viewBox\",\"0 0 100 100\");var e=document.createElementNS(r,\"path\");var i=a(this.parent.options.arrowShape);e.setAttribute(\"d\",i);e.setAttribute(\"class\",\"arrow\");if(!this.isLeft){e.setAttribute(\"transform\",\"translate(100, 100) rotate(180) \")}t.appendChild(e);return t};function a(t){if(typeof t==\"string\"){return t}return\"M \"+t.x0+\",50\"+\" L \"+t.x1+\",\"+(t.y1+50)+\" L \"+t.x2+\",\"+(t.y2+50)+\" L \"+t.x3+\",50 \"+\" L \"+t.x2+\",\"+(50-t.y2)+\" L \"+t.x1+\",\"+(50-t.y1)+\" Z\"}o.prototype.handleEvent=s.handleEvent;o.prototype.onclick=function(){if(!this.isEnabled){return}this.parent.uiChange();var t=this.isPrevious?\"previous\":\"next\";this.parent[t]()};o.prototype.enable=function(){if(this.isEnabled){return}this.element.disabled=false;this.isEnabled=true};o.prototype.disable=function(){if(!this.isEnabled){return}this.element.disabled=true;this.isEnabled=false};o.prototype.update=function(){var t=this.parent.slides;if(this.parent.options.wrapAround&&t.length>1){this.enable();return}var e=t.length?t.length-1:0;var i=this.isPrevious?0:e;var n=this.parent.selectedIndex==i?\"disable\":\"enable\";this[n]()};o.prototype.destroy=function(){this.deactivate();this.allOff()};s.extend(i.defaults,{prevNextButtons:true,arrowShape:{x0:10,x1:60,y1:50,x2:70,y2:40,x3:30}});i.createMethods.push(\"_createPrevNextButtons\");var l=i.prototype;l._createPrevNextButtons=function(){if(!this.options.prevNextButtons){return}this.prevButton=new o(-1,this);this.nextButton=new o(1,this);this.on(\"activate\",this.activatePrevNextButtons)};l.activatePrevNextButtons=function(){this.prevButton.activate();this.nextButton.activate();this.on(\"deactivate\",this.deactivatePrevNextButtons)};l.deactivatePrevNextButtons=function(){this.prevButton.deactivate();this.nextButton.deactivate();this.off(\"deactivate\",this.deactivatePrevNextButtons)};i.PrevNextButton=o;return i});(function(n,s){if(typeof define==\"function\"&&define.amd){define(\"flickity/js/page-dots\",[\"./flickity\",\"unipointer/unipointer\",\"fizzy-ui-utils/utils\"],function(t,e,i){return s(n,t,e,i)})}else if(typeof module==\"object\"&&module.exports){module.exports=s(n,require(\"./flickity\"),require(\"unipointer\"),require(\"fizzy-ui-utils\"))}else{s(n,n.Flickity,n.Unipointer,n.fizzyUIUtils)}})(window,function t(e,i,n,s){function r(t){this.parent=t;this._create()}r.prototype=Object.create(n.prototype);r.prototype._create=function(){this.holder=document.createElement(\"ol\");this.holder.className=\"flickity-page-dots\";this.dots=[];this.handleClick=this.onClick.bind(this);this.on(\"pointerDown\",this.parent.childUIPointerDown.bind(this.parent))};r.prototype.activate=function(){this.setDots();this.holder.addEventListener(\"click\",this.handleClick);this.bindStartEvent(this.holder);this.parent.element.appendChild(this.holder)};r.prototype.deactivate=function(){this.holder.removeEventListener(\"click\",this.handleClick);this.unbindStartEvent(this.holder);this.parent.element.removeChild(this.holder)};r.prototype.setDots=function(){var t=this.parent.slides.length-this.dots.length;if(t>0){this.addDots(t)}else if(t<0){this.removeDots(-t)}};r.prototype.addDots=function(t){var e=document.createDocumentFragment();var i=[];var n=this.dots.length;var s=n+t;for(var r=n;r<s;r++){var o=document.createElement(\"li\");o.className=\"dot\";o.setAttribute(\"aria-label\",\"Page dot \"+(r+1));e.appendChild(o);i.push(o)}this.holder.appendChild(e);this.dots=this.dots.concat(i)};r.prototype.removeDots=function(t){var e=this.dots.splice(this.dots.length-t,t);e.forEach(function(t){this.holder.removeChild(t)},this)};r.prototype.updateSelected=function(){if(this.selectedDot){this.selectedDot.className=\"dot\";this.selectedDot.removeAttribute(\"aria-current\")}if(!this.dots.length){return}this.selectedDot=this.dots[this.parent.selectedIndex];this.selectedDot.className=\"dot is-selected\";this.selectedDot.setAttribute(\"aria-current\",\"step\")};r.prototype.onTap=r.prototype.onClick=function(t){var e=t.target;if(e.nodeName!=\"LI\"){return}this.parent.uiChange();var i=this.dots.indexOf(e);this.parent.select(i)};r.prototype.destroy=function(){this.deactivate();this.allOff()};i.PageDots=r;s.extend(i.defaults,{pageDots:true});i.createMethods.push(\"_createPageDots\");var o=i.prototype;o._createPageDots=function(){if(!this.options.pageDots){return}this.pageDots=new r(this);this.on(\"activate\",this.activatePageDots);this.on(\"select\",this.updateSelectedPageDots);this.on(\"cellChange\",this.updatePageDots);this.on(\"resize\",this.updatePageDots);this.on(\"deactivate\",this.deactivatePageDots)};o.activatePageDots=function(){this.pageDots.activate()};o.updateSelectedPageDots=function(){this.pageDots.updateSelected()};o.updatePageDots=function(){this.pageDots.setDots()};o.deactivatePageDots=function(){this.pageDots.deactivate()};i.PageDots=r;return i});(function(t,n){if(typeof define==\"function\"&&define.amd){define(\"flickity/js/player\",[\"ev-emitter/ev-emitter\",\"fizzy-ui-utils/utils\",\"./flickity\"],function(t,e,i){return n(t,e,i)})}else if(typeof module==\"object\"&&module.exports){module.exports=n(require(\"ev-emitter\"),require(\"fizzy-ui-utils\"),require(\"./flickity\"))}else{n(t.EvEmitter,t.fizzyUIUtils,t.Flickity)}})(window,function t(e,i,n){function s(t){this.parent=t;this.state=\"stopped\";this.onVisibilityChange=this.visibilityChange.bind(this);this.onVisibilityPlay=this.visibilityPlay.bind(this)}s.prototype=Object.create(e.prototype);s.prototype.play=function(){if(this.state==\"playing\"){return}var t=document.hidden;if(t){document.addEventListener(\"visibilitychange\",this.onVisibilityPlay);return}this.state=\"playing\";document.addEventListener(\"visibilitychange\",this.onVisibilityChange);this.tick()};s.prototype.tick=function(){if(this.state!=\"playing\"){return}var t=this.parent.options.autoPlay;t=typeof t==\"number\"?t:3e3;var e=this;this.clear();this.timeout=setTimeout(function(){e.parent.next(true);e.tick()},t)};s.prototype.stop=function(){this.state=\"stopped\";this.clear();document.removeEventListener(\"visibilitychange\",this.onVisibilityChange)};s.prototype.clear=function(){clearTimeout(this.timeout)};s.prototype.pause=function(){if(this.state==\"playing\"){this.state=\"paused\";this.clear()}};s.prototype.unpause=function(){if(this.state==\"paused\"){this.play()}};s.prototype.visibilityChange=function(){var t=document.hidden;this[t?\"pause\":\"unpause\"]()};s.prototype.visibilityPlay=function(){this.play();document.removeEventListener(\"visibilitychange\",this.onVisibilityPlay)};i.extend(n.defaults,{pauseAutoPlayOnHover:true});n.createMethods.push(\"_createPlayer\");var r=n.prototype;r._createPlayer=function(){this.player=new s(this);this.on(\"activate\",this.activatePlayer);this.on(\"uiChange\",this.stopPlayer);this.on(\"pointerDown\",this.stopPlayer);this.on(\"deactivate\",this.deactivatePlayer)};r.activatePlayer=function(){if(!this.options.autoPlay){return}this.player.play();this.element.addEventListener(\"mouseenter\",this)};r.playPlayer=function(){this.player.play()};r.stopPlayer=function(){this.player.stop()};r.pausePlayer=function(){this.player.pause()};r.unpausePlayer=function(){this.player.unpause()};r.deactivatePlayer=function(){this.player.stop();this.element.removeEventListener(\"mouseenter\",this)};r.onmouseenter=function(){if(!this.options.pauseAutoPlayOnHover){return}this.player.pause();this.element.addEventListener(\"mouseleave\",this)};r.onmouseleave=function(){this.player.unpause();this.element.removeEventListener(\"mouseleave\",this)};n.Player=s;return n});(function(i,n){if(typeof define==\"function\"&&define.amd){define(\"flickity/js/add-remove-cell\",[\"./flickity\",\"fizzy-ui-utils/utils\"],function(t,e){return n(i,t,e)})}else if(typeof module==\"object\"&&module.exports){module.exports=n(i,require(\"./flickity\"),require(\"fizzy-ui-utils\"))}else{n(i,i.Flickity,i.fizzyUIUtils)}})(window,function t(e,i,n){function l(t){var e=document.createDocumentFragment();t.forEach(function(t){e.appendChild(t.element)});return e}var s=i.prototype;s.insert=function(t,e){var i=this._makeCells(t);if(!i||!i.length){return}var n=this.cells.length;e=e===undefined?n:e;var s=l(i);var r=e==n;if(r){this.slider.appendChild(s)}else{var o=this.cells[e].element;this.slider.insertBefore(s,o)}if(e===0){this.cells=i.concat(this.cells)}else if(r){this.cells=this.cells.concat(i)}else{var a=this.cells.splice(e,n-e);this.cells=this.cells.concat(i).concat(a)}this._sizeCells(i);this.cellChange(e,true)};s.append=function(t){this.insert(t,this.cells.length)};s.prepend=function(t){this.insert(t,0)};s.remove=function(t){var e=this.getCells(t);if(!e||!e.length){return}var i=this.cells.length-1;e.forEach(function(t){t.remove();var e=this.cells.indexOf(t);i=Math.min(e,i);n.removeFrom(this.cells,t)},this);this.cellChange(i,true)};s.cellSizeChange=function(t){var e=this.getCell(t);if(!e){return}e.getSize();var i=this.cells.indexOf(e);this.cellChange(i)};s.cellChange=function(t,e){var i=this.selectedElement;this._positionCells(t);this._getWrapShiftCells();this.setGallerySize();var n=this.getCell(i);if(n){this.selectedIndex=this.getCellSlideIndex(n)}this.selectedIndex=Math.min(this.slides.length-1,this.selectedIndex);this.emitEvent(\"cellChange\",[t]);this.select(this.selectedIndex);if(e){this.positionSliderAtSelected()}};return i});(function(i,n){if(typeof define==\"function\"&&define.amd){define(\"flickity/js/lazyload\",[\"./flickity\",\"fizzy-ui-utils/utils\"],function(t,e){return n(i,t,e)})}else if(typeof module==\"object\"&&module.exports){module.exports=n(i,require(\"./flickity\"),require(\"fizzy-ui-utils\"))}else{n(i,i.Flickity,i.fizzyUIUtils)}})(window,function t(e,i,o){\"use strict\";i.createMethods.push(\"_createLazyload\");var n=i.prototype;n._createLazyload=function(){this.on(\"select\",this.lazyLoad)};n.lazyLoad=function(){var t=this.options.lazyLoad;if(!t){return}var e=typeof t==\"number\"?t:0;var i=this.getAdjacentCellElements(e);var n=[];i.forEach(function(t){var e=s(t);n=n.concat(e)});n.forEach(function(t){new r(t,this)},this)};function s(t){if(t.nodeName==\"IMG\"){var e=t.getAttribute(\"data-flickity-lazyload\");var i=t.getAttribute(\"data-flickity-lazyload-src\");var n=t.getAttribute(\"data-flickity-lazyload-srcset\");if(e||i||n){return[t]}}var s=\"img[data-flickity-lazyload], \"+\"img[data-flickity-lazyload-src], img[data-flickity-lazyload-srcset]\";var r=t.querySelectorAll(s);return o.makeArray(r)}function r(t,e){this.img=t;this.flickity=e;this.load()}r.prototype.handleEvent=o.handleEvent;r.prototype.load=function(){this.img.addEventListener(\"load\",this);this.img.addEventListener(\"error\",this);var t=this.img.getAttribute(\"data-flickity-lazyload\")||this.img.getAttribute(\"data-flickity-lazyload-src\");var e=this.img.getAttribute(\"data-flickity-lazyload-srcset\");this.img.src=t;if(e){this.img.setAttribute(\"srcset\",e)}this.img.removeAttribute(\"data-flickity-lazyload\");this.img.removeAttribute(\"data-flickity-lazyload-src\");this.img.removeAttribute(\"data-flickity-lazyload-srcset\")};r.prototype.onload=function(t){this.complete(t,\"flickity-lazyloaded\")};r.prototype.onerror=function(t){this.complete(t,\"flickity-lazyerror\")};r.prototype.complete=function(t,e){this.img.removeEventListener(\"load\",this);this.img.removeEventListener(\"error\",this);var i=this.flickity.getParentCell(this.img);var n=i&&i.element;this.flickity.cellSizeChange(n);this.img.classList.add(e);this.flickity.dispatchEvent(\"lazyLoad\",t,n)};i.LazyLoader=r;return i});\r\n/*!\r\n * Flickity v2.2.2\r\n * Touch, responsive, flickable carousels\r\n *\r\n * Licensed GPLv3 for open source use\r\n * or Flickity Commercial License for commercial use\r\n *\r\n * https://flickity.metafizzy.co\r\n * Copyright 2015-2021 Metafizzy\r\n */\r\n(function(t,e){if(typeof define==\"function\"&&define.amd){define(\"flickity/js/index\",[\"./flickity\",\"./drag\",\"./prev-next-button\",\"./page-dots\",\"./player\",\"./add-remove-cell\",\"./lazyload\"],e)}else if(typeof module==\"object\"&&module.exports){module.exports=e(require(\"./flickity\"),require(\"./drag\"),require(\"./prev-next-button\"),require(\"./page-dots\"),require(\"./player\"),require(\"./add-remove-cell\"),require(\"./lazyload\"))}})(window,function t(e){return e});\r\n/*!\r\n * Flickity asNavFor v2.0.2\r\n * enable asNavFor for Flickity\r\n */\r\n(function(t,e){if(typeof define==\"function\"&&define.amd){define(\"flickity-as-nav-for/as-nav-for\",[\"flickity/js/index\",\"fizzy-ui-utils/utils\"],e)}else if(typeof module==\"object\"&&module.exports){module.exports=e(require(\"flickity\"),require(\"fizzy-ui-utils\"))}else{t.Flickity=e(t.Flickity,t.fizzyUIUtils)}})(window,function t(n,s){n.createMethods.push(\"_createAsNavFor\");var e=n.prototype;e._createAsNavFor=function(){this.on(\"activate\",this.activateAsNavFor);this.on(\"deactivate\",this.deactivateAsNavFor);this.on(\"destroy\",this.destroyAsNavFor);var e=this.options.asNavFor;if(!e){return}var i=this;setTimeout(function t(){i.setNavCompanion(e)})};e.setNavCompanion=function(t){t=s.getQueryElement(t);var e=n.data(t);if(!e||e==this){return}this.navCompanion=e;var i=this;this.onNavCompanionSelect=function(){i.navCompanionSelect()};e.on(\"select\",this.onNavCompanionSelect);this.on(\"staticClick\",this.onNavStaticClick);this.navCompanionSelect(true)};e.navCompanionSelect=function(t){var e=this.navCompanion&&this.navCompanion.selectedCells;if(!e){return}var i=e[0];var n=this.navCompanion.cells.indexOf(i);var s=n+e.length-1;var r=Math.floor(a(n,s,this.navCompanion.cellAlign));this.selectCell(r,false,t);this.removeNavSelectedElements();if(r>=this.cells.length){return}var o=this.cells.slice(n,s+1);this.navSelectedElements=o.map(function(t){return t.element});this.changeNavSelectedClass(\"add\")};function a(t,e,i){return(e-t)*i+t}e.changeNavSelectedClass=function(e){this.navSelectedElements.forEach(function(t){t.classList[e](\"is-nav-selected\")})};e.activateAsNavFor=function(){this.navCompanionSelect(true)};e.removeNavSelectedElements=function(){if(!this.navSelectedElements){return}this.changeNavSelectedClass(\"remove\");delete this.navSelectedElements};e.onNavStaticClick=function(t,e,i,n){if(typeof n==\"number\"){this.navCompanion.selectCell(n)}};e.deactivateAsNavFor=function(){this.removeNavSelectedElements()};e.destroyAsNavFor=function(){if(!this.navCompanion){return}this.navCompanion.off(\"select\",this.onNavCompanionSelect);this.off(\"staticClick\",this.onNavStaticClick);delete this.navCompanion};return n});\r\n/*!\r\n * imagesLoaded v4.1.4\r\n * JavaScript is all like \"You images are done yet or what?\"\r\n * MIT License\r\n */\r\n(function(e,i){\"use strict\";if(typeof define==\"function\"&&define.amd){define(\"imagesloaded/imagesloaded\",[\"ev-emitter/ev-emitter\"],function(t){return i(e,t)})}else if(typeof module==\"object\"&&module.exports){module.exports=i(e,require(\"ev-emitter\"))}else{e.imagesLoaded=i(e,e.EvEmitter)}})(typeof window!==\"undefined\"?window:this,function t(e,i){var s=e.jQuery;var r=e.console;function o(t,e){for(var i in e){t[i]=e[i]}return t}var n=Array.prototype.slice;function a(t){if(Array.isArray(t)){return t}var e=typeof t==\"object\"&&typeof t.length==\"number\";if(e){return n.call(t)}return[t]}function l(t,e,i){if(!(this instanceof l)){return new l(t,e,i)}var n=t;if(typeof t==\"string\"){n=document.querySelectorAll(t)}if(!n){r.error(\"Bad element for imagesLoaded \"+(n||t));return}this.elements=a(n);this.options=o({},this.options);if(typeof e==\"function\"){i=e}else{o(this.options,e)}if(i){this.on(\"always\",i)}this.getImages();if(s){this.jqDeferred=new s.Deferred}setTimeout(this.check.bind(this))}l.prototype=Object.create(i.prototype);l.prototype.options={};l.prototype.getImages=function(){this.images=[];this.elements.forEach(this.addElementImages,this)};l.prototype.addElementImages=function(t){if(t.nodeName==\"IMG\"){this.addImage(t)}if(this.options.background===true){this.addElementBackgroundImages(t)}var e=t.nodeType;if(!e||!h[e]){return}var i=t.querySelectorAll(\"img\");for(var n=0;n<i.length;n++){var s=i[n];this.addImage(s)}if(typeof this.options.background==\"string\"){var r=t.querySelectorAll(this.options.background);for(n=0;n<r.length;n++){var o=r[n];this.addElementBackgroundImages(o)}}};var h={1:true,9:true,11:true};l.prototype.addElementBackgroundImages=function(t){var e=getComputedStyle(t);if(!e){return}var i=/url\\((['\"])?(.*?)\\1\\)/gi;var n=i.exec(e.backgroundImage);while(n!==null){var s=n&&n[2];if(s){this.addBackground(s,t)}n=i.exec(e.backgroundImage)}};l.prototype.addImage=function(t){var e=new c(t);this.images.push(e)};l.prototype.addBackground=function(t,e){var i=new u(t,e);this.images.push(i)};l.prototype.check=function(){var n=this;this.progressedCount=0;this.hasAnyBroken=false;if(!this.images.length){this.complete();return}function e(t,e,i){setTimeout(function(){n.progress(t,e,i)})}this.images.forEach(function(t){t.once(\"progress\",e);t.check()})};l.prototype.progress=function(t,e,i){this.progressedCount++;this.hasAnyBroken=this.hasAnyBroken||!t.isLoaded;this.emitEvent(\"progress\",[this,t,e]);if(this.jqDeferred&&this.jqDeferred.notify){this.jqDeferred.notify(this,t)}if(this.progressedCount==this.images.length){this.complete()}if(this.options.debug&&r){r.log(\"progress: \"+i,t,e)}};l.prototype.complete=function(){var t=this.hasAnyBroken?\"fail\":\"done\";this.isComplete=true;this.emitEvent(t,[this]);this.emitEvent(\"always\",[this]);if(this.jqDeferred){var e=this.hasAnyBroken?\"reject\":\"resolve\";this.jqDeferred[e](this)}};function c(t){this.img=t}c.prototype=Object.create(i.prototype);c.prototype.check=function(){var t=this.getIsImageComplete();if(t){this.confirm(this.img.naturalWidth!==0,\"naturalWidth\");return}this.proxyImage=new Image;this.proxyImage.addEventListener(\"load\",this);this.proxyImage.addEventListener(\"error\",this);this.img.addEventListener(\"load\",this);this.img.addEventListener(\"error\",this);this.proxyImage.src=this.img.src};c.prototype.getIsImageComplete=function(){return this.img.complete&&this.img.naturalWidth};c.prototype.confirm=function(t,e){this.isLoaded=t;this.emitEvent(\"progress\",[this,this.img,e])};c.prototype.handleEvent=function(t){var e=\"on\"+t.type;if(this[e]){this[e](t)}};c.prototype.onload=function(){this.confirm(true,\"onload\");this.unbindEvents()};c.prototype.onerror=function(){this.confirm(false,\"onerror\");this.unbindEvents()};c.prototype.unbindEvents=function(){this.proxyImage.removeEventListener(\"load\",this);this.proxyImage.removeEventListener(\"error\",this);this.img.removeEventListener(\"load\",this);this.img.removeEventListener(\"error\",this)};function u(t,e){this.url=t;this.element=e;this.img=new Image}u.prototype=Object.create(c.prototype);u.prototype.check=function(){this.img.addEventListener(\"load\",this);this.img.addEventListener(\"error\",this);this.img.src=this.url;var t=this.getIsImageComplete();if(t){this.confirm(this.img.naturalWidth!==0,\"naturalWidth\");this.unbindEvents()}};u.prototype.unbindEvents=function(){this.img.removeEventListener(\"load\",this);this.img.removeEventListener(\"error\",this)};u.prototype.confirm=function(t,e){this.isLoaded=t;this.emitEvent(\"progress\",[this,this.element,e])};l.makeJQueryPlugin=function(t){t=t||e.jQuery;if(!t){return}s=t;s.fn.imagesLoaded=function(t,e){var i=new l(this,t,e);return i.jqDeferred.promise(s(this))}};l.makeJQueryPlugin();return l});\r\n/*!\r\n * Flickity imagesLoaded v2.0.0\r\n * enables imagesLoaded option for Flickity\r\n */\r\n(function(i,n){if(typeof define==\"function\"&&define.amd){define([\"flickity/js/index\",\"imagesloaded/imagesloaded\"],function(t,e){return n(i,t,e)})}else if(typeof module==\"object\"&&module.exports){module.exports=n(i,require(\"flickity\"),require(\"imagesloaded\"))}else{i.Flickity=n(i,i.Flickity,i.imagesLoaded)}})(window,function t(e,i,s){\"use strict\";i.createMethods.push(\"_createImagesLoaded\");var n=i.prototype;n._createImagesLoaded=function(){this.on(\"activate\",this.imagesLoaded)};n.imagesLoaded=function(){if(!this.options.imagesLoaded){return}var n=this;function t(t,e){var i=n.getParentCell(e.img);n.cellSizeChange(i&&i.element);if(!n.options.freeScroll){n.positionSliderAtSelected()}}s(this.slider).on(\"progress\",t)};return i});"]}]}